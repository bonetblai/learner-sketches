Changing working directory:  /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/experiments/scripts/workspace-tractable/blocks_4_on_1
2024-09-14 14:04:41,826 - Constructing InstanceDatas...
2024-09-14 14:04:42,170 - Constructing GlobalFaithfulAbstractions...
2024-09-14 14:04:42,467 - ...done
2024-09-14 14:04:42,472 - Constructing StateSpaces...
2024-09-14 14:04:42,487 - ...done
/proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/tractable/blocks_4_on/training/easy/p-2-17.pddl /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/tractable/blocks_4_on/training/easy/p-2-17.pddl
2024-09-14 14:04:42,493 - Created InstanceData with num concrete states: 5 and num abstract states: 5
/proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/tractable/blocks_4_on/training/easy/p-3-19.pddl /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/tractable/blocks_4_on/training/easy/p-3-19.pddl
2024-09-14 14:04:42,495 - Created InstanceData with num concrete states: 22 and num abstract states: 22
/proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/tractable/blocks_4_on/training/easy/p-4-4.pddl /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/tractable/blocks_4_on/training/easy/p-4-4.pddl
2024-09-14 14:04:42,498 - Created InstanceData with num concrete states: 125 and num abstract states: 65
/proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/tractable/blocks_4_on/training/easy/p-5-29.pddl /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/tractable/blocks_4_on/training/easy/p-5-29.pddl
2024-09-14 14:04:42,514 - Created InstanceData with num concrete states: 866 and num abstract states: 157
2024-09-14 14:04:42,514 - ..done
2024-09-14 14:04:42,515 - Initializing TupleGraphs...
2024-09-14 14:04:42,557 - ..done
2024-09-14 14:04:42,557 - Iteration: 0
     id: 0 problem_filepath: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/tractable/blocks_4_on/training/easy/p-2-17.pddl num_states: 5 num_state_equivalences: 5
2024-09-14 14:04:42,558 - Initialize global faithful abstract states...
2024-09-14 14:04:42,559 - ..done
2024-09-14 14:04:42,559 - Initializing DomainFeatureData...
[t=1.00396s, 2500392 KB] Started generating base features of complexity 1.
[t=1.00435s, 2500392 KB] Complexity 1:
    b_nullary: 2
    c_one_of: 2
    c_top: 1
    c_bot: 1
    c_primitive: 3
    r_primitive: 2
    c_and: 0
    c_not: 0
    c_equal: 0
    c_some: 0
    c_all: 0
    r_restrict: 0
    r_and: 0
    r_inverse: 0
    r_transitive_closure: 0
    b_empty: 0
    n_count: 0
    n_concept_distance: 0
[t=1.00475s, 2500392 KB] Finished generating base features.
[t=1.0048s, 2500392 KB] Started generating composite features. 
[t=1.00507s, 2500392 KB] Complexity 2:
Total concept elements: 10
Total role elements: 4
Total numerical elements: 6
Total boolean elements: 4
    b_nullary: 2
    c_one_of: 2
    c_top: 1
    c_bot: 1
    c_primitive: 3
    r_primitive: 2
    c_and: 0
    c_not: 3
    c_equal: 0
    c_some: 0
    c_all: 0
    r_restrict: 0
    r_and: 0
    r_inverse: 2
    r_transitive_closure: 0
    b_empty: 2
    n_count: 6
    n_concept_distance: 0
[t=1.0058s, 2500392 KB] Complexity 3:
Total concept elements: 30
Total role elements: 10
Total numerical elements: 8
Total boolean elements: 5
    b_nullary: 2
    c_one_of: 2
    c_top: 1
    c_bot: 1
    c_primitive: 3
    r_primitive: 2
    c_and: 7
    c_not: 3
    c_equal: 1
    c_some: 6
    c_all: 6
    r_restrict: 6
    r_and: 0
    r_inverse: 2
    r_transitive_closure: 0
    b_empty: 3
    n_count: 8
    n_concept_distance: 0
[t=1.00647s, 2500392 KB] Complexity 4:
Total concept elements: 62
Total role elements: 15
Total numerical elements: 37
Total boolean elements: 15
    b_nullary: 2
    c_one_of: 2
    c_top: 1
    c_bot: 1
    c_primitive: 3
    r_primitive: 2
    c_and: 14
    c_not: 17
    c_equal: 1
    c_some: 11
    c_all: 12
    r_restrict: 6
    r_and: 0
    r_inverse: 7
    r_transitive_closure: 0
    b_empty: 13
    n_count: 24
    n_concept_distance: 13
[t=1.00901s, 2500392 KB] Complexity 5:
Total concept elements: 94
Total role elements: 15
Total numerical elements: 61
Total boolean elements: 22
    b_nullary: 2
    c_one_of: 2
    c_top: 1
    c_bot: 1
    c_primitive: 3
    r_primitive: 2
    c_and: 30
    c_not: 29
    c_equal: 1
    c_some: 13
    c_all: 14
    r_restrict: 6
    r_and: 0
    r_inverse: 7
    r_transitive_closure: 0
    b_empty: 20
    n_count: 39
    n_concept_distance: 22
[t=1.01087s, 2500392 KB] Complexity 6:
Total concept elements: 148
Total role elements: 15
Total numerical elements: 91
Total boolean elements: 27
    b_nullary: 2
    c_one_of: 2
    c_top: 1
    c_bot: 1
    c_primitive: 3
    r_primitive: 2
    c_and: 61
    c_not: 47
    c_equal: 1
    c_some: 14
    c_all: 18
    r_restrict: 6
    r_and: 0
    r_inverse: 7
    r_transitive_closure: 0
    b_empty: 25
    n_count: 53
    n_concept_distance: 38
[t=1.01372s, 2500392 KB] Complexity 7:
Total concept elements: 202
Total role elements: 15
Total numerical elements: 133
Total boolean elements: 31
    b_nullary: 2
    c_one_of: 2
    c_top: 1
    c_bot: 1
    c_primitive: 3
    r_primitive: 2
    c_and: 90
    c_not: 72
    c_equal: 1
    c_some: 14
    c_all: 18
    r_restrict: 6
    r_and: 0
    r_inverse: 7
    r_transitive_closure: 0
    b_empty: 29
    n_count: 77
    n_concept_distance: 56
[t=1.01897s, 2500392 KB] Complexity 8:
Total concept elements: 291
Total role elements: 15
Total numerical elements: 178
Total boolean elements: 32
    b_nullary: 2
    c_one_of: 2
    c_top: 1
    c_bot: 1
    c_primitive: 3
    r_primitive: 2
    c_and: 157
    c_not: 90
    c_equal: 1
    c_some: 14
    c_all: 22
    r_restrict: 6
    r_and: 0
    r_inverse: 7
    r_transitive_closure: 0
    b_empty: 30
    n_count: 98
    n_concept_distance: 80
[t=1.02677s, 2500392 KB] Complexity 9:
Total concept elements: 414
Total role elements: 15
Total numerical elements: 245
Total boolean elements: 32
    b_nullary: 2
    c_one_of: 2
    c_top: 1
    c_bot: 1
    c_primitive: 3
    r_primitive: 2
    c_and: 243
    c_not: 126
    c_equal: 1
    c_some: 14
    c_all: 23
    r_restrict: 6
    r_and: 0
    r_inverse: 7
    r_transitive_closure: 0
    b_empty: 30
    n_count: 135
    n_concept_distance: 110
[t=1.02711s, 2500392 KB] Finished generating composite features.
Features generated: 277
Features after relevant changes pruning (complete): 130
2024-09-14 14:04:42,745 - ..done
2024-09-14 14:04:42,745 - Constructing PerStateFeatureValuations...
2024-09-14 14:04:42,746 - ..done
2024-09-14 14:04:42,746 - Constructing StatePairEquivalenceDatas...
2024-09-14 14:04:42,766 - ..done
2024-09-14 14:04:42,766 - Constructing TupleGraphEquivalences...
Tuple graph equivalence construction statistics:
Num nodes: 25
2024-09-14 14:04:42,767 - ..done
2024-09-14 14:04:42,767 - Minimizing TupleGraphEquivalences...
Tuple graph equivalence minimization statistics:
Num orig nodes: 25
Num kept nodes: 25
2024-09-14 14:04:42,767 - ..done
Number of initial D2 facts: 50
Number of D2 facts: 50 of 625
2024-09-14 14:04:42,812 - Grounding Logic Program...
2024-09-14 14:04:42,854 - ..done
2024-09-14 14:04:42,854 - Solving Logic Program...
2024-09-14 14:04:42,859 - ..done
Clingo statistics:
{'call': 0.0, 'result': 1.0, 'signal': 0.0, 'exhausted': 1.0, 'costs': [0.0], 'lower': [0.0], 'concurrency': 32.0, 'winner': 19.0, 'times': {'total': 0.09071087837219238, 'cpu': 0.10492699999999999, 'solve': 0.002658843994140625, 'unsat': 0.0007588863372802734, 'sat': 0.0016260147094726562}, 'models': {'enumerated': 2.0, 'optimal': 1.0}}
Solution cost: [0.0]
Total time: 0.09071087837219238
CPU time: 0.10492699999999999
Solve time: 0.002658843994140625
2024-09-14 14:04:42,885 - Learned the following sketch:
(:policy
(:booleans )
(:numericals )
(:rule (:conditions ) (:effects ))
)
Numer of sketch rules: 1
Number of selected features: 0
Maximum complexity of selected feature: 0
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/tractable/blocks_4_on/training/easy/p-2-17.pddl
Sketch cycles
Instance: 0
4
4
Number of unsatisfied D2 facts: 100
Number of D2 facts: 150 of 625
2024-09-14 14:04:43,032 - Grounding Logic Program...
2024-09-14 14:04:43,093 - ..done
2024-09-14 14:04:43,093 - Solving Logic Program...
2024-09-14 14:04:43,100 - ..done
Clingo statistics:
{'call': 0.0, 'result': 1.0, 'signal': 0.0, 'exhausted': 1.0, 'costs': [5.0], 'lower': [5.0], 'concurrency': 32.0, 'winner': 30.0, 'times': {'total': 0.2136828899383545, 'cpu': 0.24021500000000007, 'solve': 0.0028839111328125, 'unsat': 0.0011038780212402344, 'sat': 0.0016138553619384766}, 'models': {'enumerated': 3.0, 'optimal': 1.0}}
Solution cost: [5.0]
Total time: 0.2136828899383545
CPU time: 0.24021500000000007
Solve time: 0.0028839111328125
2024-09-14 14:04:43,124 - Learned the following sketch:
(:policy
(:booleans )
(:numericals (f16 "n_count(c_all(r_primitive(on,0,1),c_one_of(b1)))"))
(:rule (:conditions (:c_n_gt f16)) (:effects (:e_n_bot f16)))
(:rule (:conditions (:c_n_gt f16)) (:effects (:e_n_dec f16)))
)
Numer of sketch rules: 2
Number of selected features: 1
Maximum complexity of selected feature: 4
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/tractable/blocks_4_on/training/easy/p-2-17.pddl
Sketch cycles
Instance: 0
4
4
Number of unsatisfied D2 facts: 19
Number of D2 facts: 169 of 625
2024-09-14 14:04:43,262 - Grounding Logic Program...
2024-09-14 14:04:43,327 - ..done
2024-09-14 14:04:43,327 - Solving Logic Program...
2024-09-14 14:04:43,336 - ..done
Clingo statistics:
{'call': 0.0, 'result': 1.0, 'signal': 0.0, 'exhausted': 1.0, 'costs': [5.0], 'lower': [5.0], 'concurrency': 32.0, 'winner': 12.0, 'times': {'total': 0.2111978530883789, 'cpu': 0.2573109999999996, 'solve': 0.004822969436645508, 'unsat': 0.0023767948150634766, 'sat': 0.0017571449279785156}, 'models': {'enumerated': 5.0, 'optimal': 1.0}}
Solution cost: [5.0]
Total time: 0.2111978530883789
CPU time: 0.2573109999999996
Solve time: 0.004822969436645508
2024-09-14 14:04:43,363 - Learned the following sketch:
(:policy
(:booleans )
(:numericals (f15 "n_count(c_some(r_primitive(on,0,1),c_one_of(b2)))"))
(:rule (:conditions (:c_n_eq f15)) (:effects (:e_n_inc f15)))
(:rule (:conditions (:c_n_eq f15)) (:effects (:e_n_bot f15)))
)
Numer of sketch rules: 2
Number of selected features: 1
Maximum complexity of selected feature: 4
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/tractable/blocks_4_on/training/easy/p-2-17.pddl
Sketch cycles
Instance: 0
4
4
Number of unsatisfied D2 facts: 42
Number of D2 facts: 211 of 625
2024-09-14 14:04:43,511 - Grounding Logic Program...
2024-09-14 14:04:43,584 - ..done
2024-09-14 14:04:43,584 - Solving Logic Program...
2024-09-14 14:04:43,594 - ..done
Clingo statistics:
{'call': 0.0, 'result': 1.0, 'signal': 0.0, 'exhausted': 1.0, 'costs': [5.0], 'lower': [5.0], 'concurrency': 32.0, 'winner': 30.0, 'times': {'total': 0.22942495346069336, 'cpu': 0.2931860000000004, 'solve': 0.004478931427001953, 'unsat': 0.0016720294952392578, 'sat': 0.0018529891967773438}, 'models': {'enumerated': 5.0, 'optimal': 1.0}}
Solution cost: [5.0]
Total time: 0.22942495346069336
CPU time: 0.2931860000000004
Solve time: 0.004478931427001953
2024-09-14 14:04:43,622 - Learned the following sketch:
(:policy
(:booleans )
(:numericals (f13 "n_count(c_equal(r_primitive(on,0,1),r_primitive(on_g,0,1)))"))
(:rule (:conditions (:c_n_eq f13)) (:effects (:e_n_inc f13)))
(:rule (:conditions (:c_n_gt f13)) (:effects (:e_n_inc f13)))
(:rule (:conditions (:c_n_gt f13)) (:effects (:e_n_bot f13)))
)
Numer of sketch rules: 3
Number of selected features: 1
Maximum complexity of selected feature: 4
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/tractable/blocks_4_on/training/easy/p-2-17.pddl
Sketch cycles
Instance: 0
1
4
1
Number of unsatisfied D2 facts: 9
Number of D2 facts: 220 of 625
2024-09-14 14:04:43,761 - Grounding Logic Program...
2024-09-14 14:04:43,835 - ..done
2024-09-14 14:04:43,835 - Solving Logic Program...
2024-09-14 14:04:43,845 - ..done
Clingo statistics:
{'call': 0.0, 'result': 1.0, 'signal': 0.0, 'exhausted': 1.0, 'costs': [5.0], 'lower': [5.0], 'concurrency': 32.0, 'winner': 9.0, 'times': {'total': 0.22168684005737305, 'cpu': 0.2548840000000001, 'solve': 0.0037298202514648438, 'unsat': 0.0017979145050048828, 'sat': 0.0018849372863769531}, 'models': {'enumerated': 2.0, 'optimal': 1.0}}
Solution cost: [5.0]
Total time: 0.22168684005737305
CPU time: 0.2548840000000001
Solve time: 0.0037298202514648438
2024-09-14 14:04:43,871 - Learned the following sketch:
(:policy
(:booleans )
(:numericals (f16 "n_count(c_all(r_primitive(on,0,1),c_one_of(b1)))"))
(:rule (:conditions (:c_n_gt f16)) (:effects (:e_n_dec f16)))
)
Numer of sketch rules: 1
Number of selected features: 1
Maximum complexity of selected feature: 4
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/tractable/blocks_4_on/training/easy/p-2-17.pddl
2024-09-14 14:04:43,872 - Verifying learned sketch...
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/tractable/blocks_4_on/training/easy/p-2-17.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/tractable/blocks_4_on/training/easy/p-2-17.pddl
Sketch fails to bound width of a state
/proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/tractable/blocks_4_on/training/easy/p-3-19.pddl
Instance: 1
Source_state: 26
Dlplan state: (instance index=1, state index=21, atoms={arm-empty(), on-table(b1), on(b2,b1), clear(b3), on(b3,b2)})
2024-09-14 14:04:43,874 - ..done
Smallest unsolved instance: 1
Selected instances: [1]
2024-09-14 14:04:43,874 - Iteration: 1
     id: 1 problem_filepath: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/tractable/blocks_4_on/training/easy/p-3-19.pddl num_states: 22 num_state_equivalences: 22
2024-09-14 14:04:43,876 - Initialize global faithful abstract states...
2024-09-14 14:04:43,876 - ..done
2024-09-14 14:04:43,876 - Initializing DomainFeatureData...
[t=2.32156s, 2500392 KB] Started generating base features of complexity 1.
[t=2.32175s, 2500392 KB] Complexity 1:
    b_nullary: 2
    c_one_of: 2
    c_top: 1
    c_bot: 1
    c_primitive: 3
    r_primitive: 2
    c_and: 0
    c_not: 0
    c_equal: 0
    c_some: 0
    c_all: 0
    r_restrict: 0
    r_and: 0
    r_inverse: 0
    r_transitive_closure: 0
    b_empty: 0
    n_count: 0
    n_concept_distance: 0
[t=2.32207s, 2500392 KB] Finished generating base features.
[t=2.32212s, 2500392 KB] Started generating composite features. 
[t=2.3223s, 2500392 KB] Complexity 2:
Total concept elements: 12
Total role elements: 5
Total numerical elements: 6
Total boolean elements: 4
    b_nullary: 2
    c_one_of: 2
    c_top: 1
    c_bot: 1
    c_primitive: 3
    r_primitive: 2
    c_and: 0
    c_not: 5
    c_equal: 0
    c_some: 0
    c_all: 0
    r_restrict: 0
    r_and: 0
    r_inverse: 2
    r_transitive_closure: 1
    b_empty: 2
    n_count: 6
    n_concept_distance: 0
[t=2.32311s, 2500392 KB] Complexity 3:
Total concept elements: 34
Total role elements: 14
Total numerical elements: 10
Total boolean elements: 5
    b_nullary: 2
    c_one_of: 2
    c_top: 1
    c_bot: 1
    c_primitive: 3
    r_primitive: 2
    c_and: 7
    c_not: 5
    c_equal: 1
    c_some: 7
    c_all: 7
    r_restrict: 7
    r_and: 1
    r_inverse: 3
    r_transitive_closure: 1
    b_empty: 3
    n_count: 10
    n_concept_distance: 0
[t=2.32429s, 2500392 KB] Complexity 4:
Total concept elements: 86
Total role elements: 21
Total numerical elements: 42
Total boolean elements: 16
    b_nullary: 2
    c_one_of: 2
    c_top: 1
    c_bot: 1
    c_primitive: 3
    r_primitive: 2
    c_and: 21
    c_not: 25
    c_equal: 1
    c_some: 16
    c_all: 16
    r_restrict: 7
    r_and: 1
    r_inverse: 10
    r_transitive_closure: 1
    b_empty: 14
    n_count: 29
    n_concept_distance: 13
[t=2.32721s, 2500392 KB] Complexity 5:
Total concept elements: 212
Total role elements: 21
Total numerical elements: 90
Total boolean elements: 34
    b_nullary: 2
    c_one_of: 2
    c_top: 1
    c_bot: 1
    c_primitive: 3
    r_primitive: 2
    c_and: 66
    c_not: 55
    c_equal: 1
    c_some: 39
    c_all: 44
    r_restrict: 7
    r_and: 1
    r_inverse: 10
    r_transitive_closure: 1
    b_empty: 32
    n_count: 66
    n_concept_distance: 24
[t=2.33391s, 2500392 KB] Complexity 6:
Total concept elements: 532
Total role elements: 21
Total numerical elements: 235
Total boolean elements: 85
    b_nullary: 2
    c_one_of: 2
    c_top: 1
    c_bot: 1
    c_primitive: 3
    r_primitive: 2
    c_and: 199
    c_not: 145
    c_equal: 1
    c_some: 74
    c_all: 106
    r_restrict: 7
    r_and: 1
    r_inverse: 10
    r_transitive_closure: 1
    b_empty: 83
    n_count: 164
    n_concept_distance: 71
[t=2.3503s, 2500392 KB] Complexity 7:
Total concept elements: 1202
Total role elements: 21
Total numerical elements: 551
Total boolean elements: 180
    b_nullary: 2
    c_one_of: 2
    c_top: 1
    c_bot: 1
    c_primitive: 3
    r_primitive: 2
    c_and: 497
    c_not: 328
    c_equal: 1
    c_some: 158
    c_all: 211
    r_restrict: 7
    r_and: 1
    r_inverse: 10
    r_transitive_closure: 1
    b_empty: 178
    n_count: 398
    n_concept_distance: 153
[t=2.3943s, 2500392 KB] Complexity 8:
Total concept elements: 2712
Total role elements: 21
Total numerical elements: 1200
Total boolean elements: 351
    b_nullary: 2
    c_one_of: 2
    c_top: 1
    c_bot: 1
    c_primitive: 3
    r_primitive: 2
    c_and: 1269
    c_not: 750
    c_equal: 1
    c_some: 282
    c_all: 403
    r_restrict: 7
    r_and: 1
    r_inverse: 10
    r_transitive_closure: 1
    b_empty: 349
    n_count: 870
    n_concept_distance: 330
[t=2.50528s, 2500392 KB] Complexity 9:
Total concept elements: 5797
Total role elements: 21
Total numerical elements: 2629
Total boolean elements: 676
    b_nullary: 2
    c_one_of: 2
    c_top: 1
    c_bot: 1
    c_primitive: 3
    r_primitive: 2
    c_and: 2990
    c_not: 1571
    c_equal: 1
    c_some: 499
    c_all: 729
    r_restrict: 7
    r_and: 1
    r_inverse: 10
    r_transitive_closure: 1
    b_empty: 674
    n_count: 1937
    n_concept_distance: 692
[t=2.50564s, 2500392 KB] Finished generating composite features.
Features generated: 3305
Features after relevant changes pruning (complete): 2272
2024-09-14 14:04:57,330 - ..done
2024-09-14 14:04:57,330 - Constructing PerStateFeatureValuations...
2024-09-14 14:04:57,371 - ..done
2024-09-14 14:04:57,372 - Constructing StatePairEquivalenceDatas...
2024-09-14 14:05:02,337 - ..done
2024-09-14 14:05:02,337 - Constructing TupleGraphEquivalences...
Tuple graph equivalence construction statistics:
Num nodes: 178
2024-09-14 14:05:02,343 - ..done
2024-09-14 14:05:02,343 - Minimizing TupleGraphEquivalences...
Tuple graph equivalence minimization statistics:
Num orig nodes: 178
Num kept nodes: 178
2024-09-14 14:05:02,345 - ..done
Number of initial D2 facts: 1053
Number of D2 facts: 1053 of 92416
2024-09-14 14:05:12,238 - Grounding Logic Program...
2024-09-14 14:05:21,994 - ..done
2024-09-14 14:05:22,114 - Solving Logic Program...
2024-09-14 14:05:22,795 - ..done
Clingo statistics:
{'call': 0.0, 'result': 1.0, 'signal': 0.0, 'exhausted': 1.0, 'costs': [5.0], 'lower': [5.0], 'concurrency': 32.0, 'winner': 3.0, 'times': {'total': 20.408353090286255, 'cpu': 22.646578, 'solve': 0.10848498344421387, 'unsat': 0.03947591781616211, 'sat': 0.02449488639831543}, 'models': {'enumerated': 48.0, 'optimal': 1.0}}
Solution cost: [5.0]
Total time: 20.408353090286255
CPU time: 22.646578
Solve time: 0.10848498344421387
2024-09-14 14:05:27,006 - Learned the following sketch:
(:policy
(:booleans )
(:numericals (f13 "n_count(c_equal(r_primitive(on,0,1),r_primitive(on_g,0,1)))"))
(:rule (:conditions (:c_n_gt f13)) (:effects (:e_n_bot f13)))
(:rule (:conditions (:c_n_gt f13)) (:effects (:e_n_inc f13)))
(:rule (:conditions (:c_n_eq f13)) (:effects (:e_n_inc f13)))
(:rule (:conditions (:c_n_gt f13)) (:effects (:e_n_dec f13)))
)
Numer of sketch rules: 4
Number of selected features: 1
Maximum complexity of selected feature: 4
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/tractable/blocks_4_on/training/easy/p-3-19.pddl
Sketch cycles
Instance: 1
25
25
Number of unsatisfied D2 facts: 3115
Number of D2 facts: 4168 of 92416
2024-09-14 14:05:58,020 - Grounding Logic Program...
2024-09-14 14:06:19,310 - ..done
2024-09-14 14:06:19,310 - Solving Logic Program...
2024-09-14 14:06:22,493 - ..done
Clingo statistics:
{'call': 0.0, 'result': 1.0, 'signal': 0.0, 'exhausted': 1.0, 'costs': [6.0], 'lower': [6.0], 'concurrency': 32.0, 'winner': 12.0, 'times': {'total': 55.434141874313354, 'cpu': 99.76928400000001, 'solve': 1.8718090057373047, 'unsat': 0.5083920955657959, 'sat': 0.12123703956604004}, 'models': {'enumerated': 54.0, 'optimal': 1.0}}
Solution cost: [6.0]
Total time: 55.434141874313354
CPU time: 99.76928400000001
Solve time: 1.8718090057373047
2024-09-14 14:06:27,098 - Learned the following sketch:
(:policy
(:booleans )
(:numericals (f36 "n_count(c_and(c_primitive(on-table,0),c_not(c_one_of(b2))))"))
(:rule (:conditions (:c_n_gt f36)) (:effects (:e_n_bot f36)))
(:rule (:conditions (:c_n_gt f36)) (:effects (:e_n_dec f36)))
(:rule (:conditions (:c_n_gt f36)) (:effects (:e_n_inc f36)))
(:rule (:conditions (:c_n_eq f36)) (:effects (:e_n_inc f36)))
)
Numer of sketch rules: 4
Number of selected features: 1
Maximum complexity of selected feature: 5
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/tractable/blocks_4_on/training/easy/p-3-19.pddl
Sketch cycles
Instance: 1
26
26
Number of unsatisfied D2 facts: 2795
Number of D2 facts: 6963 of 92416
2024-09-14 14:06:58,034 - Grounding Logic Program...
2024-09-14 14:07:30,174 - ..done
2024-09-14 14:07:30,174 - Solving Logic Program...
2024-09-14 14:07:44,818 - ..done
Clingo statistics:
{'call': 0.0, 'result': 1.0, 'signal': 0.0, 'exhausted': 1.0, 'costs': [7.0], 'lower': [7.0], 'concurrency': 32.0, 'winner': 14.0, 'times': {'total': 77.66671395301819, 'cpu': 364.2905820000001, 'solve': 12.516571998596191, 'unsat': 1.0101540088653564, 'sat': 0.16022014617919922}, 'models': {'enumerated': 68.0, 'optimal': 1.0}}
Solution cost: [7.0]
Total time: 77.66671395301819
CPU time: 364.2905820000001
Solve time: 12.516571998596191
2024-09-14 14:07:49,675 - Learned the following sketch:
(:policy
(:booleans )
(:numericals (f95 "n_count(c_and(c_not(c_primitive(on-table,0)),c_not(c_one_of(b1))))"))
(:rule (:conditions (:c_n_gt f95)) (:effects (:e_n_dec f95)))
(:rule (:conditions (:c_n_eq f95)) (:effects (:e_n_bot f95)))
(:rule (:conditions (:c_n_gt f95)) (:effects (:e_n_bot f95)))
)
Numer of sketch rules: 3
Number of selected features: 1
Maximum complexity of selected feature: 6
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/tractable/blocks_4_on/training/easy/p-3-19.pddl
Sketch cycles
Instance: 1
26
26
Number of unsatisfied D2 facts: 544
Number of D2 facts: 7507 of 92416
2024-09-14 14:08:20,918 - Grounding Logic Program...
2024-09-14 14:08:54,885 - ..done
2024-09-14 14:08:54,885 - Solving Logic Program...
2024-09-14 14:09:04,514 - ..done
Clingo statistics:
{'call': 0.0, 'result': 1.0, 'signal': 0.0, 'exhausted': 1.0, 'costs': [8.0], 'lower': [8.0], 'concurrency': 32.0, 'winner': 24.0, 'times': {'total': 74.77683687210083, 'cpu': 241.75065600000005, 'solve': 7.419034004211426, 'unsat': 1.6118078231811523, 'sat': 0.1844501495361328}, 'models': {'enumerated': 47.0, 'optimal': 1.0}}
Solution cost: [8.0]
Total time: 74.77683687210083
CPU time: 241.75065600000005
Solve time: 7.419034004211426
2024-09-14 14:09:09,453 - Learned the following sketch:
(:policy
(:booleans )
(:numericals (f1 "n_count(c_primitive(on-table,0))") (f21 "n_count(r_and(r_primitive(on,0,1),r_primitive(on_g,0,1)))"))
(:rule (:conditions (:c_n_gt f1) (:c_n_eq f21)) (:effects (:e_n_inc f1) (:e_n_bot f21)))
(:rule (:conditions (:c_n_gt f1) (:c_n_eq f21)) (:effects (:e_n_dec f1) (:e_n_inc f21)))
(:rule (:conditions (:c_n_gt f1) (:c_n_eq f21)) (:effects (:e_n_bot f1) (:e_n_inc f21)))
(:rule (:conditions (:c_n_gt f1) (:c_n_eq f21)) (:effects (:e_n_bot f1) (:e_n_bot f21)))
(:rule (:conditions (:c_n_gt f1) (:c_n_gt f21)) (:effects (:e_n_inc f1) (:e_n_bot f21)))
(:rule (:conditions (:c_n_gt f1) (:c_n_eq f21)) (:effects (:e_n_inc f1) (:e_n_inc f21)))
)
Numer of sketch rules: 6
Number of selected features: 2
Maximum complexity of selected feature: 4
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/tractable/blocks_4_on/training/easy/p-3-19.pddl
Sketch cycles
Instance: 1
26
26
Number of unsatisfied D2 facts: 900
Number of D2 facts: 8407 of 92416
2024-09-14 14:09:39,943 - Grounding Logic Program...
2024-09-14 14:10:17,145 - ..done
2024-09-14 14:10:17,145 - Solving Logic Program...
2024-09-14 14:10:32,161 - ..done
Clingo statistics:
{'call': 0.0, 'result': 1.0, 'signal': 0.0, 'exhausted': 1.0, 'costs': [8.0], 'lower': [8.0], 'concurrency': 32.0, 'winner': 19.0, 'times': {'total': 82.64120078086853, 'cpu': 372.65741200000014, 'solve': 12.552258968353271, 'unsat': 2.4380669593811035, 'sat': 0.21454811096191406}, 'models': {'enumerated': 56.0, 'optimal': 1.0}}
Solution cost: [8.0]
Total time: 82.64120078086853
CPU time: 372.65741200000014
Solve time: 12.552258968353271
2024-09-14 14:10:36,836 - Learned the following sketch:
(:policy
(:booleans )
(:numericals (f2 "n_count(c_primitive(holding,0))") (f13 "n_count(c_equal(r_primitive(on,0,1),r_primitive(on_g,0,1)))"))
(:rule (:conditions (:c_n_eq f2) (:c_n_gt f13)) (:effects (:e_n_bot f2) (:e_n_inc f13)))
(:rule (:conditions (:c_n_gt f2) (:c_n_gt f13)) (:effects (:e_n_dec f2) (:e_n_dec f13)))
(:rule (:conditions (:c_n_gt f2) (:c_n_gt f13)) (:effects (:e_n_dec f2) (:e_n_bot f13)))
(:rule (:conditions (:c_n_gt f2) (:c_n_gt f13)) (:effects (:e_n_bot f2) (:e_n_inc f13)))
(:rule (:conditions (:c_n_gt f2) (:c_n_gt f13)) (:effects (:e_n_bot f2) (:e_n_bot f13)))
(:rule (:conditions (:c_n_eq f2) (:c_n_eq f13)) (:effects (:e_n_bot f2) (:e_n_inc f13)))
(:rule (:conditions (:c_n_gt f2) (:c_n_gt f13)) (:effects (:e_n_dec f2) (:e_n_inc f13)))
)
Numer of sketch rules: 7
Number of selected features: 2
Maximum complexity of selected feature: 4
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/tractable/blocks_4_on/training/easy/p-3-19.pddl
Sketch cycles
Instance: 1
24
24
Number of unsatisfied D2 facts: 96
Number of D2 facts: 8503 of 92416
2024-09-14 14:11:08,065 - Grounding Logic Program...
2024-09-14 14:11:45,348 - ..done
2024-09-14 14:11:45,348 - Solving Logic Program...
2024-09-14 14:12:06,994 - ..done
Clingo statistics:
{'call': 0.0, 'result': 1.0, 'signal': 0.0, 'exhausted': 1.0, 'costs': [8.0], 'lower': [8.0], 'concurrency': 32.0, 'winner': 26.0, 'times': {'total': 90.09243106842041, 'cpu': 510.917461, 'solve': 19.132280111312866, 'unsat': 1.6167402267456055, 'sat': 0.22294306755065918}, 'models': {'enumerated': 61.0, 'optimal': 1.0}}
Solution cost: [8.0]
Total time: 90.09243106842041
CPU time: 510.917461
Solve time: 19.132280111312866
2024-09-14 14:12:11,772 - Learned the following sketch:
(:policy
(:booleans )
(:numericals (f2 "n_count(c_primitive(holding,0))") (f13 "n_count(c_equal(r_primitive(on,0,1),r_primitive(on_g,0,1)))"))
(:rule (:conditions (:c_n_eq f2) (:c_n_gt f13)) (:effects (:e_n_bot f2) (:e_n_inc f13)))
(:rule (:conditions (:c_n_gt f2) (:c_n_gt f13)) (:effects (:e_n_dec f2) (:e_n_dec f13)))
(:rule (:conditions (:c_n_gt f2) (:c_n_gt f13)) (:effects (:e_n_dec f2) (:e_n_bot f13)))
(:rule (:conditions (:c_n_gt f2) (:c_n_gt f13)) (:effects (:e_n_bot f2) (:e_n_inc f13)))
(:rule (:conditions (:c_n_eq f2) (:c_n_eq f13)) (:effects (:e_n_bot f2) (:e_n_inc f13)))
(:rule (:conditions (:c_n_eq f2) (:c_n_gt f13)) (:effects (:e_n_inc f2) (:e_n_inc f13)))
(:rule (:conditions (:c_n_eq f2) (:c_n_eq f13)) (:effects (:e_n_inc f2) (:e_n_inc f13)))
)
Numer of sketch rules: 7
Number of selected features: 2
Maximum complexity of selected feature: 4
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/tractable/blocks_4_on/training/easy/p-3-19.pddl
Sketch cycles
Instance: 1
22
23
23
Number of unsatisfied D2 facts: 128
Number of D2 facts: 8631 of 92416
2024-09-14 14:12:42,069 - Grounding Logic Program...
2024-09-14 14:13:20,303 - ..done
2024-09-14 14:13:20,303 - Solving Logic Program...
2024-09-14 14:13:42,954 - ..done
Clingo statistics:
{'call': 0.0, 'result': 1.0, 'signal': 0.0, 'exhausted': 1.0, 'costs': [8.0], 'lower': [8.0], 'concurrency': 32.0, 'winner': 12.0, 'times': {'total': 91.11618995666504, 'cpu': 447.2197879999999, 'solve': 20.067660093307495, 'unsat': 1.645956039428711, 'sat': 0.23898911476135254}, 'models': {'enumerated': 67.0, 'optimal': 1.0}}
Solution cost: [8.0]
Total time: 91.11618995666504
CPU time: 447.2197879999999
Solve time: 20.067660093307495
2024-09-14 14:13:47,489 - Learned the following sketch:
(:policy
(:booleans (f5 "b_nullary(arm-empty)"))
(:numericals (f13 "n_count(c_equal(r_primitive(on,0,1),r_primitive(on_g,0,1)))"))
(:rule (:conditions (:c_b_pos f5) (:c_n_gt f13)) (:effects (:e_b_bot f5) (:e_n_inc f13)))
(:rule (:conditions (:c_b_neg f5) (:c_n_gt f13)) (:effects (:e_b_pos f5) (:e_n_bot f13)))
(:rule (:conditions (:c_b_neg f5) (:c_n_gt f13)) (:effects (:e_b_pos f5) (:e_n_dec f13)))
(:rule (:conditions (:c_b_pos f5) (:c_n_eq f13)) (:effects (:e_b_bot f5) (:e_n_inc f13)))
(:rule (:conditions (:c_b_pos f5) (:c_n_eq f13)) (:effects (:e_b_neg f5) (:e_n_inc f13)))
(:rule (:conditions (:c_b_pos f5) (:c_n_gt f13)) (:effects (:e_b_bot f5) (:e_n_bot f13)))
)
Numer of sketch rules: 6
Number of selected features: 2
Maximum complexity of selected feature: 4
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/tractable/blocks_4_on/training/easy/p-3-19.pddl
Sketch cycles
Instance: 1
25
25
Number of unsatisfied D2 facts: 117
Number of D2 facts: 8748 of 92416
2024-09-14 14:14:17,860 - Grounding Logic Program...
2024-09-14 14:14:56,098 - ..done
2024-09-14 14:14:56,098 - Solving Logic Program...
2024-09-14 14:15:26,577 - ..done
Clingo statistics:
{'call': 0.0, 'result': 1.0, 'signal': 0.0, 'exhausted': 1.0, 'costs': [8.0], 'lower': [8.0], 'concurrency': 32.0, 'winner': 9.0, 'times': {'total': 99.02060294151306, 'cpu': 700.587258, 'solve': 27.96563196182251, 'unsat': 2.2260489463806152, 'sat': 0.24082303047180176}, 'models': {'enumerated': 54.0, 'optimal': 1.0}}
Solution cost: [8.0]
Total time: 99.02060294151306
CPU time: 700.587258
Solve time: 27.96563196182251
2024-09-14 14:15:31,308 - Learned the following sketch:
(:policy
(:booleans )
(:numericals (f1 "n_count(c_primitive(on-table,0))") (f13 "n_count(c_equal(r_primitive(on,0,1),r_primitive(on_g,0,1)))"))
(:rule (:conditions (:c_n_gt f1) (:c_n_gt f13)) (:effects (:e_n_bot f1) (:e_n_inc f13)))
(:rule (:conditions (:c_n_gt f1) (:c_n_gt f13)) (:effects (:e_n_dec f1) (:e_n_inc f13)))
(:rule (:conditions (:c_n_gt f1) (:c_n_gt f13)) (:effects (:e_n_inc f1) (:e_n_bot f13)))
(:rule (:conditions (:c_n_gt f1) (:c_n_gt f13)) (:effects (:e_n_bot f1) (:e_n_bot f13)))
(:rule (:conditions (:c_n_gt f1) (:c_n_eq f13)) (:effects (:e_n_inc f1) (:e_n_inc f13)))
)
Numer of sketch rules: 5
Number of selected features: 2
Maximum complexity of selected feature: 4
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/tractable/blocks_4_on/training/easy/p-3-19.pddl
Sketch cycles
Instance: 1
26
5
5
Number of unsatisfied D2 facts: 188
Number of D2 facts: 8936 of 92416
2024-09-14 14:16:01,734 - Grounding Logic Program...
2024-09-14 14:16:41,173 - ..done
2024-09-14 14:16:41,174 - Solving Logic Program...
2024-09-14 14:17:00,749 - ..done
Clingo statistics:
{'call': 0.0, 'result': 1.0, 'signal': 0.0, 'exhausted': 1.0, 'costs': [8.0], 'lower': [8.0], 'concurrency': 32.0, 'winner': 3.0, 'times': {'total': 89.38215804100037, 'cpu': 526.9887160000003, 'solve': 16.918041944503784, 'unsat': 3.202108860015869, 'sat': 0.26896095275878906}, 'models': {'enumerated': 73.0, 'optimal': 1.0}}
Solution cost: [8.0]
Total time: 89.38215804100037
CPU time: 526.9887160000003
Solve time: 16.918041944503784
2024-09-14 14:17:05,582 - Learned the following sketch:
(:policy
(:booleans )
(:numericals (f1 "n_count(c_primitive(on-table,0))") (f21 "n_count(r_and(r_primitive(on,0,1),r_primitive(on_g,0,1)))"))
(:rule (:conditions (:c_n_gt f1) (:c_n_eq f21)) (:effects (:e_n_inc f1) (:e_n_bot f21)))
(:rule (:conditions (:c_n_gt f1) (:c_n_eq f21)) (:effects (:e_n_dec f1) (:e_n_inc f21)))
(:rule (:conditions (:c_n_gt f1) (:c_n_eq f21)) (:effects (:e_n_inc f1) (:e_n_inc f21)))
)
Numer of sketch rules: 3
Number of selected features: 2
Maximum complexity of selected feature: 4
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/tractable/blocks_4_on/training/easy/p-3-19.pddl
2024-09-14 14:17:05,594 - Verifying learned sketch...
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/tractable/blocks_4_on/training/easy/p-3-19.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/tractable/blocks_4_on/training/easy/p-2-17.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/tractable/blocks_4_on/training/easy/p-3-19.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/tractable/blocks_4_on/training/easy/p-4-4.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/tractable/blocks_4_on/training/easy/p-5-29.pddl
2024-09-14 14:17:05,633 - ..done
Sketch solves all instances!
================================================================================
2024-09-14 14:17:05,638 - Summary:
LearningStatistics:
    num_training_instances: 4
    num_selected_training_instances (|P|): 1
    num_states_in_selected_training_instances (|S|): 22
    num_states_in_complete_selected_training_instances (|S|): 22
    num_features_in_pool (|F|): 2272
================================================================================
Resulting sketch:
(:policy
(:booleans )
(:numericals (f1 "n_count(c_primitive(on-table,0))") (f21 "n_count(r_and(r_primitive(on,0,1),r_primitive(on_g,0,1)))"))
(:rule (:conditions (:c_n_gt f1) (:c_n_eq f21)) (:effects (:e_n_inc f1) (:e_n_bot f21)))
(:rule (:conditions (:c_n_gt f1) (:c_n_eq f21)) (:effects (:e_n_dec f1) (:e_n_inc f21)))
(:rule (:conditions (:c_n_gt f1) (:c_n_eq f21)) (:effects (:e_n_inc f1) (:e_n_inc f21)))
)
Numer of sketch rules: 3
Number of selected features: 2
Maximum complexity of selected feature: 4
================================================================================
Resulting minimized sketch:
(:policy
(:booleans )
(:numericals (f1 "n_count(c_primitive(on-table,0))") (f21 "n_count(r_and(r_primitive(on,0,1),r_primitive(on_g,0,1)))"))
(:rule (:conditions (:c_n_gt f1) (:c_n_eq f21)) (:effects (:e_n_inc f1) (:e_n_bot f21)))
(:rule (:conditions (:c_n_gt f1) (:c_n_eq f21)) (:effects (:e_n_dec f1) (:e_n_inc f21)))
(:rule (:conditions (:c_n_gt f1) (:c_n_eq f21)) (:effects (:e_n_inc f1) (:e_n_inc f21)))
)
Numer of sketch rules: 3
Number of selected features: 2
Maximum complexity of selected feature: 4
================================================================================
================================================================================
Preprocessing time: 20 seconds.
ASP time: 725 seconds.
Verification time: 1 seconds.
Total time: 744 seconds.
Total memory: 4 GiB.
Num states in training data before symmetry pruning: 30540
Num states in training data after symmetry pruning: 249
================================================================================

