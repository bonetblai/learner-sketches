Changing working directory:  /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/experiments/scripts/workspace-ipc2023/transport_1
2024-09-14 14:03:53,253 - Constructing InstanceDatas...
2024-09-14 14:04:03,357 - Constructing GlobalFaithfulAbstractions...
2024-09-14 14:04:35,719 - ...done
2024-09-14 14:04:35,720 - Constructing StateSpaces...
2024-09-14 14:04:35,730 - ...done
/proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ipc2023/transport/training/easy/p02.pddl /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ipc2023/transport/training/easy/p02.pddl
2024-09-14 14:04:35,734 - Created InstanceData with num concrete states: 6 and num abstract states: 6
/proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ipc2023/transport/training/easy/p04.pddl /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ipc2023/transport/training/easy/p04.pddl
2024-09-14 14:04:35,735 - Created InstanceData with num concrete states: 12 and num abstract states: 7
/proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ipc2023/transport/training/easy/p07.pddl /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ipc2023/transport/training/easy/p07.pddl
2024-09-14 14:04:35,736 - Created InstanceData with num concrete states: 18 and num abstract states: 9
/proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ipc2023/transport/training/easy/p06.pddl /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ipc2023/transport/training/easy/p06.pddl
2024-09-14 14:04:35,738 - Created InstanceData with num concrete states: 18 and num abstract states: 12
/proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ipc2023/transport/training/easy/p03.pddl /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ipc2023/transport/training/easy/p03.pddl
2024-09-14 14:04:35,739 - Created InstanceData with num concrete states: 12 and num abstract states: 12
/proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ipc2023/transport/training/easy/p08.pddl /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ipc2023/transport/training/easy/p08.pddl
2024-09-14 14:04:35,742 - Created InstanceData with num concrete states: 96 and num abstract states: 16
/proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ipc2023/transport/training/easy/p09.pddl /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ipc2023/transport/training/easy/p09.pddl
2024-09-14 14:04:35,756 - Created InstanceData with num concrete states: 576 and num abstract states: 172
2024-09-14 14:04:35,758 - ..done
2024-09-14 14:04:35,759 - Initializing TupleGraphs...
2024-09-14 14:04:35,779 - ..done
2024-09-14 14:04:35,805 - Iteration: 0
     id: 0 problem_filepath: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ipc2023/transport/training/easy/p02.pddl num_states: 6 num_state_equivalences: 6
2024-09-14 14:04:35,844 - Initialize global faithful abstract states...
2024-09-14 14:04:35,844 - ..done
2024-09-14 14:04:35,844 - Initializing DomainFeatureData...
[t=42.6638s, 3131792 KB] Started generating base features of complexity 1.
[t=42.6642s, 3131792 KB] Complexity 1:
    b_nullary: 0
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 5
    r_primitive: 7
    c_and: 0
    c_not: 0
    c_equal: 0
    c_some: 0
    c_all: 0
    r_restrict: 0
    r_and: 0
    r_inverse: 0
    r_transitive_closure: 0
    b_empty: 0
    n_count: 0
    n_concept_distance: 0
[t=42.6645s, 3131792 KB] Finished generating base features.
[t=42.6646s, 3131792 KB] Started generating composite features. 
[t=42.6649s, 3131792 KB] Complexity 2:
Total concept elements: 12
Total role elements: 13
Total numerical elements: 6
Total boolean elements: 3
    b_nullary: 0
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 5
    r_primitive: 7
    c_and: 0
    c_not: 5
    c_equal: 0
    c_some: 0
    c_all: 0
    r_restrict: 0
    r_and: 0
    r_inverse: 5
    r_transitive_closure: 1
    b_empty: 3
    n_count: 6
    n_concept_distance: 0
[t=42.6669s, 3131792 KB] Complexity 3:
Total concept elements: 19
Total role elements: 14
Total numerical elements: 8
Total boolean elements: 3
    b_nullary: 0
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 5
    r_primitive: 7
    c_and: 0
    c_not: 5
    c_equal: 2
    c_some: 3
    c_all: 2
    r_restrict: 0
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 1
    b_empty: 3
    n_count: 8
    n_concept_distance: 0
[t=42.6678s, 3131792 KB] Complexity 4:
Total concept elements: 34
Total role elements: 15
Total numerical elements: 15
Total boolean elements: 4
    b_nullary: 0
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 5
    r_primitive: 7
    c_and: 0
    c_not: 6
    c_equal: 2
    c_some: 10
    c_all: 9
    r_restrict: 0
    r_and: 1
    r_inverse: 6
    r_transitive_closure: 1
    b_empty: 4
    n_count: 12
    n_concept_distance: 3
[t=42.6688s, 3131792 KB] Complexity 5:
Total concept elements: 43
Total role elements: 15
Total numerical elements: 20
Total boolean elements: 5
    b_nullary: 0
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 5
    r_primitive: 7
    c_and: 6
    c_not: 6
    c_equal: 2
    c_some: 11
    c_all: 11
    r_restrict: 0
    r_and: 1
    r_inverse: 6
    r_transitive_closure: 1
    b_empty: 5
    n_count: 17
    n_concept_distance: 3
[t=42.6705s, 3131792 KB] Complexity 6:
Total concept elements: 105
Total role elements: 15
Total numerical elements: 27
Total boolean elements: 5
    b_nullary: 0
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 5
    r_primitive: 7
    c_and: 24
    c_not: 7
    c_equal: 2
    c_some: 30
    c_all: 35
    r_restrict: 0
    r_and: 1
    r_inverse: 6
    r_transitive_closure: 1
    b_empty: 5
    n_count: 19
    n_concept_distance: 8
[t=42.6728s, 3131792 KB] Complexity 7:
Total concept elements: 159
Total role elements: 15
Total numerical elements: 61
Total boolean elements: 14
    b_nullary: 0
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 5
    r_primitive: 7
    c_and: 55
    c_not: 18
    c_equal: 2
    c_some: 36
    c_all: 41
    r_restrict: 0
    r_and: 1
    r_inverse: 6
    r_transitive_closure: 1
    b_empty: 14
    n_count: 48
    n_concept_distance: 13
[t=42.6775s, 3131792 KB] Complexity 8:
Total concept elements: 298
Total role elements: 15
Total numerical elements: 73
Total boolean elements: 14
    b_nullary: 0
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 5
    r_primitive: 7
    c_and: 110
    c_not: 45
    c_equal: 2
    c_some: 63
    c_all: 71
    r_restrict: 0
    r_and: 1
    r_inverse: 6
    r_transitive_closure: 1
    b_empty: 14
    n_count: 60
    n_concept_distance: 13
[t=42.686s, 3131792 KB] Complexity 9:
Total concept elements: 531
Total role elements: 15
Total numerical elements: 164
Total boolean elements: 27
    b_nullary: 0
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 5
    r_primitive: 7
    c_and: 233
    c_not: 95
    c_equal: 2
    c_some: 88
    c_all: 106
    r_restrict: 0
    r_and: 1
    r_inverse: 6
    r_transitive_closure: 1
    b_empty: 27
    n_count: 116
    n_concept_distance: 48
[t=42.6863s, 3131792 KB] Finished generating composite features.
Features generated: 191
Features after relevant changes pruning (complete): 65
2024-09-14 14:04:35,969 - ..done
2024-09-14 14:04:35,969 - Constructing PerStateFeatureValuations...
2024-09-14 14:04:35,969 - ..done
2024-09-14 14:04:35,969 - Constructing StatePairEquivalenceDatas...
2024-09-14 14:04:35,980 - ..done
2024-09-14 14:04:35,980 - Constructing TupleGraphEquivalences...
Tuple graph equivalence construction statistics:
Num nodes: 20
2024-09-14 14:04:35,981 - ..done
2024-09-14 14:04:35,981 - Minimizing TupleGraphEquivalences...
Tuple graph equivalence minimization statistics:
Num orig nodes: 20
Num kept nodes: 20
2024-09-14 14:04:35,981 - ..done
Number of initial D2 facts: 24
Number of D2 facts: 24 of 484
2024-09-14 14:04:36,005 - Grounding Logic Program...
2024-09-14 14:04:36,025 - ..done
2024-09-14 14:04:36,025 - Solving Logic Program...
2024-09-14 14:04:36,030 - ..done
Clingo statistics:
{'call': 0.0, 'result': 1.0, 'signal': 0.0, 'exhausted': 1.0, 'costs': [3.0], 'lower': [3.0], 'concurrency': 32.0, 'winner': 30.0, 'times': {'total': 0.04811501502990723, 'cpu': 0.055872999999905915, 'solve': 0.003345012664794922, 'unsat': 0.0011439323425292969, 'sat': 0.0013720989227294922}, 'models': {'enumerated': 16.0, 'optimal': 1.0}}
Solution cost: [3.0]
Total time: 0.04811501502990723
CPU time: 0.055872999999905915
Solve time: 0.003345012664794922
2024-09-14 14:04:36,043 - Learned the following sketch:
(:policy
(:booleans )
(:numericals (f2 "n_count(r_primitive(in,0,1))"))
(:rule (:conditions (:c_n_gt f2)) (:effects (:e_n_dec f2)))
(:rule (:conditions (:c_n_eq f2)) (:effects (:e_n_inc f2)))
(:rule (:conditions (:c_n_eq f2)) (:effects (:e_n_bot f2)))
)
Numer of sketch rules: 3
Number of selected features: 1
Maximum complexity of selected feature: 2
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ipc2023/transport/training/easy/p02.pddl
Sketch cycles
Instance: 0
1
2
1
Number of unsatisfied D2 facts: 19
Number of D2 facts: 43 of 484
2024-09-14 14:04:36,107 - Grounding Logic Program...
2024-09-14 14:04:36,126 - ..done
2024-09-14 14:04:36,126 - Solving Logic Program...
2024-09-14 14:04:36,130 - ..done
Clingo statistics:
{'call': 0.0, 'result': 1.0, 'signal': 0.0, 'exhausted': 1.0, 'costs': [5.0], 'lower': [5.0], 'concurrency': 32.0, 'winner': 31.0, 'times': {'total': 0.08588004112243652, 'cpu': 0.0964609999999766, 'solve': 0.0024480819702148438, 'unsat': 0.0004439353942871094, 'sat': 0.001455068588256836}, 'models': {'enumerated': 10.0, 'optimal': 1.0}}
Solution cost: [5.0]
Total time: 0.08588004112243652
CPU time: 0.0964609999999766
Solve time: 0.0024480819702148438
2024-09-14 14:04:36,143 - Learned the following sketch:
(:policy
(:booleans )
(:numericals (f3 "n_count(c_equal(r_primitive(at,0,1),r_primitive(at_g,0,1)))"))
(:rule (:conditions (:c_n_gt f3)) (:effects (:e_n_bot f3)))
(:rule (:conditions (:c_n_gt f3)) (:effects (:e_n_inc f3)))
)
Numer of sketch rules: 2
Number of selected features: 1
Maximum complexity of selected feature: 4
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ipc2023/transport/training/easy/p02.pddl
Sketch cycles
Instance: 0
3
3
Number of unsatisfied D2 facts: 54
Number of D2 facts: 97 of 484
2024-09-14 14:04:36,206 - Grounding Logic Program...
2024-09-14 14:04:36,231 - ..done
2024-09-14 14:04:36,231 - Solving Logic Program...
2024-09-14 14:04:36,235 - ..done
Clingo statistics:
{'call': 0.0, 'result': 1.0, 'signal': 0.0, 'exhausted': 1.0, 'costs': [8.0], 'lower': [8.0], 'concurrency': 32.0, 'winner': 21.0, 'times': {'total': 0.09054303169250488, 'cpu': 0.10349799999983134, 'solve': 0.0022318363189697266, 'unsat': 0.0005910396575927734, 'sat': 0.0012028217315673828}, 'models': {'enumerated': 6.0, 'optimal': 1.0}}
Solution cost: [8.0]
Total time: 0.09054303169250488
CPU time: 0.10349799999983134
Solve time: 0.0022318363189697266
2024-09-14 14:04:36,247 - Learned the following sketch:
(:policy
(:booleans )
(:numericals (f2 "n_count(r_primitive(in,0,1))") (f3 "n_count(c_equal(r_primitive(at,0,1),r_primitive(at_g,0,1)))"))
(:rule (:conditions (:c_n_gt f2) (:c_n_gt f3)) (:effects (:e_n_dec f2) (:e_n_inc f3)))
(:rule (:conditions (:c_n_eq f2) (:c_n_gt f3)) (:effects (:e_n_inc f2) (:e_n_bot f3)))
)
Numer of sketch rules: 2
Number of selected features: 2
Maximum complexity of selected feature: 4
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ipc2023/transport/training/easy/p02.pddl
2024-09-14 14:04:36,248 - Verifying learned sketch...
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ipc2023/transport/training/easy/p02.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ipc2023/transport/training/easy/p02.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ipc2023/transport/training/easy/p04.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ipc2023/transport/training/easy/p07.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ipc2023/transport/training/easy/p06.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ipc2023/transport/training/easy/p03.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ipc2023/transport/training/easy/p08.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ipc2023/transport/training/easy/p09.pddl
2024-09-14 14:04:36,303 - ..done
Sketch solves all instances!
================================================================================
2024-09-14 14:04:36,303 - Summary:
LearningStatistics:
    num_training_instances: 7
    num_selected_training_instances (|P|): 1
    num_states_in_selected_training_instances (|S|): 6
    num_states_in_complete_selected_training_instances (|S|): 6
    num_features_in_pool (|F|): 65
================================================================================
Resulting sketch:
(:policy
(:booleans )
(:numericals (f2 "n_count(r_primitive(in,0,1))") (f3 "n_count(c_equal(r_primitive(at,0,1),r_primitive(at_g,0,1)))"))
(:rule (:conditions (:c_n_gt f2) (:c_n_gt f3)) (:effects (:e_n_dec f2) (:e_n_inc f3)))
(:rule (:conditions (:c_n_eq f2) (:c_n_gt f3)) (:effects (:e_n_inc f2) (:e_n_bot f3)))
)
Numer of sketch rules: 2
Number of selected features: 2
Maximum complexity of selected feature: 4
================================================================================
Resulting minimized sketch:
(:policy
(:booleans )
(:numericals (f2 "n_count(r_primitive(in,0,1))") (f3 "n_count(c_equal(r_primitive(at,0,1),r_primitive(at_g,0,1)))"))
(:rule (:conditions (:c_n_gt f2) (:c_n_gt f3)) (:effects (:e_n_dec f2) (:e_n_inc f3)))
(:rule (:conditions (:c_n_eq f2) (:c_n_gt f3)) (:effects (:e_n_inc f2) (:e_n_bot f3)))
)
Numer of sketch rules: 2
Number of selected features: 2
Maximum complexity of selected feature: 4
================================================================================
================================================================================
Preprocessing time: 43 seconds.
ASP time: 1 seconds.
Verification time: 1 seconds.
Total time: 44 seconds.
Total memory: 1 GiB.
Num states in training data before symmetry pruning: 762
Num states in training data after symmetry pruning: 234
================================================================================

