Changing working directory:  /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/experiments/scripts/workspace/ferry_0
2024-08-09 00:09:57,430 - Constructing InstanceDatas...
2024-08-09 00:09:57,782 - Constructing GlobalFaithfulAbstractions...
2024-08-09 00:09:58,034 - ...done
2024-08-09 00:09:58,040 - Constructing StateSpaces...
2024-08-09 00:09:58,054 - ...done
/proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p25.pddl /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p25.pddl
2024-08-09 00:09:58,061 - Created InstanceData with num concrete states: 6 and num abstract states: 6
/proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p32.pddl /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p32.pddl
2024-08-09 00:09:58,062 - Created InstanceData with num concrete states: 12 and num abstract states: 7
/proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p75.pddl /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p75.pddl
2024-08-09 00:09:58,063 - Created InstanceData with num concrete states: 16 and num abstract states: 8
/proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p76.pddl /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p76.pddl
2024-08-09 00:09:58,063 - Created InstanceData with num concrete states: 16 and num abstract states: 10
/proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p147.pddl /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p147.pddl
2024-08-09 00:09:58,064 - Created InstanceData with num concrete states: 40 and num abstract states: 14
/proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p97.pddl /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p97.pddl
2024-08-09 00:09:58,066 - Created InstanceData with num concrete states: 45 and num abstract states: 15
/proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p104.pddl /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p104.pddl
2024-08-09 00:09:58,067 - Created InstanceData with num concrete states: 45 and num abstract states: 24
/proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p122.pddl /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p122.pddl
2024-08-09 00:09:58,068 - Created InstanceData with num concrete states: 40 and num abstract states: 26
/proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p166.pddl /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p166.pddl
2024-08-09 00:09:58,071 - Created InstanceData with num concrete states: 162 and num abstract states: 26
/proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p178.pddl /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p178.pddl
2024-08-09 00:09:58,075 - Created InstanceData with num concrete states: 162 and num abstract states: 30
/proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p165.pddl /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p165.pddl
2024-08-09 00:09:58,078 - Created InstanceData with num concrete states: 162 and num abstract states: 99
2024-08-09 00:09:58,078 - ..done
2024-08-09 00:09:58,079 - Initializing TupleGraphs...
2024-08-09 00:09:58,084 - ..done
2024-08-09 00:09:58,084 - Iteration: 0
     id: 0 problem_filepath: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p25.pddl num_states: 6 num_state_equivalences: 6
2024-08-09 00:09:58,087 - Initialize global faithful abstract states...
2024-08-09 00:09:58,087 - ..done
2024-08-09 00:09:58,087 - Initializing DomainFeatureData...
[t=1.45902s, 2501964 KB] Started generating base features of complexity 1.
[t=1.45939s, 2501964 KB] Complexity 1:
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 0
    c_not: 0
    c_equal: 0
    c_some: 0
    c_all: 0
    r_restrict: 0
    r_and: 0
    r_inverse: 0
    r_transitive_closure: 0
    b_empty: 0
    n_count: 0
    n_concept_distance: 0
[t=1.45972s, 2501964 KB] Finished generating base features.
[t=1.45976s, 2501964 KB] Started generating composite features. 
[t=1.46s, 2501964 KB] Complexity 2:
Total concept elements: 8
Total role elements: 4
Total numerical elements: 6
Total boolean elements: 4
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 0
    c_not: 2
    c_equal: 0
    c_some: 0
    c_all: 0
    r_restrict: 0
    r_and: 0
    r_inverse: 2
    r_transitive_closure: 0
    b_empty: 2
    n_count: 6
    n_concept_distance: 0
[t=1.46061s, 2501964 KB] Complexity 3:
Total concept elements: 15
Total role elements: 8
Total numerical elements: 7
Total boolean elements: 4
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 0
    c_not: 2
    c_equal: 1
    c_some: 3
    c_all: 3
    r_restrict: 3
    r_and: 1
    r_inverse: 2
    r_transitive_closure: 0
    b_empty: 2
    n_count: 7
    n_concept_distance: 0
[t=1.46113s, 2501964 KB] Complexity 4:
Total concept elements: 27
Total role elements: 11
Total numerical elements: 19
Total boolean elements: 7
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 1
    c_not: 7
    c_equal: 1
    c_some: 6
    c_all: 6
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 5
    n_count: 14
    n_concept_distance: 5
[t=1.46184s, 2501964 KB] Complexity 5:
Total concept elements: 37
Total role elements: 11
Total numerical elements: 25
Total boolean elements: 10
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 5
    c_not: 10
    c_equal: 1
    c_some: 7
    c_all: 8
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 8
    n_count: 19
    n_concept_distance: 6
[t=1.46282s, 2501964 KB] Complexity 6:
Total concept elements: 77
Total role elements: 11
Total numerical elements: 35
Total boolean elements: 13
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 23
    c_not: 15
    c_equal: 1
    c_some: 12
    c_all: 20
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 11
    n_count: 25
    n_concept_distance: 10
[t=1.46399s, 2501964 KB] Complexity 7:
Total concept elements: 120
Total role elements: 11
Total numerical elements: 65
Total boolean elements: 19
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 44
    c_not: 37
    c_equal: 1
    c_some: 12
    c_all: 20
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 17
    n_count: 43
    n_concept_distance: 22
[t=1.46615s, 2501964 KB] Complexity 8:
Total concept elements: 198
Total role elements: 11
Total numerical elements: 91
Total boolean elements: 23
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 92
    c_not: 52
    c_equal: 1
    c_some: 16
    c_all: 31
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 21
    n_count: 57
    n_concept_distance: 34
[t=1.46936s, 2501964 KB] Complexity 9:
Total concept elements: 309
Total role elements: 11
Total numerical elements: 154
Total boolean elements: 37
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 150
    c_not: 98
    c_equal: 1
    c_some: 18
    c_all: 36
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 35
    n_count: 93
    n_concept_distance: 61
[t=1.46972s, 2501964 KB] Finished generating composite features.
Features generated: 191
Features after 0/1 pruning (incomplete): 117
Features after soft changes pruning (incomplete): 117
Features after relevant changes pruning (complete): 52
2024-08-09 00:09:58,162 - ..done
2024-08-09 00:09:58,162 - Constructing PerStateFeatureValuations...
2024-08-09 00:09:58,162 - ..done
2024-08-09 00:09:58,162 - Constructing StatePairEquivalenceDatas...
2024-08-09 00:09:58,168 - ..done
2024-08-09 00:09:58,168 - Constructing TupleGraphEquivalences...
Tuple graph equivalence construction statistics:
Num nodes: 16
2024-08-09 00:09:58,169 - ..done
2024-08-09 00:09:58,169 - Minimizing TupleGraphEquivalences...
Tuple graph equivalence minimization statistics:
Num orig nodes: 16
Num kept nodes: 16
2024-08-09 00:09:58,169 - ..done
Number of initial D2 facts: 14
Number of D2 facts: 14 of 256
2024-08-09 00:09:58,185 - Grounding Logic Program...
2024-08-09 00:09:58,198 - ..done
2024-08-09 00:09:58,198 - Solving Logic Program...
2024-08-09 00:09:58,202 - ..done
Clingo statistics:
{'call': 0.0, 'result': 1.0, 'signal': 0.0, 'exhausted': 1.0, 'costs': [3.0], 'lower': [3.0], 'concurrency': 32.0, 'winner': 4.0, 'times': {'total': 0.03223299980163574, 'cpu': 0.041688999999999865, 'solve': 0.002852916717529297, 'unsat': 0.0005578994750976562, 'sat': 0.00167083740234375}, 'models': {'enumerated': 8.0, 'optimal': 1.0}}
Solution cost: [3.0]
Total time: 0.03223299980163574
CPU time: 0.041688999999999865
Solve time: 0.002852916717529297
2024-08-09 00:09:58,211 - Learned the following sketch:
(:policy
(:booleans (f26 "b_nullary(empty-ferry)"))
(:numericals )
(:rule (:conditions (:c_b_pos f26)) (:effects (:e_b_neg f26)))
(:rule (:conditions (:c_b_pos f26)) (:effects (:e_b_bot f26)))
(:rule (:conditions (:c_b_neg f26)) (:effects (:e_b_bot f26)))
(:rule (:conditions (:c_b_neg f26)) (:effects (:e_b_pos f26)))
)
Numer of sketch rules: 4
Number of selected features: 1
Maximum complexity of selected feature: 1
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p25.pddl
Sketch cycles
Instance: 0
3
3
Number of unsatisfied D2 facts: 12
Number of D2 facts: 26 of 256
2024-08-09 00:09:58,251 - Grounding Logic Program...
2024-08-09 00:09:58,263 - ..done
2024-08-09 00:09:58,264 - Solving Logic Program...
2024-08-09 00:09:58,266 - ..done
Clingo statistics:
{'call': 0.0, 'result': 1.0, 'signal': 0.0, 'exhausted': 1.0, 'costs': [5.0], 'lower': [5.0], 'concurrency': 32.0, 'winner': 9.0, 'times': {'total': 0.05435299873352051, 'cpu': 0.06350599999999984, 'solve': 0.002034902572631836, 'unsat': 0.00041604042053222656, 'sat': 0.0012919902801513672}, 'models': {'enumerated': 5.0, 'optimal': 1.0}}
Solution cost: [5.0]
Total time: 0.05435299873352051
CPU time: 0.06350599999999984
Solve time: 0.002034902572631836
2024-08-09 00:09:58,275 - Learned the following sketch:
(:policy
(:booleans )
(:numericals (f11 "n_count(c_some(r_primitive(at_g,0,1),c_primitive(at-ferry,0)))"))
(:rule (:conditions (:c_n_eq f11)) (:effects (:e_n_bot f11)))
(:rule (:conditions (:c_n_gt f11)) (:effects (:e_n_dec f11)))
(:rule (:conditions (:c_n_eq f11)) (:effects (:e_n_inc f11)))
(:rule (:conditions (:c_n_gt f11)) (:effects (:e_n_bot f11)))
)
Numer of sketch rules: 4
Number of selected features: 1
Maximum complexity of selected feature: 4
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p25.pddl
Sketch cycles
Instance: 0
3
3
Number of unsatisfied D2 facts: 12
Number of D2 facts: 38 of 256
2024-08-09 00:09:58,315 - Grounding Logic Program...
2024-08-09 00:09:58,328 - ..done
2024-08-09 00:09:58,328 - Solving Logic Program...
2024-08-09 00:09:58,331 - ..done
Clingo statistics:
{'call': 0.0, 'result': 1.0, 'signal': 0.0, 'exhausted': 1.0, 'costs': [8.0], 'lower': [8.0], 'concurrency': 32.0, 'winner': 12.0, 'times': {'total': 0.05531811714172363, 'cpu': 0.06432300000000013, 'solve': 0.002310037612915039, 'unsat': 0.0004520416259765625, 'sat': 0.0015828609466552734}, 'models': {'enumerated': 5.0, 'optimal': 1.0}}
Solution cost: [8.0]
Total time: 0.05531811714172363
CPU time: 0.06432300000000013
Solve time: 0.002310037612915039
2024-08-09 00:09:58,340 - Learned the following sketch:
(:policy
(:booleans )
(:numericals (f7 "n_count(c_primitive(on,0))") (f11 "n_count(c_some(r_primitive(at_g,0,1),c_primitive(at-ferry,0)))"))
(:rule (:conditions (:c_n_eq f7) (:c_n_eq f11)) (:effects (:e_n_inc f7) (:e_n_bot f11)))
(:rule (:conditions (:c_n_eq f7) (:c_n_gt f11)) (:effects (:e_n_bot f7) (:e_n_dec f11)))
(:rule (:conditions (:c_n_gt f7) (:c_n_eq f11)) (:effects (:e_n_bot f7) (:e_n_inc f11)))
(:rule (:conditions (:c_n_gt f7) (:c_n_gt f11)) (:effects (:e_n_dec f7) (:e_n_bot f11)))
)
Numer of sketch rules: 4
Number of selected features: 2
Maximum complexity of selected feature: 4
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p25.pddl
2024-08-09 00:09:58,340 - Verifying learned sketch...
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p25.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p25.pddl
Sketch fails to bound width of a state
/proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p32.pddl
Instance: 1
Source_state: 6
Dlplan state: (instance index=1, state index=11, atoms={empty-ferry(), at-ferry(loc1), at(car1,loc3)})
2024-08-09 00:09:58,342 - ..done
Smallest unsolved instance: 1
Selected instances: [1]
2024-08-09 00:09:58,342 - Iteration: 1
     id: 1 problem_filepath: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p32.pddl num_states: 12 num_state_equivalences: 7
2024-08-09 00:09:58,408 - Initialize global faithful abstract states...
2024-08-09 00:09:58,408 - ..done
2024-08-09 00:09:58,408 - Initializing DomainFeatureData...
[t=1.77964s, 2501964 KB] Started generating base features of complexity 1.
[t=1.77976s, 2501964 KB] Complexity 1:
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 0
    c_not: 0
    c_equal: 0
    c_some: 0
    c_all: 0
    r_restrict: 0
    r_and: 0
    r_inverse: 0
    r_transitive_closure: 0
    b_empty: 0
    n_count: 0
    n_concept_distance: 0
[t=1.78008s, 2501964 KB] Finished generating base features.
[t=1.78012s, 2501964 KB] Started generating composite features. 
[t=1.78021s, 2501964 KB] Complexity 2:
Total concept elements: 8
Total role elements: 4
Total numerical elements: 6
Total boolean elements: 4
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 0
    c_not: 2
    c_equal: 0
    c_some: 0
    c_all: 0
    r_restrict: 0
    r_and: 0
    r_inverse: 2
    r_transitive_closure: 0
    b_empty: 2
    n_count: 6
    n_concept_distance: 0
[t=1.78075s, 2501964 KB] Complexity 3:
Total concept elements: 15
Total role elements: 8
Total numerical elements: 7
Total boolean elements: 4
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 0
    c_not: 2
    c_equal: 1
    c_some: 3
    c_all: 3
    r_restrict: 3
    r_and: 1
    r_inverse: 2
    r_transitive_closure: 0
    b_empty: 2
    n_count: 7
    n_concept_distance: 0
[t=1.78131s, 2501964 KB] Complexity 4:
Total concept elements: 27
Total role elements: 11
Total numerical elements: 19
Total boolean elements: 7
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 1
    c_not: 7
    c_equal: 1
    c_some: 6
    c_all: 6
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 5
    n_count: 14
    n_concept_distance: 5
[t=1.78205s, 2501964 KB] Complexity 5:
Total concept elements: 37
Total role elements: 11
Total numerical elements: 26
Total boolean elements: 10
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 5
    c_not: 10
    c_equal: 1
    c_some: 7
    c_all: 8
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 8
    n_count: 20
    n_concept_distance: 6
[t=1.78308s, 2501964 KB] Complexity 6:
Total concept elements: 77
Total role elements: 11
Total numerical elements: 36
Total boolean elements: 13
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 23
    c_not: 15
    c_equal: 1
    c_some: 12
    c_all: 20
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 11
    n_count: 26
    n_concept_distance: 10
[t=1.78433s, 2501964 KB] Complexity 7:
Total concept elements: 120
Total role elements: 11
Total numerical elements: 67
Total boolean elements: 19
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 44
    c_not: 37
    c_equal: 1
    c_some: 12
    c_all: 20
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 17
    n_count: 45
    n_concept_distance: 22
[t=1.78671s, 2501964 KB] Complexity 8:
Total concept elements: 198
Total role elements: 11
Total numerical elements: 95
Total boolean elements: 23
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 92
    c_not: 52
    c_equal: 1
    c_some: 16
    c_all: 31
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 21
    n_count: 61
    n_concept_distance: 34
[t=1.7902s, 2501964 KB] Complexity 9:
Total concept elements: 315
Total role elements: 11
Total numerical elements: 161
Total boolean elements: 37
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 155
    c_not: 98
    c_equal: 1
    c_some: 18
    c_all: 37
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 35
    n_count: 100
    n_concept_distance: 61
[t=1.79057s, 2501964 KB] Finished generating composite features.
Features generated: 198
Features after 0/1 pruning (incomplete): 117
Features after soft changes pruning (incomplete): 117
Features after relevant changes pruning (complete): 56
2024-08-09 00:09:58,508 - ..done
2024-08-09 00:09:58,508 - Constructing PerStateFeatureValuations...
2024-08-09 00:09:58,508 - ..done
2024-08-09 00:09:58,508 - Constructing StatePairEquivalenceDatas...
2024-08-09 00:09:58,518 - ..done
2024-08-09 00:09:58,518 - Constructing TupleGraphEquivalences...
Tuple graph equivalence construction statistics:
Num nodes: 25
2024-08-09 00:09:58,519 - ..done
2024-08-09 00:09:58,519 - Minimizing TupleGraphEquivalences...
Tuple graph equivalence minimization statistics:
Num orig nodes: 25
Num kept nodes: 21
2024-08-09 00:09:58,519 - ..done
Number of initial D2 facts: 22
Number of D2 facts: 22 of 441
2024-08-09 00:09:58,537 - Grounding Logic Program...
2024-08-09 00:09:58,552 - ..done
2024-08-09 00:09:58,552 - Solving Logic Program...
2024-08-09 00:09:58,555 - ..done
Clingo statistics:
{'call': 0.0, 'result': 1.0, 'signal': 0.0, 'exhausted': 1.0, 'costs': [5.0], 'lower': [5.0], 'concurrency': 32.0, 'winner': 12.0, 'times': {'total': 0.03559398651123047, 'cpu': 0.044338999999999906, 'solve': 0.002067089080810547, 'unsat': 0.0005180835723876953, 'sat': 0.001268148422241211}, 'models': {'enumerated': 6.0, 'optimal': 1.0}}
Solution cost: [5.0]
Total time: 0.03559398651123047
CPU time: 0.044338999999999906
Solve time: 0.002067089080810547
2024-08-09 00:09:58,567 - Learned the following sketch:
(:policy
(:booleans )
(:numericals (f11 "n_count(c_some(r_primitive(at_g,0,1),c_primitive(at-ferry,0)))"))
(:rule (:conditions (:c_n_gt f11)) (:effects (:e_n_dec f11)))
(:rule (:conditions (:c_n_eq f11)) (:effects (:e_n_bot f11)))
(:rule (:conditions (:c_n_eq f11)) (:effects (:e_n_inc f11)))
(:rule (:conditions (:c_n_gt f11)) (:effects (:e_n_bot f11)))
)
Numer of sketch rules: 4
Number of selected features: 1
Maximum complexity of selected feature: 4
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p32.pddl
Sketch cycles
Instance: 1
10
10
Number of unsatisfied D2 facts: 23
Number of D2 facts: 45 of 441
2024-08-09 00:09:58,621 - Grounding Logic Program...
2024-08-09 00:09:58,638 - ..done
2024-08-09 00:09:58,639 - Solving Logic Program...
2024-08-09 00:09:58,642 - ..done
Clingo statistics:
{'call': 0.0, 'result': 1.0, 'signal': 0.0, 'exhausted': 1.0, 'costs': [12.0], 'lower': [12.0], 'concurrency': 32.0, 'winner': 21.0, 'times': {'total': 0.0745551586151123, 'cpu': 0.08650700000000011, 'solve': 0.0023970603942871094, 'unsat': 0.0005991458892822266, 'sat': 0.0015239715576171875}, 'models': {'enumerated': 6.0, 'optimal': 1.0}}
Solution cost: [12.0]
Total time: 0.0745551586151123
CPU time: 0.08650700000000011
Solve time: 0.0023970603942871094
2024-08-09 00:09:58,653 - Learned the following sketch:
(:policy
(:booleans )
(:numericals (f23 "n_count(c_some(r_primitive(at,0,1),c_primitive(at-ferry,0)))") (f37 "n_concept_distance(c_primitive(car,0),r_primitive(at,0,1),c_all(r_primitive(at_g,0,1),c_primitive(at-ferry,0)))"))
(:rule (:conditions (:c_n_eq f23) (:c_n_eq f37)) (:effects (:e_n_inc f23) (:e_n_inc f37)))
(:rule (:conditions (:c_n_gt f23) (:c_n_gt f37)) (:effects (:e_n_dec f23) (:e_n_inc f37)))
(:rule (:conditions (:c_n_eq f23) (:c_n_gt f37)) (:effects (:e_n_bot f23) (:e_n_dec f37)))
(:rule (:conditions (:c_n_eq f23) (:c_n_eq f37)) (:effects (:e_n_inc f23) (:e_n_bot f37)))
(:rule (:conditions (:c_n_eq f23) (:c_n_gt f37)) (:effects (:e_n_inc f23) (:e_n_bot f37)))
)
Numer of sketch rules: 5
Number of selected features: 2
Maximum complexity of selected feature: 6
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p32.pddl
2024-08-09 00:09:58,654 - Verifying learned sketch...
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p32.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p25.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p32.pddl
Sketch fails to bound width of a state
/proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p75.pddl
Instance: 2
Source_state: 18
Dlplan state: (instance index=2, state index=6, atoms={at(car2,loc1), at-ferry(loc1), on(car1)})
2024-08-09 00:09:58,657 - ..done
Smallest unsolved instance: 2
Selected instances: [2]
2024-08-09 00:09:58,657 - Iteration: 2
     id: 2 problem_filepath: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p75.pddl num_states: 16 num_state_equivalences: 8
2024-08-09 00:09:58,712 - Initialize global faithful abstract states...
2024-08-09 00:09:58,713 - ..done
2024-08-09 00:09:58,713 - Initializing DomainFeatureData...
[t=2.08489s, 2501964 KB] Started generating base features of complexity 1.
[t=2.08505s, 2501964 KB] Complexity 1:
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 0
    c_not: 0
    c_equal: 0
    c_some: 0
    c_all: 0
    r_restrict: 0
    r_and: 0
    r_inverse: 0
    r_transitive_closure: 0
    b_empty: 0
    n_count: 0
    n_concept_distance: 0
[t=2.08536s, 2501964 KB] Finished generating base features.
[t=2.0854s, 2501964 KB] Started generating composite features. 
[t=2.08549s, 2501964 KB] Complexity 2:
Total concept elements: 8
Total role elements: 4
Total numerical elements: 6
Total boolean elements: 3
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 0
    c_not: 2
    c_equal: 0
    c_some: 0
    c_all: 0
    r_restrict: 0
    r_and: 0
    r_inverse: 2
    r_transitive_closure: 0
    b_empty: 1
    n_count: 6
    n_concept_distance: 0
[t=2.08608s, 2501964 KB] Complexity 3:
Total concept elements: 15
Total role elements: 8
Total numerical elements: 8
Total boolean elements: 3
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 0
    c_not: 2
    c_equal: 1
    c_some: 3
    c_all: 3
    r_restrict: 3
    r_and: 1
    r_inverse: 2
    r_transitive_closure: 0
    b_empty: 1
    n_count: 8
    n_concept_distance: 0
[t=2.08668s, 2501964 KB] Complexity 4:
Total concept elements: 25
Total role elements: 11
Total numerical elements: 14
Total boolean elements: 5
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 1
    c_not: 7
    c_equal: 1
    c_some: 5
    c_all: 5
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 3
    n_count: 13
    n_concept_distance: 1
[t=2.08746s, 2501964 KB] Complexity 5:
Total concept elements: 35
Total role elements: 11
Total numerical elements: 19
Total boolean elements: 7
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 5
    c_not: 10
    c_equal: 1
    c_some: 6
    c_all: 7
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 5
    n_count: 18
    n_concept_distance: 1
[t=2.08848s, 2501964 KB] Complexity 6:
Total concept elements: 72
Total role elements: 11
Total numerical elements: 28
Total boolean elements: 10
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 18
    c_not: 15
    c_equal: 1
    c_some: 13
    c_all: 19
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 8
    n_count: 24
    n_concept_distance: 4
[t=2.08976s, 2501964 KB] Complexity 7:
Total concept elements: 109
Total role elements: 11
Total numerical elements: 57
Total boolean elements: 17
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 35
    c_not: 35
    c_equal: 1
    c_some: 13
    c_all: 19
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 15
    n_count: 47
    n_concept_distance: 10
[t=2.09215s, 2501964 KB] Complexity 8:
Total concept elements: 201
Total role elements: 11
Total numerical elements: 82
Total boolean elements: 21
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 73
    c_not: 47
    c_equal: 1
    c_some: 31
    c_all: 43
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 19
    n_count: 67
    n_concept_distance: 15
[t=2.09557s, 2501964 KB] Complexity 9:
Total concept elements: 325
Total role elements: 11
Total numerical elements: 147
Total boolean elements: 37
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 129
    c_not: 103
    c_equal: 1
    c_some: 37
    c_all: 49
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 35
    n_count: 122
    n_concept_distance: 25
[t=2.09593s, 2501964 KB] Finished generating composite features.
Features generated: 184
Features after 0/1 pruning (incomplete): 95
Features after soft changes pruning (incomplete): 95
Features after relevant changes pruning (complete): 61
2024-08-09 00:09:58,800 - ..done
2024-08-09 00:09:58,800 - Constructing PerStateFeatureValuations...
2024-08-09 00:09:58,800 - ..done
2024-08-09 00:09:58,800 - Constructing StatePairEquivalenceDatas...
2024-08-09 00:09:58,810 - ..done
2024-08-09 00:09:58,811 - Constructing TupleGraphEquivalences...
Tuple graph equivalence construction statistics:
Num nodes: 24
2024-08-09 00:09:58,811 - ..done
2024-08-09 00:09:58,811 - Minimizing TupleGraphEquivalences...
Tuple graph equivalence minimization statistics:
Num orig nodes: 24
Num kept nodes: 22
2024-08-09 00:09:58,812 - ..done
Number of initial D2 facts: 21
Number of D2 facts: 21 of 484
2024-08-09 00:09:58,837 - Grounding Logic Program...
2024-08-09 00:09:58,856 - ..done
2024-08-09 00:09:58,856 - Solving Logic Program...
2024-08-09 00:09:58,859 - ..done
Clingo statistics:
{'call': 0.0, 'result': 1.0, 'signal': 0.0, 'exhausted': 1.0, 'costs': [8.0], 'lower': [8.0], 'concurrency': 32.0, 'winner': 17.0, 'times': {'total': 0.046452999114990234, 'cpu': 0.05561299999999991, 'solve': 0.0018820762634277344, 'unsat': 0.0005769729614257812, 'sat': 0.0013051033020019531}, 'models': {'enumerated': 1.0, 'optimal': 1.0}}
Solution cost: [8.0]
Total time: 0.046452999114990234
CPU time: 0.05561299999999991
Solve time: 0.0018820762634277344
2024-08-09 00:09:58,871 - Learned the following sketch:
(:policy
(:booleans )
(:numericals (f0 "n_concept_distance(c_not(c_all(r_primitive(at_g,0,1),c_primitive(at-ferry,0))),r_primitive(at,0,1),c_primitive(on,0))"))
(:rule (:conditions (:c_n_gt f0)) (:effects (:e_n_dec f0)))
(:rule (:conditions (:c_n_eq f0)) (:effects (:e_n_inc f0)))
(:rule (:conditions (:c_n_gt f0)) (:effects (:e_n_bot f0)))
)
Numer of sketch rules: 3
Number of selected features: 1
Maximum complexity of selected feature: 7
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p75.pddl
Sketch cycles
Instance: 2
19
19
Number of unsatisfied D2 facts: 35
Number of D2 facts: 56 of 484
2024-08-09 00:09:58,932 - Grounding Logic Program...
2024-08-09 00:09:58,953 - ..done
2024-08-09 00:09:58,953 - Solving Logic Program...
2024-08-09 00:09:58,958 - ..done
Clingo statistics:
{'call': 0.0, 'result': 1.0, 'signal': 0.0, 'exhausted': 1.0, 'costs': [10.0], 'lower': [10.0], 'concurrency': 32.0, 'winner': 18.0, 'times': {'total': 0.08482098579406738, 'cpu': 0.09629299999999974, 'solve': 0.002916097640991211, 'unsat': 0.0007989406585693359, 'sat': 0.0017020702362060547}, 'models': {'enumerated': 8.0, 'optimal': 1.0}}
Solution cost: [10.0]
Total time: 0.08482098579406738
CPU time: 0.09629299999999974
Solve time: 0.002916097640991211
2024-08-09 00:09:58,971 - Learned the following sketch:
(:policy
(:booleans (f2 "b_nullary(empty-ferry)"))
(:numericals (f9 "n_count(c_some(r_and(r_primitive(at,0,1),r_primitive(at_g,0,1)),c_primitive(at-ferry,0)))"))
(:rule (:conditions (:c_b_pos f2) (:c_n_eq f9)) (:effects (:e_b_neg f2) (:e_n_bot f9)))
(:rule (:conditions (:c_b_neg f2) (:c_n_eq f9)) (:effects (:e_b_bot f2) (:e_n_bot f9)))
(:rule (:conditions (:c_b_neg f2) (:c_n_eq f9)) (:effects (:e_b_pos f2) (:e_n_inc f9)))
(:rule (:conditions (:c_b_pos f2) (:c_n_gt f9)) (:effects (:e_b_neg f2) (:e_n_bot f9)))
(:rule (:conditions (:c_b_pos f2) (:c_n_eq f9)) (:effects (:e_b_bot f2) (:e_n_inc f9)))
(:rule (:conditions (:c_b_neg f2) (:c_n_gt f9)) (:effects (:e_b_bot f2) (:e_n_dec f9)))
)
Numer of sketch rules: 6
Number of selected features: 2
Maximum complexity of selected feature: 6
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p75.pddl
Sketch cycles
Instance: 2
19
19
Number of unsatisfied D2 facts: 4
Number of D2 facts: 60 of 484
2024-08-09 00:09:59,035 - Grounding Logic Program...
2024-08-09 00:09:59,058 - ..done
2024-08-09 00:09:59,059 - Solving Logic Program...
2024-08-09 00:09:59,062 - ..done
Clingo statistics:
{'call': 0.0, 'result': 1.0, 'signal': 0.0, 'exhausted': 1.0, 'costs': [11.0], 'lower': [11.0], 'concurrency': 32.0, 'winner': 20.0, 'times': {'total': 0.08927702903747559, 'cpu': 0.09957499999999997, 'solve': 0.0023179054260253906, 'unsat': 0.00038695335388183594, 'sat': 0.0014598369598388672}, 'models': {'enumerated': 7.0, 'optimal': 1.0}}
Solution cost: [11.0]
Total time: 0.08927702903747559
CPU time: 0.09957499999999997
Solve time: 0.0023179054260253906
2024-08-09 00:09:59,074 - Learned the following sketch:
(:policy
(:booleans )
(:numericals (f18 "n_count(c_not(c_all(r_primitive(at,0,1),c_primitive(at-ferry,0))))") (f58 "n_count(r_and(r_primitive(at,0,1),r_primitive(at_g,0,1)))"))
(:rule (:conditions (:c_n_gt f18) (:c_n_eq f58)) (:effects (:e_n_bot f18) (:e_n_bot f58)))
(:rule (:conditions (:c_n_gt f18) (:c_n_eq f58)) (:effects (:e_n_dec f18) (:e_n_bot f58)))
(:rule (:conditions (:c_n_eq f18) (:c_n_eq f58)) (:effects (:e_n_bot f18) (:e_n_inc f58)))
(:rule (:conditions (:c_n_eq f18) (:c_n_gt f58)) (:effects (:e_n_bot f18) (:e_n_bot f58)))
(:rule (:conditions (:c_n_gt f18) (:c_n_gt f58)) (:effects (:e_n_dec f18) (:e_n_bot f58)))
(:rule (:conditions (:c_n_eq f18) (:c_n_gt f58)) (:effects (:e_n_inc f18) (:e_n_bot f58)))
(:rule (:conditions (:c_n_gt f18) (:c_n_gt f58)) (:effects (:e_n_bot f18) (:e_n_inc f58)))
)
Numer of sketch rules: 7
Number of selected features: 2
Maximum complexity of selected feature: 5
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p75.pddl
Sketch cycles
Instance: 2
18
19
18
Number of unsatisfied D2 facts: 8
Number of D2 facts: 68 of 484
2024-08-09 00:09:59,135 - Grounding Logic Program...
2024-08-09 00:09:59,158 - ..done
2024-08-09 00:09:59,158 - Solving Logic Program...
2024-08-09 00:09:59,162 - ..done
Clingo statistics:
{'call': 0.0, 'result': 1.0, 'signal': 0.0, 'exhausted': 1.0, 'costs': [12.0], 'lower': [12.0], 'concurrency': 32.0, 'winner': 19.0, 'times': {'total': 0.08639192581176758, 'cpu': 0.10044900000000023, 'solve': 0.002466917037963867, 'unsat': 0.0005800724029541016, 'sat': 0.0015718936920166016}, 'models': {'enumerated': 6.0, 'optimal': 1.0}}
Solution cost: [12.0]
Total time: 0.08639192581176758
CPU time: 0.10044900000000023
Solve time: 0.002466917037963867
2024-08-09 00:09:59,175 - Learned the following sketch:
(:policy
(:booleans )
(:numericals (f21 "n_count(c_primitive(on,0))") (f37 "n_concept_distance(c_some(r_primitive(at_g,0,1),c_primitive(at-ferry,0)),r_primitive(at,0,1),c_equal(r_primitive(at,0,1),r_primitive(at_g,0,1)))"))
(:rule (:conditions (:c_n_eq f21) (:c_n_gt f37)) (:effects (:e_n_inc f21) (:e_n_bot f37)))
(:rule (:conditions (:c_n_gt f21) (:c_n_gt f37)) (:effects (:e_n_bot f21) (:e_n_inc f37)))
(:rule (:conditions (:c_n_gt f21) (:c_n_gt f37)) (:effects (:e_n_dec f21) (:e_n_dec f37)))
(:rule (:conditions (:c_n_eq f21) (:c_n_eq f37)) (:effects (:e_n_inc f21) (:e_n_bot f37)))
(:rule (:conditions (:c_n_eq f21) (:c_n_gt f37)) (:effects (:e_n_bot f21) (:e_n_dec f37)))
(:rule (:conditions (:c_n_gt f21) (:c_n_eq f37)) (:effects (:e_n_bot f21) (:e_n_inc f37)))
)
Numer of sketch rules: 6
Number of selected features: 2
Maximum complexity of selected feature: 8
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p75.pddl
2024-08-09 00:09:59,176 - Verifying learned sketch...
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p75.pddl
Sketch fails to bound width of a state
/proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p25.pddl
Instance: 0
Source_state: 2
Dlplan state: (instance index=0, state index=2, atoms={at-ferry(loc2), on(car1)})
2024-08-09 00:09:59,178 - ..done
Smallest unsolved instance: 0
Selected instances: [2, 0]
2024-08-09 00:09:59,178 - Iteration: 3
     id: 2 problem_filepath: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p75.pddl num_states: 16 num_state_equivalences: 8
     id: 0 problem_filepath: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p25.pddl num_states: 6 num_state_equivalences: 6
2024-08-09 00:09:59,182 - Initialize global faithful abstract states...
2024-08-09 00:09:59,182 - ..done
2024-08-09 00:09:59,183 - Initializing DomainFeatureData...
[t=2.55448s, 2501964 KB] Started generating base features of complexity 1.
[t=2.55463s, 2501964 KB] Complexity 1:
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 0
    c_not: 0
    c_equal: 0
    c_some: 0
    c_all: 0
    r_restrict: 0
    r_and: 0
    r_inverse: 0
    r_transitive_closure: 0
    b_empty: 0
    n_count: 0
    n_concept_distance: 0
[t=2.55496s, 2501964 KB] Finished generating base features.
[t=2.555s, 2501964 KB] Started generating composite features. 
[t=2.55513s, 2501964 KB] Complexity 2:
Total concept elements: 8
Total role elements: 4
Total numerical elements: 7
Total boolean elements: 4
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 0
    c_not: 2
    c_equal: 0
    c_some: 0
    c_all: 0
    r_restrict: 0
    r_and: 0
    r_inverse: 2
    r_transitive_closure: 0
    b_empty: 2
    n_count: 7
    n_concept_distance: 0
[t=2.55579s, 2501964 KB] Complexity 3:
Total concept elements: 15
Total role elements: 8
Total numerical elements: 9
Total boolean elements: 4
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 0
    c_not: 2
    c_equal: 1
    c_some: 3
    c_all: 3
    r_restrict: 3
    r_and: 1
    r_inverse: 2
    r_transitive_closure: 0
    b_empty: 2
    n_count: 9
    n_concept_distance: 0
[t=2.55645s, 2501964 KB] Complexity 4:
Total concept elements: 27
Total role elements: 11
Total numerical elements: 17
Total boolean elements: 7
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 1
    c_not: 7
    c_equal: 1
    c_some: 6
    c_all: 6
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 5
    n_count: 16
    n_concept_distance: 1
[t=2.55737s, 2501964 KB] Complexity 5:
Total concept elements: 37
Total role elements: 11
Total numerical elements: 24
Total boolean elements: 10
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 5
    c_not: 10
    c_equal: 1
    c_some: 7
    c_all: 8
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 8
    n_count: 23
    n_concept_distance: 1
[t=2.55865s, 2501964 KB] Complexity 6:
Total concept elements: 87
Total role elements: 11
Total numerical elements: 30
Total boolean elements: 13
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 23
    c_not: 15
    c_equal: 1
    c_some: 17
    c_all: 25
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 11
    n_count: 29
    n_concept_distance: 1
[t=2.56038s, 2501964 KB] Complexity 7:
Total concept elements: 135
Total role elements: 11
Total numerical elements: 73
Total boolean elements: 28
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 45
    c_not: 41
    c_equal: 1
    c_some: 17
    c_all: 25
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 26
    n_count: 66
    n_concept_distance: 7
[t=2.56415s, 2501964 KB] Complexity 8:
Total concept elements: 264
Total role elements: 11
Total numerical elements: 105
Total boolean elements: 36
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 98
    c_not: 57
    c_equal: 1
    c_some: 43
    c_all: 59
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 34
    n_count: 96
    n_concept_distance: 9
[t=2.56962s, 2501964 KB] Complexity 9:
Total concept elements: 466
Total role elements: 11
Total numerical elements: 219
Total boolean elements: 75
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 179
    c_not: 143
    c_equal: 1
    c_some: 57
    c_all: 80
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 73
    n_count: 204
    n_concept_distance: 15
[t=2.56996s, 2501964 KB] Finished generating composite features.
Features generated: 294
Features after 0/1 pruning (incomplete): 179
Features after soft changes pruning (incomplete): 177
Features after relevant changes pruning (complete): 119
2024-08-09 00:09:59,431 - ..done
2024-08-09 00:09:59,431 - Constructing PerStateFeatureValuations...
2024-08-09 00:09:59,432 - ..done
2024-08-09 00:09:59,432 - Constructing StatePairEquivalenceDatas...
2024-08-09 00:09:59,464 - ..done
2024-08-09 00:09:59,465 - Constructing TupleGraphEquivalences...
Tuple graph equivalence construction statistics:
Num nodes: 40
2024-08-09 00:09:59,466 - ..done
2024-08-09 00:09:59,466 - Minimizing TupleGraphEquivalences...
Tuple graph equivalence minimization statistics:
Num orig nodes: 40
Num kept nodes: 38
2024-08-09 00:09:59,467 - ..done
Number of initial D2 facts: 35
Number of D2 facts: 35 of 1444
2024-08-09 00:09:59,533 - Grounding Logic Program...
2024-08-09 00:09:59,591 - ..done
2024-08-09 00:09:59,592 - Solving Logic Program...
2024-08-09 00:09:59,597 - ..done
Clingo statistics:
{'call': 0.0, 'result': 1.0, 'signal': 0.0, 'exhausted': 1.0, 'costs': [8.0], 'lower': [8.0], 'concurrency': 32.0, 'winner': 5.0, 'times': {'total': 0.1297450065612793, 'cpu': 0.141915, 'solve': 0.0024170875549316406, 'unsat': 0.0006740093231201172, 'sat': 0.0014090538024902344}, 'models': {'enumerated': 5.0, 'optimal': 1.0}}
Solution cost: [8.0]
Total time: 0.1297450065612793
CPU time: 0.141915
Solve time: 0.0024170875549316406
2024-08-09 00:09:59,631 - Learned the following sketch:
(:policy
(:booleans (f3 "b_nullary(empty-ferry)"))
(:numericals (f101 "n_count(r_and(r_primitive(at,0,1),r_primitive(at_g,0,1)))"))
(:rule (:conditions (:c_b_pos f3) (:c_n_eq f101)) (:effects (:e_b_neg f3) (:e_n_bot f101)))
(:rule (:conditions (:c_b_neg f3) (:c_n_eq f101)) (:effects (:e_b_bot f3) (:e_n_bot f101)))
(:rule (:conditions (:c_b_neg f3) (:c_n_eq f101)) (:effects (:e_b_pos f3) (:e_n_inc f101)))
(:rule (:conditions (:c_b_pos f3) (:c_n_gt f101)) (:effects (:e_b_neg f3) (:e_n_bot f101)))
(:rule (:conditions (:c_b_pos f3) (:c_n_gt f101)) (:effects (:e_b_bot f3) (:e_n_bot f101)))
(:rule (:conditions (:c_b_neg f3) (:c_n_gt f101)) (:effects (:e_b_bot f3) (:e_n_bot f101)))
(:rule (:conditions (:c_b_neg f3) (:c_n_gt f101)) (:effects (:e_b_pos f3) (:e_n_inc f101)))
(:rule (:conditions (:c_b_pos f3) (:c_n_eq f101)) (:effects (:e_b_bot f3) (:e_n_bot f101)))
)
Numer of sketch rules: 8
Number of selected features: 2
Maximum complexity of selected feature: 4
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p75.pddl
Sketch cycles
Instance: 2
19
19
Number of unsatisfied D2 facts: 27
Number of D2 facts: 62 of 1444
2024-08-09 00:09:59,829 - Grounding Logic Program...
2024-08-09 00:09:59,887 - ..done
2024-08-09 00:09:59,887 - Solving Logic Program...
2024-08-09 00:09:59,893 - ..done
Clingo statistics:
{'call': 0.0, 'result': 1.0, 'signal': 0.0, 'exhausted': 1.0, 'costs': [13.0], 'lower': [13.0], 'concurrency': 32.0, 'winner': 10.0, 'times': {'total': 0.2611510753631592, 'cpu': 0.27591399999999977, 'solve': 0.003222227096557617, 'unsat': 0.0008502006530761719, 'sat': 0.002215147018432617}, 'models': {'enumerated': 5.0, 'optimal': 1.0}}
Solution cost: [13.0]
Total time: 0.2611510753631592
CPU time: 0.27591399999999977
Solve time: 0.003222227096557617
2024-08-09 00:09:59,930 - Learned the following sketch:
(:policy
(:booleans )
(:numericals (f79 "n_count(c_some(r_primitive(at,0,1),c_primitive(at-ferry,0)))") (f84 "n_count(c_and(c_primitive(on,0),c_not(c_some(r_primitive(at_g,0,1),c_primitive(at-ferry,0)))))"))
(:rule (:conditions (:c_n_gt f79) (:c_n_eq f84)) (:effects (:e_n_dec f79) (:e_n_inc f84)))
(:rule (:conditions (:c_n_eq f79) (:c_n_gt f84)) (:effects (:e_n_inc f79) (:e_n_dec f84)))
(:rule (:conditions (:c_n_gt f79) (:c_n_eq f84)) (:effects (:e_n_inc f79) (:e_n_bot f84)))
(:rule (:conditions (:c_n_eq f79) (:c_n_eq f84)) (:effects (:e_n_inc f79) (:e_n_bot f84)))
(:rule (:conditions (:c_n_gt f79) (:c_n_gt f84)) (:effects (:e_n_dec f79) (:e_n_dec f84)))
(:rule (:conditions (:c_n_eq f79) (:c_n_gt f84)) (:effects (:e_n_bot f79) (:e_n_dec f84)))
)
Numer of sketch rules: 6
Number of selected features: 2
Maximum complexity of selected feature: 7
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p75.pddl
Sketch cycles
Instance: 2
13
14
15
14
Number of unsatisfied D2 facts: 5
Number of D2 facts: 67 of 1444
2024-08-09 00:10:00,134 - Grounding Logic Program...
2024-08-09 00:10:00,193 - ..done
2024-08-09 00:10:00,194 - Solving Logic Program...
2024-08-09 00:10:00,200 - ..done
Clingo statistics:
{'call': 0.0, 'result': 1.0, 'signal': 0.0, 'exhausted': 1.0, 'costs': [14.0], 'lower': [14.0], 'concurrency': 32.0, 'winner': 10.0, 'times': {'total': 0.26906895637512207, 'cpu': 0.2845519999999997, 'solve': 0.0034780502319335938, 'unsat': 0.0010828971862792969, 'sat': 0.0015060901641845703}, 'models': {'enumerated': 13.0, 'optimal': 1.0}}
Solution cost: [14.0]
Total time: 0.26906895637512207
CPU time: 0.2845519999999997
Solve time: 0.0034780502319335938
2024-08-09 00:10:00,237 - Learned the following sketch:
(:policy
(:booleans )
(:numericals (f34 "n_count(c_not(c_all(r_primitive(at,0,1),c_primitive(at-ferry,0))))") (f84 "n_count(c_and(c_primitive(on,0),c_not(c_some(r_primitive(at_g,0,1),c_primitive(at-ferry,0)))))"))
(:rule (:conditions (:c_n_gt f34) (:c_n_eq f84)) (:effects (:e_n_bot f34) (:e_n_inc f84)))
(:rule (:conditions (:c_n_gt f34) (:c_n_gt f84)) (:effects (:e_n_dec f34) (:e_n_dec f84)))
(:rule (:conditions (:c_n_eq f34) (:c_n_eq f84)) (:effects (:e_n_bot f34) (:e_n_bot f84)))
(:rule (:conditions (:c_n_eq f34) (:c_n_eq f84)) (:effects (:e_n_bot f34) (:e_n_inc f84)))
(:rule (:conditions (:c_n_gt f34) (:c_n_eq f84)) (:effects (:e_n_dec f34) (:e_n_bot f84)))
(:rule (:conditions (:c_n_eq f34) (:c_n_gt f84)) (:effects (:e_n_inc f34) (:e_n_dec f84)))
(:rule (:conditions (:c_n_gt f34) (:c_n_eq f84)) (:effects (:e_n_bot f34) (:e_n_bot f84)))
(:rule (:conditions (:c_n_eq f34) (:c_n_gt f84)) (:effects (:e_n_bot f34) (:e_n_dec f84)))
)
Numer of sketch rules: 8
Number of selected features: 2
Maximum complexity of selected feature: 7
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p75.pddl
Sketch cycles
Instance: 2
19
19
Number of unsatisfied D2 facts: 25
Number of D2 facts: 92 of 1444
2024-08-09 00:10:00,441 - Grounding Logic Program...
2024-08-09 00:10:00,504 - ..done
2024-08-09 00:10:00,505 - Solving Logic Program...
2024-08-09 00:10:00,513 - ..done
Clingo statistics:
{'call': 0.0, 'result': 1.0, 'signal': 0.0, 'exhausted': 1.0, 'costs': [15.0], 'lower': [15.0], 'concurrency': 32.0, 'winner': 18.0, 'times': {'total': 0.27381300926208496, 'cpu': 0.29184199999999993, 'solve': 0.0044939517974853516, 'unsat': 0.0018420219421386719, 'sat': 0.0019350051879882812}, 'models': {'enumerated': 14.0, 'optimal': 1.0}}
Solution cost: [15.0]
Total time: 0.27381300926208496
CPU time: 0.29184199999999993
Solve time: 0.0044939517974853516
2024-08-09 00:10:00,547 - Learned the following sketch:
(:policy
(:booleans (f3 "b_nullary(empty-ferry)"))
(:numericals (f79 "n_count(c_some(r_primitive(at,0,1),c_primitive(at-ferry,0)))") (f57 "n_count(c_and(c_primitive(on,0),c_some(r_primitive(at_g,0,1),c_primitive(at-ferry,0))))"))
(:rule (:conditions (:c_b_pos f3) (:c_n_gt f79) (:c_n_eq f57)) (:effects (:e_b_neg f3) (:e_n_dec f79) (:e_n_bot f57)))
(:rule (:conditions (:c_b_neg f3) (:c_n_eq f79) (:c_n_eq f57)) (:effects (:e_b_bot f3) (:e_n_inc f79) (:e_n_inc f57)))
(:rule (:conditions (:c_b_neg f3) (:c_n_gt f79) (:c_n_gt f57)) (:effects (:e_b_pos f3) (:e_n_inc f79) (:e_n_dec f57)))
(:rule (:conditions (:c_b_pos f3) (:c_n_eq f79) (:c_n_eq f57)) (:effects (:e_b_bot f3) (:e_n_inc f79) (:e_n_bot f57)))
(:rule (:conditions (:c_b_neg f3) (:c_n_gt f79) (:c_n_eq f57)) (:effects (:e_b_bot f3) (:e_n_dec f79) (:e_n_inc f57)))
(:rule (:conditions (:c_b_neg f3) (:c_n_eq f79) (:c_n_gt f57)) (:effects (:e_b_pos f3) (:e_n_inc f79) (:e_n_dec f57)))
(:rule (:conditions (:c_b_neg f3) (:c_n_eq f79) (:c_n_eq f57)) (:effects (:e_b_bot f3) (:e_n_bot f79) (:e_n_inc f57)))
)
Numer of sketch rules: 7
Number of selected features: 3
Maximum complexity of selected feature: 6
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p75.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p25.pddl
2024-08-09 00:10:00,549 - Verifying learned sketch...
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p75.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p25.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p25.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p32.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p75.pddl
Sketch fails to bound width of a state
/proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p76.pddl
Instance: 3
Source_state: 25
Dlplan state: (instance index=3, state index=14, atoms={at(car2,loc2), at(car1,loc1), empty-ferry(), at-ferry(loc2)})
2024-08-09 00:10:00,552 - ..done
Smallest unsolved instance: 3
Selected instances: [3]
2024-08-09 00:10:00,552 - Iteration: 4
     id: 3 problem_filepath: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p76.pddl num_states: 16 num_state_equivalences: 10
2024-08-09 00:10:00,631 - Initialize global faithful abstract states...
2024-08-09 00:10:00,631 - ..done
2024-08-09 00:10:00,631 - Initializing DomainFeatureData...
[t=4.00267s, 2501964 KB] Started generating base features of complexity 1.
[t=4.00281s, 2501964 KB] Complexity 1:
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 0
    c_not: 0
    c_equal: 0
    c_some: 0
    c_all: 0
    r_restrict: 0
    r_and: 0
    r_inverse: 0
    r_transitive_closure: 0
    b_empty: 0
    n_count: 0
    n_concept_distance: 0
[t=4.00311s, 2501964 KB] Finished generating base features.
[t=4.00315s, 2501964 KB] Started generating composite features. 
[t=4.00328s, 2501964 KB] Complexity 2:
Total concept elements: 8
Total role elements: 4
Total numerical elements: 6
Total boolean elements: 3
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 0
    c_not: 2
    c_equal: 0
    c_some: 0
    c_all: 0
    r_restrict: 0
    r_and: 0
    r_inverse: 2
    r_transitive_closure: 0
    b_empty: 1
    n_count: 6
    n_concept_distance: 0
[t=4.00384s, 2501964 KB] Complexity 3:
Total concept elements: 15
Total role elements: 8
Total numerical elements: 8
Total boolean elements: 3
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 0
    c_not: 2
    c_equal: 1
    c_some: 3
    c_all: 3
    r_restrict: 3
    r_and: 1
    r_inverse: 2
    r_transitive_closure: 0
    b_empty: 1
    n_count: 8
    n_concept_distance: 0
[t=4.00441s, 2501964 KB] Complexity 4:
Total concept elements: 26
Total role elements: 11
Total numerical elements: 16
Total boolean elements: 6
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 1
    c_not: 7
    c_equal: 1
    c_some: 6
    c_all: 5
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 4
    n_count: 15
    n_concept_distance: 1
[t=4.0052s, 2501964 KB] Complexity 5:
Total concept elements: 35
Total role elements: 11
Total numerical elements: 23
Total boolean elements: 9
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 5
    c_not: 9
    c_equal: 1
    c_some: 7
    c_all: 7
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 7
    n_count: 22
    n_concept_distance: 1
[t=4.00627s, 2501964 KB] Complexity 6:
Total concept elements: 80
Total role elements: 11
Total numerical elements: 29
Total boolean elements: 12
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 21
    c_not: 14
    c_equal: 1
    c_some: 16
    c_all: 22
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 10
    n_count: 28
    n_concept_distance: 1
[t=4.00763s, 2501964 KB] Complexity 7:
Total concept elements: 122
Total role elements: 11
Total numerical elements: 74
Total boolean elements: 20
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 39
    c_not: 38
    c_equal: 1
    c_some: 16
    c_all: 22
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 18
    n_count: 68
    n_concept_distance: 6
[t=4.0105s, 2501964 KB] Complexity 8:
Total concept elements: 229
Total role elements: 11
Total numerical elements: 106
Total boolean elements: 26
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 84
    c_not: 51
    c_equal: 1
    c_some: 36
    c_all: 51
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 24
    n_count: 99
    n_concept_distance: 7
[t=4.0146s, 2501964 KB] Complexity 9:
Total concept elements: 393
Total role elements: 11
Total numerical elements: 206
Total boolean elements: 51
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 151
    c_not: 124
    c_equal: 1
    c_some: 44
    c_all: 67
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 49
    n_count: 193
    n_concept_distance: 13
[t=4.01494s, 2501964 KB] Finished generating composite features.
Features generated: 257
Features after 0/1 pruning (incomplete): 142
Features after soft changes pruning (incomplete): 141
Features after relevant changes pruning (complete): 86
2024-08-09 00:10:00,777 - ..done
2024-08-09 00:10:00,777 - Constructing PerStateFeatureValuations...
2024-08-09 00:10:00,778 - ..done
2024-08-09 00:10:00,778 - Constructing StatePairEquivalenceDatas...
2024-08-09 00:10:00,796 - ..done
2024-08-09 00:10:00,797 - Constructing TupleGraphEquivalences...
Tuple graph equivalence construction statistics:
Num nodes: 30
2024-08-09 00:10:00,798 - ..done
2024-08-09 00:10:00,798 - Minimizing TupleGraphEquivalences...
Tuple graph equivalence minimization statistics:
Num orig nodes: 30
Num kept nodes: 28
2024-08-09 00:10:00,799 - ..done
Number of initial D2 facts: 26
Number of D2 facts: 26 of 784
2024-08-09 00:10:00,834 - Grounding Logic Program...
2024-08-09 00:10:00,864 - ..done
2024-08-09 00:10:00,864 - Solving Logic Program...
2024-08-09 00:10:00,869 - ..done
Clingo statistics:
{'call': 0.0, 'result': 1.0, 'signal': 0.0, 'exhausted': 1.0, 'costs': [3.0], 'lower': [3.0], 'concurrency': 32.0, 'winner': 0.0, 'times': {'total': 0.06955504417419434, 'cpu': 0.08092900000000025, 'solve': 0.002610921859741211, 'unsat': 0.0004620552062988281, 'sat': 0.0013909339904785156}, 'models': {'enumerated': 10.0, 'optimal': 1.0}}
Solution cost: [3.0]
Total time: 0.06955504417419434
CPU time: 0.08092900000000025
Solve time: 0.002610921859741211
2024-08-09 00:10:00,891 - Learned the following sketch:
(:policy
(:booleans (f2 "b_nullary(empty-ferry)"))
(:numericals )
(:rule (:conditions (:c_b_pos f2)) (:effects (:e_b_neg f2)))
(:rule (:conditions (:c_b_pos f2)) (:effects (:e_b_bot f2)))
(:rule (:conditions (:c_b_neg f2)) (:effects (:e_b_bot f2)))
(:rule (:conditions (:c_b_neg f2)) (:effects (:e_b_pos f2)))
)
Numer of sketch rules: 4
Number of selected features: 1
Maximum complexity of selected feature: 1
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p76.pddl
Sketch cycles
Instance: 3
28
28
Number of unsatisfied D2 facts: 40
Number of D2 facts: 66 of 784
2024-08-09 00:10:00,997 - Grounding Logic Program...
2024-08-09 00:10:01,033 - ..done
2024-08-09 00:10:01,033 - Solving Logic Program...
2024-08-09 00:10:01,038 - ..done
Clingo statistics:
{'call': 0.0, 'result': 1.0, 'signal': 0.0, 'exhausted': 1.0, 'costs': [8.0], 'lower': [8.0], 'concurrency': 32.0, 'winner': 13.0, 'times': {'total': 0.1464979648590088, 'cpu': 0.16012800000000027, 'solve': 0.0026671886444091797, 'unsat': 0.0005850791931152344, 'sat': 0.001764059066772461}, 'models': {'enumerated': 4.0, 'optimal': 1.0}}
Solution cost: [8.0]
Total time: 0.1464979648590088
CPU time: 0.16012800000000027
Solve time: 0.0026671886444091797
2024-08-09 00:10:01,059 - Learned the following sketch:
(:policy
(:booleans (f2 "b_nullary(empty-ferry)"))
(:numericals (f17 "n_count(c_some(r_primitive(at_g,0,1),c_primitive(at-ferry,0)))"))
(:rule (:conditions (:c_b_pos f2) (:c_n_eq f17)) (:effects (:e_b_neg f2) (:e_n_bot f17)))
(:rule (:conditions (:c_b_pos f2) (:c_n_gt f17)) (:effects (:e_b_bot f2) (:e_n_dec f17)))
(:rule (:conditions (:c_b_neg f2) (:c_n_eq f17)) (:effects (:e_b_bot f2) (:e_n_inc f17)))
(:rule (:conditions (:c_b_neg f2) (:c_n_gt f17)) (:effects (:e_b_pos f2) (:e_n_bot f17)))
)
Numer of sketch rules: 4
Number of selected features: 2
Maximum complexity of selected feature: 4
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p76.pddl
2024-08-09 00:10:01,060 - Verifying learned sketch...
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p76.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p25.pddl
Sketch fails to bound width of a state
/proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p32.pddl
Instance: 1
Source_state: 6
Dlplan state: (instance index=1, state index=11, atoms={empty-ferry(), at-ferry(loc1), at(car1,loc3)})
2024-08-09 00:10:01,062 - ..done
Smallest unsolved instance: 1
Selected instances: [3, 1]
2024-08-09 00:10:01,062 - Iteration: 5
     id: 3 problem_filepath: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p76.pddl num_states: 16 num_state_equivalences: 10
     id: 1 problem_filepath: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p32.pddl num_states: 12 num_state_equivalences: 7
2024-08-09 00:10:01,066 - Initialize global faithful abstract states...
2024-08-09 00:10:01,066 - ..done
2024-08-09 00:10:01,066 - Initializing DomainFeatureData...
[t=4.43841s, 2501964 KB] Started generating base features of complexity 1.
[t=4.43883s, 2501964 KB] Complexity 1:
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 0
    c_not: 0
    c_equal: 0
    c_some: 0
    c_all: 0
    r_restrict: 0
    r_and: 0
    r_inverse: 0
    r_transitive_closure: 0
    b_empty: 0
    n_count: 0
    n_concept_distance: 0
[t=4.43913s, 2501964 KB] Finished generating base features.
[t=4.43919s, 2501964 KB] Started generating composite features. 
[t=4.43931s, 2501964 KB] Complexity 2:
Total concept elements: 8
Total role elements: 4
Total numerical elements: 7
Total boolean elements: 4
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 0
    c_not: 2
    c_equal: 0
    c_some: 0
    c_all: 0
    r_restrict: 0
    r_and: 0
    r_inverse: 2
    r_transitive_closure: 0
    b_empty: 2
    n_count: 7
    n_concept_distance: 0
[t=4.43997s, 2501964 KB] Complexity 3:
Total concept elements: 15
Total role elements: 8
Total numerical elements: 9
Total boolean elements: 4
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 0
    c_not: 2
    c_equal: 1
    c_some: 3
    c_all: 3
    r_restrict: 3
    r_and: 1
    r_inverse: 2
    r_transitive_closure: 0
    b_empty: 2
    n_count: 9
    n_concept_distance: 0
[t=4.44063s, 2501964 KB] Complexity 4:
Total concept elements: 27
Total role elements: 11
Total numerical elements: 17
Total boolean elements: 7
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 1
    c_not: 7
    c_equal: 1
    c_some: 6
    c_all: 6
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 5
    n_count: 16
    n_concept_distance: 1
[t=4.4416s, 2501964 KB] Complexity 5:
Total concept elements: 37
Total role elements: 11
Total numerical elements: 26
Total boolean elements: 10
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 5
    c_not: 10
    c_equal: 1
    c_some: 7
    c_all: 8
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 8
    n_count: 25
    n_concept_distance: 1
[t=4.44297s, 2501964 KB] Complexity 6:
Total concept elements: 87
Total role elements: 11
Total numerical elements: 34
Total boolean elements: 13
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 23
    c_not: 15
    c_equal: 1
    c_some: 17
    c_all: 25
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 11
    n_count: 33
    n_concept_distance: 1
[t=4.44486s, 2501964 KB] Complexity 7:
Total concept elements: 136
Total role elements: 11
Total numerical elements: 86
Total boolean elements: 24
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 44
    c_not: 43
    c_equal: 1
    c_some: 17
    c_all: 25
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 22
    n_count: 79
    n_concept_distance: 7
[t=4.44895s, 2501964 KB] Complexity 8:
Total concept elements: 256
Total role elements: 11
Total numerical elements: 129
Total boolean elements: 31
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 95
    c_not: 58
    c_equal: 1
    c_some: 39
    c_all: 57
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 29
    n_count: 120
    n_concept_distance: 9
[t=4.45489s, 2501964 KB] Complexity 9:
Total concept elements: 448
Total role elements: 11
Total numerical elements: 247
Total boolean elements: 59
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 176
    c_not: 142
    c_equal: 1
    c_some: 48
    c_all: 75
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 57
    n_count: 232
    n_concept_distance: 15
[t=4.45526s, 2501964 KB] Finished generating composite features.
Features generated: 306
Features after 0/1 pruning (incomplete): 163
Features after soft changes pruning (incomplete): 161
Features after relevant changes pruning (complete): 97
2024-08-09 00:10:01,355 - ..done
2024-08-09 00:10:01,355 - Constructing PerStateFeatureValuations...
2024-08-09 00:10:01,356 - ..done
2024-08-09 00:10:01,356 - Constructing StatePairEquivalenceDatas...
2024-08-09 00:10:01,392 - ..done
2024-08-09 00:10:01,392 - Constructing TupleGraphEquivalences...
Tuple graph equivalence construction statistics:
Num nodes: 55
2024-08-09 00:10:01,394 - ..done
2024-08-09 00:10:01,394 - Minimizing TupleGraphEquivalences...
Tuple graph equivalence minimization statistics:
Num orig nodes: 55
Num kept nodes: 49
2024-08-09 00:10:01,395 - ..done
Number of initial D2 facts: 44
Number of D2 facts: 44 of 1681
2024-08-09 00:10:01,455 - Grounding Logic Program...
2024-08-09 00:10:01,513 - ..done
2024-08-09 00:10:01,513 - Solving Logic Program...
2024-08-09 00:10:01,519 - ..done
Clingo statistics:
{'call': 0.0, 'result': 1.0, 'signal': 0.0, 'exhausted': 1.0, 'costs': [8.0], 'lower': [8.0], 'concurrency': 32.0, 'winner': 15.0, 'times': {'total': 0.12339091300964355, 'cpu': 0.1380119999999998, 'solve': 0.003237009048461914, 'unsat': 0.0006248950958251953, 'sat': 0.0014960765838623047}, 'models': {'enumerated': 22.0, 'optimal': 1.0}}
Solution cost: [8.0]
Total time: 0.12339091300964355
CPU time: 0.1380119999999998
Solve time: 0.003237009048461914
2024-08-09 00:10:01,551 - Learned the following sketch:
(:policy
(:booleans )
(:numericals (f34 "n_count(c_primitive(on,0))") (f20 "n_count(c_some(r_primitive(at_g,0,1),c_primitive(at-ferry,0)))"))
(:rule (:conditions (:c_n_eq f34) (:c_n_gt f20)) (:effects (:e_n_bot f34) (:e_n_dec f20)))
(:rule (:conditions (:c_n_eq f34) (:c_n_eq f20)) (:effects (:e_n_inc f34) (:e_n_bot f20)))
(:rule (:conditions (:c_n_gt f34) (:c_n_eq f20)) (:effects (:e_n_bot f34) (:e_n_inc f20)))
(:rule (:conditions (:c_n_gt f34) (:c_n_gt f20)) (:effects (:e_n_dec f34) (:e_n_bot f20)))
(:rule (:conditions (:c_n_eq f34) (:c_n_eq f20)) (:effects (:e_n_bot f34) (:e_n_bot f20)))
)
Numer of sketch rules: 5
Number of selected features: 2
Maximum complexity of selected feature: 4
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p76.pddl
Sketch cycles
Instance: 3
26
26
Number of unsatisfied D2 facts: 8
Number of D2 facts: 52 of 1681
2024-08-09 00:10:01,733 - Grounding Logic Program...
2024-08-09 00:10:01,787 - ..done
2024-08-09 00:10:01,787 - Solving Logic Program...
2024-08-09 00:10:01,794 - ..done
Clingo statistics:
{'call': 0.0, 'result': 1.0, 'signal': 0.0, 'exhausted': 1.0, 'costs': [10.0], 'lower': [10.0], 'concurrency': 32.0, 'winner': 30.0, 'times': {'total': 0.24171900749206543, 'cpu': 0.2571859999999999, 'solve': 0.004045009613037109, 'unsat': 0.0008559226989746094, 'sat': 0.00209808349609375}, 'models': {'enumerated': 28.0, 'optimal': 1.0}}
Solution cost: [10.0]
Total time: 0.24171900749206543
CPU time: 0.2571859999999999
Solve time: 0.004045009613037109
2024-08-09 00:10:01,824 - Learned the following sketch:
(:policy
(:booleans )
(:numericals (f20 "n_count(c_some(r_primitive(at_g,0,1),c_primitive(at-ferry,0)))") (f87 "n_count(c_some(r_primitive(at,0,1),c_primitive(at-ferry,0)))"))
(:rule (:conditions (:c_n_gt f20) (:c_n_eq f87)) (:effects (:e_n_dec f20) (:e_n_inc f87)))
(:rule (:conditions (:c_n_eq f20) (:c_n_gt f87)) (:effects (:e_n_bot f20) (:e_n_dec f87)))
(:rule (:conditions (:c_n_eq f87) (:c_n_eq f20)) (:effects (:e_n_bot f87) (:e_n_inc f20)))
(:rule (:conditions (:c_n_gt f20) (:c_n_eq f87)) (:effects (:e_n_bot f20) (:e_n_inc f87)))
(:rule (:conditions (:c_n_eq f20) (:c_n_gt f87)) (:effects (:e_n_dec f87) (:e_n_inc f20)))
(:rule (:conditions (:c_n_gt f20) (:c_n_gt f87)) (:effects (:e_n_bot f87) (:e_n_dec f20)))
(:rule (:conditions (:c_n_eq f87) (:c_n_eq f20)) (:effects (:e_n_inc f87) (:e_n_inc f20)))
(:rule (:conditions (:c_n_gt f20) (:c_n_gt f87)) (:effects (:e_n_bot f20) (:e_n_inc f87)))
)
Numer of sketch rules: 8
Number of selected features: 2
Maximum complexity of selected feature: 4
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p76.pddl
Sketch cycles
Instance: 3
23
24
24
Number of unsatisfied D2 facts: 6
Number of D2 facts: 58 of 1681
2024-08-09 00:10:01,997 - Grounding Logic Program...
2024-08-09 00:10:02,048 - ..done
2024-08-09 00:10:02,048 - Solving Logic Program...
2024-08-09 00:10:02,054 - ..done
Clingo statistics:
{'call': 0.0, 'result': 1.0, 'signal': 0.0, 'exhausted': 1.0, 'costs': [13.0], 'lower': [13.0], 'concurrency': 32.0, 'winner': 6.0, 'times': {'total': 0.22810697555541992, 'cpu': 0.2441589999999998, 'solve': 0.003407001495361328, 'unsat': 0.0012319087982177734, 'sat': 0.0015211105346679688}, 'models': {'enumerated': 14.0, 'optimal': 1.0}}
Solution cost: [13.0]
Total time: 0.22810697555541992
CPU time: 0.2441589999999998
Solve time: 0.003407001495361328
2024-08-09 00:10:02,084 - Learned the following sketch:
(:policy
(:booleans (f3 "b_nullary(empty-ferry)"))
(:numericals (f20 "n_count(c_some(r_primitive(at_g,0,1),c_primitive(at-ferry,0)))") (f87 "n_count(c_some(r_primitive(at,0,1),c_primitive(at-ferry,0)))"))
(:rule (:conditions (:c_b_pos f3) (:c_n_gt f20) (:c_n_eq f87)) (:effects (:e_b_bot f3) (:e_n_dec f20) (:e_n_inc f87)))
(:rule (:conditions (:c_b_pos f3) (:c_n_eq f20) (:c_n_gt f87)) (:effects (:e_b_neg f3) (:e_n_bot f20) (:e_n_dec f87)))
(:rule (:conditions (:c_b_neg f3) (:c_n_eq f87) (:c_n_eq f20)) (:effects (:e_b_bot f3) (:e_n_bot f87) (:e_n_inc f20)))
(:rule (:conditions (:c_b_neg f3) (:c_n_gt f20) (:c_n_eq f87)) (:effects (:e_b_pos f3) (:e_n_bot f20) (:e_n_inc f87)))
(:rule (:conditions (:c_b_neg f3) (:c_n_eq f20) (:c_n_gt f87)) (:effects (:e_b_bot f3) (:e_n_dec f87) (:e_n_inc f20)))
(:rule (:conditions (:c_b_pos f3) (:c_n_gt f20) (:c_n_gt f87)) (:effects (:e_b_bot f3) (:e_n_bot f87) (:e_n_dec f20)))
(:rule (:conditions (:c_b_neg f3) (:c_n_eq f87) (:c_n_eq f20)) (:effects (:e_b_bot f3) (:e_n_inc f87) (:e_n_inc f20)))
(:rule (:conditions (:c_b_neg f3) (:c_n_gt f20) (:c_n_gt f87)) (:effects (:e_b_pos f3) (:e_n_bot f20) (:e_n_inc f87)))
(:rule (:conditions (:c_b_pos f3) (:c_n_eq f87) (:c_n_eq f20)) (:effects (:e_b_bot f3) (:e_n_bot f20) (:e_n_inc f87)))
)
Numer of sketch rules: 9
Number of selected features: 3
Maximum complexity of selected feature: 4
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p76.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p32.pddl
2024-08-09 00:10:02,086 - Verifying learned sketch...
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p76.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p32.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p25.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p32.pddl
Sketch fails to bound width of a state
/proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p75.pddl
Instance: 2
Source_state: 17
Dlplan state: (instance index=2, state index=13, atoms={at(car1,loc2), at(car2,loc2), empty-ferry(), at-ferry(loc1)})
2024-08-09 00:10:02,089 - ..done
Smallest unsolved instance: 2
Selected instances: [3, 1, 2]
2024-08-09 00:10:02,089 - Iteration: 6
     id: 3 problem_filepath: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p76.pddl num_states: 16 num_state_equivalences: 10
     id: 1 problem_filepath: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p32.pddl num_states: 12 num_state_equivalences: 7
     id: 2 problem_filepath: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p75.pddl num_states: 16 num_state_equivalences: 8
2024-08-09 00:10:02,092 - Initialize global faithful abstract states...
2024-08-09 00:10:02,092 - ..done
2024-08-09 00:10:02,092 - Initializing DomainFeatureData...
[t=5.4635s, 2501964 KB] Started generating base features of complexity 1.
[t=5.46368s, 2501964 KB] Complexity 1:
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 0
    c_not: 0
    c_equal: 0
    c_some: 0
    c_all: 0
    r_restrict: 0
    r_and: 0
    r_inverse: 0
    r_transitive_closure: 0
    b_empty: 0
    n_count: 0
    n_concept_distance: 0
[t=5.464s, 2501964 KB] Finished generating base features.
[t=5.46404s, 2501964 KB] Started generating composite features. 
[t=5.46421s, 2501964 KB] Complexity 2:
Total concept elements: 8
Total role elements: 4
Total numerical elements: 7
Total boolean elements: 4
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 0
    c_not: 2
    c_equal: 0
    c_some: 0
    c_all: 0
    r_restrict: 0
    r_and: 0
    r_inverse: 2
    r_transitive_closure: 0
    b_empty: 2
    n_count: 7
    n_concept_distance: 0
[t=5.46495s, 2501964 KB] Complexity 3:
Total concept elements: 15
Total role elements: 8
Total numerical elements: 9
Total boolean elements: 4
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 0
    c_not: 2
    c_equal: 1
    c_some: 3
    c_all: 3
    r_restrict: 3
    r_and: 1
    r_inverse: 2
    r_transitive_closure: 0
    b_empty: 2
    n_count: 9
    n_concept_distance: 0
[t=5.46567s, 2501964 KB] Complexity 4:
Total concept elements: 27
Total role elements: 11
Total numerical elements: 17
Total boolean elements: 7
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 1
    c_not: 7
    c_equal: 1
    c_some: 6
    c_all: 6
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 5
    n_count: 16
    n_concept_distance: 1
[t=5.46684s, 2501964 KB] Complexity 5:
Total concept elements: 37
Total role elements: 11
Total numerical elements: 28
Total boolean elements: 10
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 5
    c_not: 10
    c_equal: 1
    c_some: 7
    c_all: 8
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 8
    n_count: 27
    n_concept_distance: 1
[t=5.46855s, 2501964 KB] Complexity 6:
Total concept elements: 91
Total role elements: 11
Total numerical elements: 36
Total boolean elements: 13
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 23
    c_not: 15
    c_equal: 1
    c_some: 19
    c_all: 27
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 11
    n_count: 35
    n_concept_distance: 1
[t=5.47077s, 2501964 KB] Complexity 7:
Total concept elements: 143
Total role elements: 11
Total numerical elements: 95
Total boolean elements: 29
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 45
    c_not: 45
    c_equal: 1
    c_some: 19
    c_all: 27
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 27
    n_count: 88
    n_concept_distance: 7
[t=5.47624s, 2501964 KB] Complexity 8:
Total concept elements: 295
Total role elements: 11
Total numerical elements: 147
Total boolean elements: 38
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 98
    c_not: 61
    c_equal: 1
    c_some: 56
    c_all: 73
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 36
    n_count: 138
    n_concept_distance: 9
[t=5.48419s, 2501964 KB] Complexity 9:
Total concept elements: 536
Total role elements: 11
Total numerical elements: 303
Total boolean elements: 87
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 190
    c_not: 166
    c_equal: 1
    c_some: 73
    c_all: 100
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 85
    n_count: 288
    n_concept_distance: 15
[t=5.48454s, 2501964 KB] Finished generating composite features.
Features generated: 390
Features after 0/1 pruning (incomplete): 229
Features after soft changes pruning (incomplete): 224
Features after relevant changes pruning (complete): 158
2024-08-09 00:10:02,713 - ..done
2024-08-09 00:10:02,713 - Constructing PerStateFeatureValuations...
2024-08-09 00:10:02,716 - ..done
2024-08-09 00:10:02,716 - Constructing StatePairEquivalenceDatas...
2024-08-09 00:10:02,807 - ..done
2024-08-09 00:10:02,808 - Constructing TupleGraphEquivalences...
Tuple graph equivalence construction statistics:
Num nodes: 79
2024-08-09 00:10:02,810 - ..done
2024-08-09 00:10:02,810 - Minimizing TupleGraphEquivalences...
Tuple graph equivalence minimization statistics:
Num orig nodes: 79
Num kept nodes: 71
2024-08-09 00:10:02,812 - ..done
Number of initial D2 facts: 65
Number of D2 facts: 65 of 3969
2024-08-09 00:10:02,974 - Grounding Logic Program...
2024-08-09 00:10:03,100 - ..done
2024-08-09 00:10:03,100 - Solving Logic Program...
2024-08-09 00:10:03,110 - ..done
Clingo statistics:
{'call': 0.0, 'result': 1.0, 'signal': 0.0, 'exhausted': 1.0, 'costs': [8.0], 'lower': [8.0], 'concurrency': 32.0, 'winner': 16.0, 'times': {'total': 0.2971971035003662, 'cpu': 0.31465300000000074, 'solve': 0.003492116928100586, 'unsat': 0.0008790493011474609, 'sat': 0.0019350051879882812}, 'models': {'enumerated': 11.0, 'optimal': 1.0}}
Solution cost: [8.0]
Total time: 0.2971971035003662
CPU time: 0.31465300000000074
Solve time: 0.003492116928100586
2024-08-09 00:10:03,181 - Learned the following sketch:
(:policy
(:booleans )
(:numericals (f48 "n_count(c_primitive(on,0))") (f147 "n_count(c_some(r_primitive(at,0,1),c_primitive(at-ferry,0)))"))
(:rule (:conditions (:c_n_eq f48) (:c_n_eq f147)) (:effects (:e_n_bot f48) (:e_n_inc f147)))
(:rule (:conditions (:c_n_eq f48) (:c_n_eq f147)) (:effects (:e_n_bot f48) (:e_n_bot f147)))
(:rule (:conditions (:c_n_eq f48) (:c_n_gt f147)) (:effects (:e_n_inc f48) (:e_n_dec f147)))
(:rule (:conditions (:c_n_gt f48) (:c_n_eq f147)) (:effects (:e_n_bot f48) (:e_n_bot f147)))
(:rule (:conditions (:c_n_gt f48) (:c_n_eq f147)) (:effects (:e_n_dec f48) (:e_n_inc f147)))
(:rule (:conditions (:c_n_gt f48) (:c_n_eq f147)) (:effects (:e_n_bot f48) (:e_n_inc f147)))
(:rule (:conditions (:c_n_gt f48) (:c_n_gt f147)) (:effects (:e_n_dec f48) (:e_n_inc f147)))
(:rule (:conditions (:c_n_gt f48) (:c_n_gt f147)) (:effects (:e_n_bot f48) (:e_n_dec f147)))
(:rule (:conditions (:c_n_eq f48) (:c_n_gt f147)) (:effects (:e_n_bot f48) (:e_n_bot f147)))
)
Numer of sketch rules: 9
Number of selected features: 2
Maximum complexity of selected feature: 4
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p76.pddl
Sketch cycles
Instance: 3
27
28
27
Number of unsatisfied D2 facts: 69
Number of D2 facts: 134 of 3969
2024-08-09 00:10:03,624 - Grounding Logic Program...
2024-08-09 00:10:03,757 - ..done
2024-08-09 00:10:03,757 - Solving Logic Program...
2024-08-09 00:10:03,770 - ..done
Clingo statistics:
{'call': 0.0, 'result': 1.0, 'signal': 0.0, 'exhausted': 1.0, 'costs': [15.0], 'lower': [15.0], 'concurrency': 32.0, 'winner': 17.0, 'times': {'total': 0.5869719982147217, 'cpu': 0.6151939999999998, 'solve': 0.005326032638549805, 'unsat': 0.0012140274047851562, 'sat': 0.002245187759399414}, 'models': {'enumerated': 19.0, 'optimal': 1.0}}
Solution cost: [15.0]
Total time: 0.5869719982147217
CPU time: 0.6151939999999998
Solve time: 0.005326032638549805
2024-08-09 00:10:03,845 - Learned the following sketch:
(:policy
(:booleans (f4 "b_nullary(empty-ferry)"))
(:numericals (f30 "n_count(c_some(r_primitive(at_g,0,1),c_primitive(at-ferry,0)))") (f74 "n_count(c_and(c_primitive(on,0),c_some(r_primitive(at_g,0,1),c_primitive(at-ferry,0))))"))
(:rule (:conditions (:c_b_pos f4) (:c_n_eq f30) (:c_n_eq f74)) (:effects (:e_b_bot f4) (:e_n_bot f30) (:e_n_bot f74)))
(:rule (:conditions (:c_b_pos f4) (:c_n_gt f30) (:c_n_eq f74)) (:effects (:e_b_bot f4) (:e_n_dec f30) (:e_n_bot f74)))
(:rule (:conditions (:c_b_pos f4) (:c_n_eq f30) (:c_n_eq f74)) (:effects (:e_b_neg f4) (:e_n_bot f30) (:e_n_bot f74)))
(:rule (:conditions (:c_b_neg f4) (:c_n_eq f30) (:c_n_eq f74)) (:effects (:e_b_bot f4) (:e_n_inc f30) (:e_n_inc f74)))
(:rule (:conditions (:c_b_neg f4) (:c_n_gt f30) (:c_n_gt f74)) (:effects (:e_b_pos f4) (:e_n_bot f30) (:e_n_dec f74)))
(:rule (:conditions (:c_b_pos f4) (:c_n_gt f30) (:c_n_eq f74)) (:effects (:e_b_neg f4) (:e_n_bot f30) (:e_n_bot f74)))
(:rule (:conditions (:c_b_neg f4) (:c_n_gt f30) (:c_n_eq f74)) (:effects (:e_b_bot f4) (:e_n_bot f30) (:e_n_inc f74)))
(:rule (:conditions (:c_b_pos f4) (:c_n_gt f30) (:c_n_eq f74)) (:effects (:e_b_bot f4) (:e_n_bot f30) (:e_n_bot f74)))
)
Numer of sketch rules: 8
Number of selected features: 3
Maximum complexity of selected feature: 6
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p76.pddl
Sketch cycles
Instance: 3
26
26
Number of unsatisfied D2 facts: 16
Number of D2 facts: 150 of 3969
2024-08-09 00:10:04,299 - Grounding Logic Program...
2024-08-09 00:10:04,434 - ..done
2024-08-09 00:10:04,434 - Solving Logic Program...
2024-08-09 00:10:04,450 - ..done
Clingo statistics:
{'call': 0.0, 'result': 1.0, 'signal': 0.0, 'exhausted': 1.0, 'costs': [18.0], 'lower': [18.0], 'concurrency': 32.0, 'winner': 22.0, 'times': {'total': 0.602776050567627, 'cpu': 0.642811, 'solve': 0.007879018783569336, 'unsat': 0.0048711299896240234, 'sat': 0.0022039413452148438}, 'models': {'enumerated': 15.0, 'optimal': 1.0}}
Solution cost: [18.0]
Total time: 0.602776050567627
CPU time: 0.642811
Solve time: 0.007879018783569336
2024-08-09 00:10:04,521 - Learned the following sketch:
(:policy
(:booleans )
(:numericals (f48 "n_count(c_primitive(on,0))") (f147 "n_count(c_some(r_primitive(at,0,1),c_primitive(at-ferry,0)))") (f122 "n_count(c_and(c_some(r_primitive(at_g,0,1),c_primitive(at-ferry,0)),c_not(c_equal(r_primitive(at,0,1),r_primitive(at_g,0,1)))))"))
(:rule (:conditions (:c_n_eq f48) (:c_n_eq f147) (:c_n_eq f122)) (:effects (:e_n_bot f48) (:e_n_bot f147) (:e_n_inc f122)))
(:rule (:conditions (:c_n_eq f48) (:c_n_eq f147) (:c_n_gt f122)) (:effects (:e_n_bot f48) (:e_n_inc f147) (:e_n_dec f122)))
(:rule (:conditions (:c_n_eq f48) (:c_n_gt f147) (:c_n_eq f122)) (:effects (:e_n_inc f48) (:e_n_dec f147) (:e_n_bot f122)))
(:rule (:conditions (:c_n_gt f48) (:c_n_eq f147) (:c_n_eq f122)) (:effects (:e_n_bot f48) (:e_n_bot f147) (:e_n_inc f122)))
(:rule (:conditions (:c_n_gt f48) (:c_n_eq f147) (:c_n_gt f122)) (:effects (:e_n_dec f48) (:e_n_inc f147) (:e_n_dec f122)))
(:rule (:conditions (:c_n_eq f48) (:c_n_gt f147) (:c_n_gt f122)) (:effects (:e_n_inc f48) (:e_n_dec f147) (:e_n_bot f122)))
(:rule (:conditions (:c_n_gt f48) (:c_n_eq f147) (:c_n_gt f122)) (:effects (:e_n_bot f48) (:e_n_inc f147) (:e_n_bot f122)))
(:rule (:conditions (:c_n_gt f48) (:c_n_gt f147) (:c_n_gt f122)) (:effects (:e_n_dec f48) (:e_n_inc f147) (:e_n_dec f122)))
(:rule (:conditions (:c_n_gt f48) (:c_n_gt f147) (:c_n_eq f122)) (:effects (:e_n_bot f48) (:e_n_dec f147) (:e_n_inc f122)))
(:rule (:conditions (:c_n_eq f48) (:c_n_gt f147) (:c_n_gt f122)) (:effects (:e_n_bot f48) (:e_n_bot f147) (:e_n_dec f122)))
(:rule (:conditions (:c_n_gt f48) (:c_n_eq f147) (:c_n_eq f122)) (:effects (:e_n_bot f48) (:e_n_inc f147) (:e_n_inc f122)))
)
Numer of sketch rules: 11
Number of selected features: 3
Maximum complexity of selected feature: 9
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p76.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p32.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p75.pddl
2024-08-09 00:10:04,524 - Verifying learned sketch...
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p76.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p32.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p75.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p25.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p32.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p75.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p76.pddl
Sketch fails to bound width of a state
/proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p147.pddl
Instance: 4
Source_state: 39
Dlplan state: (instance index=4, state index=11, atoms={at(car2,loc2), at(car1,loc2), at(car3,loc1), at-ferry(loc2), empty-ferry()})
2024-08-09 00:10:04,529 - ..done
Smallest unsolved instance: 4
Selected instances: [4]
2024-08-09 00:10:04,529 - Iteration: 7
     id: 4 problem_filepath: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p147.pddl num_states: 40 num_state_equivalences: 14
2024-08-09 00:10:04,533 - Initialize global faithful abstract states...
2024-08-09 00:10:04,533 - ..done
2024-08-09 00:10:04,533 - Initializing DomainFeatureData...
[t=7.90494s, 2501964 KB] Started generating base features of complexity 1.
[t=7.90511s, 2501964 KB] Complexity 1:
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 0
    c_not: 0
    c_equal: 0
    c_some: 0
    c_all: 0
    r_restrict: 0
    r_and: 0
    r_inverse: 0
    r_transitive_closure: 0
    b_empty: 0
    n_count: 0
    n_concept_distance: 0
[t=7.90541s, 2501964 KB] Finished generating base features.
[t=7.90545s, 2501964 KB] Started generating composite features. 
[t=7.90558s, 2501964 KB] Complexity 2:
Total concept elements: 8
Total role elements: 4
Total numerical elements: 7
Total boolean elements: 3
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 0
    c_not: 2
    c_equal: 0
    c_some: 0
    c_all: 0
    r_restrict: 0
    r_and: 0
    r_inverse: 2
    r_transitive_closure: 0
    b_empty: 1
    n_count: 7
    n_concept_distance: 0
[t=7.90624s, 2501964 KB] Complexity 3:
Total concept elements: 15
Total role elements: 8
Total numerical elements: 9
Total boolean elements: 3
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 0
    c_not: 2
    c_equal: 1
    c_some: 3
    c_all: 3
    r_restrict: 3
    r_and: 1
    r_inverse: 2
    r_transitive_closure: 0
    b_empty: 1
    n_count: 9
    n_concept_distance: 0
[t=7.9069s, 2501964 KB] Complexity 4:
Total concept elements: 26
Total role elements: 11
Total numerical elements: 17
Total boolean elements: 6
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 1
    c_not: 7
    c_equal: 1
    c_some: 6
    c_all: 5
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 4
    n_count: 16
    n_concept_distance: 1
[t=7.90789s, 2501964 KB] Complexity 5:
Total concept elements: 35
Total role elements: 11
Total numerical elements: 24
Total boolean elements: 9
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 5
    c_not: 9
    c_equal: 1
    c_some: 7
    c_all: 7
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 7
    n_count: 23
    n_concept_distance: 1
[t=7.90921s, 2501964 KB] Complexity 6:
Total concept elements: 80
Total role elements: 11
Total numerical elements: 30
Total boolean elements: 12
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 21
    c_not: 14
    c_equal: 1
    c_some: 16
    c_all: 22
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 10
    n_count: 29
    n_concept_distance: 1
[t=7.91096s, 2501964 KB] Complexity 7:
Total concept elements: 122
Total role elements: 11
Total numerical elements: 75
Total boolean elements: 20
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 39
    c_not: 38
    c_equal: 1
    c_some: 16
    c_all: 22
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 18
    n_count: 69
    n_concept_distance: 6
[t=7.91462s, 2501964 KB] Complexity 8:
Total concept elements: 229
Total role elements: 11
Total numerical elements: 108
Total boolean elements: 26
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 84
    c_not: 51
    c_equal: 1
    c_some: 36
    c_all: 51
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 24
    n_count: 101
    n_concept_distance: 7
[t=7.91982s, 2501964 KB] Complexity 9:
Total concept elements: 393
Total role elements: 11
Total numerical elements: 211
Total boolean elements: 52
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 151
    c_not: 124
    c_equal: 1
    c_some: 44
    c_all: 67
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 50
    n_count: 198
    n_concept_distance: 13
[t=7.92016s, 2501964 KB] Finished generating composite features.
Features generated: 263
Features after 0/1 pruning (incomplete): 144
Features after soft changes pruning (incomplete): 132
Features after relevant changes pruning (complete): 82
2024-08-09 00:10:04,740 - ..done
2024-08-09 00:10:04,740 - Constructing PerStateFeatureValuations...
2024-08-09 00:10:04,741 - ..done
2024-08-09 00:10:04,741 - Constructing StatePairEquivalenceDatas...
2024-08-09 00:10:04,770 - ..done
2024-08-09 00:10:04,772 - Constructing TupleGraphEquivalences...
Tuple graph equivalence construction statistics:
Num nodes: 46
2024-08-09 00:10:04,774 - ..done
2024-08-09 00:10:04,774 - Minimizing TupleGraphEquivalences...
Tuple graph equivalence minimization statistics:
Num orig nodes: 46
Num kept nodes: 40
2024-08-09 00:10:04,774 - ..done
Number of initial D2 facts: 38
Number of D2 facts: 38 of 1444
2024-08-09 00:10:04,825 - Grounding Logic Program...
2024-08-09 00:10:04,868 - ..done
2024-08-09 00:10:04,868 - Solving Logic Program...
2024-08-09 00:10:04,873 - ..done
Clingo statistics:
{'call': 0.0, 'result': 1.0, 'signal': 0.0, 'exhausted': 1.0, 'costs': [3.0], 'lower': [3.0], 'concurrency': 32.0, 'winner': 5.0, 'times': {'total': 0.09801888465881348, 'cpu': 0.11000800000000144, 'solve': 0.0025949478149414062, 'unsat': 0.0004990100860595703, 'sat': 0.0018129348754882812}, 'models': {'enumerated': 4.0, 'optimal': 1.0}}
Solution cost: [3.0]
Total time: 0.09801888465881348
CPU time: 0.11000800000000144
Solve time: 0.0025949478149414062
2024-08-09 00:10:04,898 - Learned the following sketch:
(:policy
(:booleans )
(:numericals (f2 "n_count(c_primitive(on,0))"))
(:rule (:conditions (:c_n_eq f2)) (:effects (:e_n_bot f2)))
(:rule (:conditions (:c_n_eq f2)) (:effects (:e_n_inc f2)))
(:rule (:conditions (:c_n_gt f2)) (:effects (:e_n_bot f2)))
(:rule (:conditions (:c_n_gt f2)) (:effects (:e_n_dec f2)))
)
Numer of sketch rules: 4
Number of selected features: 1
Maximum complexity of selected feature: 2
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p147.pddl
Sketch cycles
Instance: 4
42
42
Number of unsatisfied D2 facts: 78
Number of D2 facts: 116 of 1444
2024-08-09 00:10:05,034 - Grounding Logic Program...
2024-08-09 00:10:05,084 - ..done
2024-08-09 00:10:05,084 - Solving Logic Program...
2024-08-09 00:10:05,090 - ..done
Clingo statistics:
{'call': 0.0, 'result': 1.0, 'signal': 0.0, 'exhausted': 1.0, 'costs': [5.0], 'lower': [5.0], 'concurrency': 32.0, 'winner': 22.0, 'times': {'total': 0.18995380401611328, 'cpu': 0.2048210000000008, 'solve': 0.0026597976684570312, 'unsat': 0.0004899501800537109, 'sat': 0.0020618438720703125}, 'models': {'enumerated': 2.0, 'optimal': 1.0}}
Solution cost: [5.0]
Total time: 0.18995380401611328
CPU time: 0.2048210000000008
Solve time: 0.0026597976684570312
2024-08-09 00:10:05,115 - Learned the following sketch:
(:policy
(:booleans )
(:numericals (f17 "n_count(c_some(r_primitive(at_g,0,1),c_primitive(at-ferry,0)))"))
(:rule (:conditions (:c_n_gt f17)) (:effects (:e_n_dec f17)))
(:rule (:conditions (:c_n_eq f17)) (:effects (:e_n_bot f17)))
(:rule (:conditions (:c_n_eq f17)) (:effects (:e_n_inc f17)))
(:rule (:conditions (:c_n_gt f17)) (:effects (:e_n_bot f17)))
)
Numer of sketch rules: 4
Number of selected features: 1
Maximum complexity of selected feature: 4
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p147.pddl
Sketch cycles
Instance: 4
42
42
Number of unsatisfied D2 facts: 78
Number of D2 facts: 194 of 1444
2024-08-09 00:10:05,259 - Grounding Logic Program...
2024-08-09 00:10:05,320 - ..done
2024-08-09 00:10:05,320 - Solving Logic Program...
2024-08-09 00:10:05,328 - ..done
Clingo statistics:
{'call': 0.0, 'result': 1.0, 'signal': 0.0, 'exhausted': 1.0, 'costs': [8.0], 'lower': [8.0], 'concurrency': 32.0, 'winner': 11.0, 'times': {'total': 0.21085715293884277, 'cpu': 0.23656699999999908, 'solve': 0.003962039947509766, 'unsat': 0.0005640983581542969, 'sat': 0.0019049644470214844}, 'models': {'enumerated': 22.0, 'optimal': 1.0}}
Solution cost: [8.0]
Total time: 0.21085715293884277
CPU time: 0.23656699999999908
Solve time: 0.003962039947509766
2024-08-09 00:10:05,355 - Learned the following sketch:
(:policy
(:booleans (f7 "b_nullary(empty-ferry)"))
(:numericals (f17 "n_count(c_some(r_primitive(at_g,0,1),c_primitive(at-ferry,0)))"))
(:rule (:conditions (:c_b_pos f7) (:c_n_gt f17)) (:effects (:e_b_bot f7) (:e_n_dec f17)))
(:rule (:conditions (:c_b_pos f7) (:c_n_eq f17)) (:effects (:e_b_neg f7) (:e_n_bot f17)))
(:rule (:conditions (:c_b_neg f7) (:c_n_eq f17)) (:effects (:e_b_bot f7) (:e_n_inc f17)))
(:rule (:conditions (:c_b_neg f7) (:c_n_gt f17)) (:effects (:e_b_pos f7) (:e_n_bot f17)))
)
Numer of sketch rules: 4
Number of selected features: 2
Maximum complexity of selected feature: 4
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p147.pddl
2024-08-09 00:10:05,357 - Verifying learned sketch...
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p147.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p25.pddl
Sketch fails to bound width of a state
/proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p32.pddl
Instance: 1
Source_state: 6
Dlplan state: (instance index=1, state index=11, atoms={empty-ferry(), at-ferry(loc1), at(car1,loc3)})
2024-08-09 00:10:05,359 - ..done
Smallest unsolved instance: 1
Selected instances: [4, 1]
2024-08-09 00:10:05,359 - Iteration: 8
     id: 4 problem_filepath: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p147.pddl num_states: 40 num_state_equivalences: 14
     id: 1 problem_filepath: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p32.pddl num_states: 12 num_state_equivalences: 7
2024-08-09 00:10:05,362 - Initialize global faithful abstract states...
2024-08-09 00:10:05,362 - ..done
2024-08-09 00:10:05,362 - Initializing DomainFeatureData...
[t=8.7337s, 2501964 KB] Started generating base features of complexity 1.
[t=8.7339s, 2501964 KB] Complexity 1:
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 0
    c_not: 0
    c_equal: 0
    c_some: 0
    c_all: 0
    r_restrict: 0
    r_and: 0
    r_inverse: 0
    r_transitive_closure: 0
    b_empty: 0
    n_count: 0
    n_concept_distance: 0
[t=8.73421s, 2501964 KB] Finished generating base features.
[t=8.73425s, 2501964 KB] Started generating composite features. 
[t=8.73441s, 2501964 KB] Complexity 2:
Total concept elements: 8
Total role elements: 4
Total numerical elements: 7
Total boolean elements: 4
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 0
    c_not: 2
    c_equal: 0
    c_some: 0
    c_all: 0
    r_restrict: 0
    r_and: 0
    r_inverse: 2
    r_transitive_closure: 0
    b_empty: 2
    n_count: 7
    n_concept_distance: 0
[t=8.73515s, 2501964 KB] Complexity 3:
Total concept elements: 15
Total role elements: 8
Total numerical elements: 9
Total boolean elements: 4
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 0
    c_not: 2
    c_equal: 1
    c_some: 3
    c_all: 3
    r_restrict: 3
    r_and: 1
    r_inverse: 2
    r_transitive_closure: 0
    b_empty: 2
    n_count: 9
    n_concept_distance: 0
[t=8.73594s, 2501964 KB] Complexity 4:
Total concept elements: 27
Total role elements: 11
Total numerical elements: 17
Total boolean elements: 7
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 1
    c_not: 7
    c_equal: 1
    c_some: 6
    c_all: 6
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 5
    n_count: 16
    n_concept_distance: 1
[t=8.73715s, 2501964 KB] Complexity 5:
Total concept elements: 37
Total role elements: 11
Total numerical elements: 26
Total boolean elements: 10
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 5
    c_not: 10
    c_equal: 1
    c_some: 7
    c_all: 8
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 8
    n_count: 25
    n_concept_distance: 1
[t=8.73895s, 2501964 KB] Complexity 6:
Total concept elements: 87
Total role elements: 11
Total numerical elements: 34
Total boolean elements: 13
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 23
    c_not: 15
    c_equal: 1
    c_some: 17
    c_all: 25
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 11
    n_count: 33
    n_concept_distance: 1
[t=8.74126s, 2501964 KB] Complexity 7:
Total concept elements: 136
Total role elements: 11
Total numerical elements: 86
Total boolean elements: 24
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 44
    c_not: 43
    c_equal: 1
    c_some: 17
    c_all: 25
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 22
    n_count: 79
    n_concept_distance: 7
[t=8.74661s, 2501964 KB] Complexity 8:
Total concept elements: 256
Total role elements: 11
Total numerical elements: 129
Total boolean elements: 31
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 95
    c_not: 58
    c_equal: 1
    c_some: 39
    c_all: 57
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 29
    n_count: 120
    n_concept_distance: 9
[t=8.75444s, 2501964 KB] Complexity 9:
Total concept elements: 448
Total role elements: 11
Total numerical elements: 248
Total boolean elements: 60
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 176
    c_not: 142
    c_equal: 1
    c_some: 48
    c_all: 75
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 58
    n_count: 233
    n_concept_distance: 15
[t=8.75479s, 2501964 KB] Finished generating composite features.
Features generated: 308
Features after 0/1 pruning (incomplete): 165
Features after soft changes pruning (incomplete): 152
Features after relevant changes pruning (complete): 92
2024-08-09 00:10:05,718 - ..done
2024-08-09 00:10:05,718 - Constructing PerStateFeatureValuations...
2024-08-09 00:10:05,720 - ..done
2024-08-09 00:10:05,720 - Constructing StatePairEquivalenceDatas...
2024-08-09 00:10:05,764 - ..done
2024-08-09 00:10:05,764 - Constructing TupleGraphEquivalences...
Tuple graph equivalence construction statistics:
Num nodes: 71
2024-08-09 00:10:05,766 - ..done
2024-08-09 00:10:05,767 - Minimizing TupleGraphEquivalences...
Tuple graph equivalence minimization statistics:
Num orig nodes: 71
Num kept nodes: 61
2024-08-09 00:10:05,767 - ..done
Number of initial D2 facts: 56
Number of D2 facts: 56 of 2601
2024-08-09 00:10:05,842 - Grounding Logic Program...
2024-08-09 00:10:05,913 - ..done
2024-08-09 00:10:05,913 - Solving Logic Program...
2024-08-09 00:10:05,920 - ..done
Clingo statistics:
{'call': 0.0, 'result': 1.0, 'signal': 0.0, 'exhausted': 1.0, 'costs': [8.0], 'lower': [8.0], 'concurrency': 32.0, 'winner': 10.0, 'times': {'total': 0.1519169807434082, 'cpu': 0.16586700000000043, 'solve': 0.003473043441772461, 'unsat': 0.0006308555603027344, 'sat': 0.0022771358489990234}, 'models': {'enumerated': 11.0, 'optimal': 1.0}}
Solution cost: [8.0]
Total time: 0.1519169807434082
CPU time: 0.16586700000000043
Solve time: 0.003473043441772461
2024-08-09 00:10:05,958 - Learned the following sketch:
(:policy
(:booleans (f8 "b_nullary(empty-ferry)"))
(:numericals (f83 "n_count(c_some(r_primitive(at,0,1),c_primitive(at-ferry,0)))"))
(:rule (:conditions (:c_b_pos f8) (:c_n_eq f83)) (:effects (:e_b_bot f8) (:e_n_inc f83)))
(:rule (:conditions (:c_b_pos f8) (:c_n_eq f83)) (:effects (:e_b_bot f8) (:e_n_bot f83)))
(:rule (:conditions (:c_b_pos f8) (:c_n_gt f83)) (:effects (:e_b_neg f8) (:e_n_dec f83)))
(:rule (:conditions (:c_b_neg f8) (:c_n_eq f83)) (:effects (:e_b_bot f8) (:e_n_bot f83)))
(:rule (:conditions (:c_b_neg f8) (:c_n_eq f83)) (:effects (:e_b_pos f8) (:e_n_inc f83)))
(:rule (:conditions (:c_b_neg f8) (:c_n_gt f83)) (:effects (:e_b_bot f8) (:e_n_dec f83)))
(:rule (:conditions (:c_b_pos f8) (:c_n_gt f83)) (:effects (:e_b_bot f8) (:e_n_inc f83)))
(:rule (:conditions (:c_b_neg f8) (:c_n_gt f83)) (:effects (:e_b_bot f8) (:e_n_bot f83)))
(:rule (:conditions (:c_b_neg f8) (:c_n_gt f83)) (:effects (:e_b_pos f8) (:e_n_inc f83)))
(:rule (:conditions (:c_b_pos f8) (:c_n_gt f83)) (:effects (:e_b_bot f8) (:e_n_dec f83)))
(:rule (:conditions (:c_b_neg f8) (:c_n_eq f83)) (:effects (:e_b_bot f8) (:e_n_inc f83)))
)
Numer of sketch rules: 11
Number of selected features: 2
Maximum complexity of selected feature: 4
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p147.pddl
Sketch cycles
Instance: 4
42
42
Number of unsatisfied D2 facts: 47
Number of D2 facts: 103 of 2601
2024-08-09 00:10:06,167 - Grounding Logic Program...
2024-08-09 00:10:06,236 - ..done
2024-08-09 00:10:06,237 - Solving Logic Program...
2024-08-09 00:10:06,244 - ..done
Clingo statistics:
{'call': 0.0, 'result': 1.0, 'signal': 0.0, 'exhausted': 1.0, 'costs': [8.0], 'lower': [8.0], 'concurrency': 32.0, 'winner': 31.0, 'times': {'total': 0.28345417976379395, 'cpu': 0.3066690000000012, 'solve': 0.003515958786010742, 'unsat': 0.0006279945373535156, 'sat': 0.0017600059509277344}, 'models': {'enumerated': 9.0, 'optimal': 1.0}}
Solution cost: [8.0]
Total time: 0.28345417976379395
CPU time: 0.3066690000000012
Solve time: 0.003515958786010742
2024-08-09 00:10:06,280 - Learned the following sketch:
(:policy
(:booleans )
(:numericals (f31 "n_count(c_primitive(on,0))") (f20 "n_count(c_some(r_primitive(at_g,0,1),c_primitive(at-ferry,0)))"))
(:rule (:conditions (:c_n_eq f31) (:c_n_eq f20)) (:effects (:e_n_bot f31) (:e_n_bot f20)))
(:rule (:conditions (:c_n_eq f31) (:c_n_gt f20)) (:effects (:e_n_bot f31) (:e_n_dec f20)))
(:rule (:conditions (:c_n_eq f31) (:c_n_eq f20)) (:effects (:e_n_inc f31) (:e_n_bot f20)))
(:rule (:conditions (:c_n_gt f31) (:c_n_eq f20)) (:effects (:e_n_bot f31) (:e_n_inc f20)))
(:rule (:conditions (:c_n_gt f31) (:c_n_gt f20)) (:effects (:e_n_dec f31) (:e_n_bot f20)))
)
Numer of sketch rules: 5
Number of selected features: 2
Maximum complexity of selected feature: 4
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p147.pddl
Sketch cycles
Instance: 4
40
40
Number of unsatisfied D2 facts: 5
Number of D2 facts: 108 of 2601
2024-08-09 00:10:06,496 - Grounding Logic Program...
2024-08-09 00:10:06,568 - ..done
2024-08-09 00:10:06,568 - Solving Logic Program...
2024-08-09 00:10:06,576 - ..done
Clingo statistics:
{'call': 0.0, 'result': 1.0, 'signal': 0.0, 'exhausted': 1.0, 'costs': [13.0], 'lower': [13.0], 'concurrency': 32.0, 'winner': 15.0, 'times': {'total': 0.2940671443939209, 'cpu': 0.31690799999999975, 'solve': 0.004024028778076172, 'unsat': 0.001043081283569336, 'sat': 0.002277851104736328}, 'models': {'enumerated': 13.0, 'optimal': 1.0}}
Solution cost: [13.0]
Total time: 0.2940671443939209
CPU time: 0.31690799999999975
Solve time: 0.004024028778076172
2024-08-09 00:10:06,614 - Learned the following sketch:
(:policy
(:booleans (f8 "b_nullary(empty-ferry)"))
(:numericals (f80 "n_count(c_and(c_all(r_primitive(at,0,1),c_primitive(at-ferry,0)),c_not(c_all(r_primitive(at_g,0,1),c_primitive(at-ferry,0)))))"))
(:rule (:conditions (:c_b_pos f8) (:c_n_eq f80)) (:effects (:e_b_bot f8) (:e_n_bot f80)))
(:rule (:conditions (:c_b_pos f8) (:c_n_eq f80)) (:effects (:e_b_bot f8) (:e_n_inc f80)))
(:rule (:conditions (:c_b_pos f8) (:c_n_gt f80)) (:effects (:e_b_neg f8) (:e_n_bot f80)))
(:rule (:conditions (:c_b_neg f8) (:c_n_gt f80)) (:effects (:e_b_bot f8) (:e_n_dec f80)))
(:rule (:conditions (:c_b_neg f8) (:c_n_eq f80)) (:effects (:e_b_pos f8) (:e_n_bot f80)))
)
Numer of sketch rules: 5
Number of selected features: 2
Maximum complexity of selected feature: 9
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p147.pddl
Sketch cycles
Instance: 4
39
39
Number of unsatisfied D2 facts: 11
Number of D2 facts: 119 of 2601
2024-08-09 00:10:06,829 - Grounding Logic Program...
2024-08-09 00:10:06,902 - ..done
2024-08-09 00:10:06,902 - Solving Logic Program...
2024-08-09 00:10:06,910 - ..done
Clingo statistics:
{'call': 0.0, 'result': 1.0, 'signal': 0.0, 'exhausted': 1.0, 'costs': [13.0], 'lower': [13.0], 'concurrency': 32.0, 'winner': 13.0, 'times': {'total': 0.294022798538208, 'cpu': 0.31806300000000043, 'solve': 0.0037147998809814453, 'unsat': 0.0008947849273681641, 'sat': 0.0017209053039550781}, 'models': {'enumerated': 16.0, 'optimal': 1.0}}
Solution cost: [13.0]
Total time: 0.294022798538208
CPU time: 0.31806300000000043
Solve time: 0.0037147998809814453
2024-08-09 00:10:06,948 - Learned the following sketch:
(:policy
(:booleans )
(:numericals (f31 "n_count(c_primitive(on,0))") (f20 "n_count(c_some(r_primitive(at_g,0,1),c_primitive(at-ferry,0)))") (f83 "n_count(c_some(r_primitive(at,0,1),c_primitive(at-ferry,0)))"))
(:rule (:conditions (:c_n_eq f31) (:c_n_eq f20) (:c_n_eq f83)) (:effects (:e_n_bot f31) (:e_n_bot f20) (:e_n_inc f83)))
(:rule (:conditions (:c_n_eq f31) (:c_n_eq f83) (:c_n_gt f20)) (:effects (:e_n_bot f31) (:e_n_inc f83) (:e_n_dec f20)))
(:rule (:conditions (:c_n_eq f31) (:c_n_eq f83) (:c_n_gt f20)) (:effects (:e_n_bot f31) (:e_n_bot f83) (:e_n_dec f20)))
(:rule (:conditions (:c_n_eq f31) (:c_n_eq f20) (:c_n_gt f83)) (:effects (:e_n_inc f31) (:e_n_bot f20) (:e_n_dec f83)))
(:rule (:conditions (:c_n_gt f31) (:c_n_eq f20) (:c_n_eq f83)) (:effects (:e_n_bot f31) (:e_n_bot f83) (:e_n_inc f20)))
(:rule (:conditions (:c_n_gt f31) (:c_n_eq f83) (:c_n_gt f20)) (:effects (:e_n_dec f31) (:e_n_bot f20) (:e_n_inc f83)))
(:rule (:conditions (:c_n_eq f31) (:c_n_gt f20) (:c_n_gt f83)) (:effects (:e_n_bot f31) (:e_n_dec f20) (:e_n_dec f83)))
(:rule (:conditions (:c_n_gt f31) (:c_n_eq f20) (:c_n_gt f83)) (:effects (:e_n_bot f31) (:e_n_inc f20) (:e_n_dec f83)))
(:rule (:conditions (:c_n_eq f31) (:c_n_gt f20) (:c_n_gt f83)) (:effects (:e_n_bot f31) (:e_n_inc f83) (:e_n_dec f20)))
(:rule (:conditions (:c_n_gt f31) (:c_n_eq f20) (:c_n_gt f83)) (:effects (:e_n_bot f31) (:e_n_bot f83) (:e_n_inc f20)))
(:rule (:conditions (:c_n_gt f31) (:c_n_gt f20) (:c_n_gt f83)) (:effects (:e_n_dec f31) (:e_n_bot f20) (:e_n_inc f83)))
(:rule (:conditions (:c_n_gt f31) (:c_n_eq f20) (:c_n_eq f83)) (:effects (:e_n_bot f31) (:e_n_inc f83) (:e_n_inc f20)))
)
Numer of sketch rules: 12
Number of selected features: 3
Maximum complexity of selected feature: 4
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p147.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p32.pddl
2024-08-09 00:10:06,950 - Verifying learned sketch...
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p147.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p32.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p25.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p32.pddl
Sketch fails to bound width of a state
/proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p75.pddl
Instance: 2
Source_state: 17
Dlplan state: (instance index=2, state index=13, atoms={at(car1,loc2), at(car2,loc2), empty-ferry(), at-ferry(loc1)})
2024-08-09 00:10:06,954 - ..done
Smallest unsolved instance: 2
Selected instances: [4, 1, 2]
2024-08-09 00:10:06,954 - Iteration: 9
     id: 4 problem_filepath: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p147.pddl num_states: 40 num_state_equivalences: 14
     id: 1 problem_filepath: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p32.pddl num_states: 12 num_state_equivalences: 7
     id: 2 problem_filepath: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p75.pddl num_states: 16 num_state_equivalences: 8
2024-08-09 00:10:06,958 - Initialize global faithful abstract states...
2024-08-09 00:10:06,958 - ..done
2024-08-09 00:10:06,959 - Initializing DomainFeatureData...
[t=10.3302s, 2501964 KB] Started generating base features of complexity 1.
[t=10.3304s, 2501964 KB] Complexity 1:
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 0
    c_not: 0
    c_equal: 0
    c_some: 0
    c_all: 0
    r_restrict: 0
    r_and: 0
    r_inverse: 0
    r_transitive_closure: 0
    b_empty: 0
    n_count: 0
    n_concept_distance: 0
[t=10.3307s, 2501964 KB] Finished generating base features.
[t=10.3308s, 2501964 KB] Started generating composite features. 
[t=10.331s, 2501964 KB] Complexity 2:
Total concept elements: 8
Total role elements: 4
Total numerical elements: 7
Total boolean elements: 4
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 0
    c_not: 2
    c_equal: 0
    c_some: 0
    c_all: 0
    r_restrict: 0
    r_and: 0
    r_inverse: 2
    r_transitive_closure: 0
    b_empty: 2
    n_count: 7
    n_concept_distance: 0
[t=10.3318s, 2501964 KB] Complexity 3:
Total concept elements: 15
Total role elements: 8
Total numerical elements: 9
Total boolean elements: 4
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 0
    c_not: 2
    c_equal: 1
    c_some: 3
    c_all: 3
    r_restrict: 3
    r_and: 1
    r_inverse: 2
    r_transitive_closure: 0
    b_empty: 2
    n_count: 9
    n_concept_distance: 0
[t=10.3326s, 2501964 KB] Complexity 4:
Total concept elements: 27
Total role elements: 11
Total numerical elements: 17
Total boolean elements: 7
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 1
    c_not: 7
    c_equal: 1
    c_some: 6
    c_all: 6
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 5
    n_count: 16
    n_concept_distance: 1
[t=10.334s, 2501964 KB] Complexity 5:
Total concept elements: 37
Total role elements: 11
Total numerical elements: 28
Total boolean elements: 10
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 5
    c_not: 10
    c_equal: 1
    c_some: 7
    c_all: 8
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 8
    n_count: 27
    n_concept_distance: 1
[t=10.3361s, 2501964 KB] Complexity 6:
Total concept elements: 91
Total role elements: 11
Total numerical elements: 36
Total boolean elements: 13
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 23
    c_not: 15
    c_equal: 1
    c_some: 19
    c_all: 27
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 11
    n_count: 35
    n_concept_distance: 1
[t=10.3387s, 2501964 KB] Complexity 7:
Total concept elements: 143
Total role elements: 11
Total numerical elements: 95
Total boolean elements: 29
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 45
    c_not: 45
    c_equal: 1
    c_some: 19
    c_all: 27
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 27
    n_count: 88
    n_concept_distance: 7
[t=10.3454s, 2501964 KB] Complexity 8:
Total concept elements: 295
Total role elements: 11
Total numerical elements: 147
Total boolean elements: 38
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 98
    c_not: 61
    c_equal: 1
    c_some: 56
    c_all: 73
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 36
    n_count: 138
    n_concept_distance: 9
[t=10.355s, 2501964 KB] Complexity 9:
Total concept elements: 536
Total role elements: 11
Total numerical elements: 304
Total boolean elements: 88
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 190
    c_not: 166
    c_equal: 1
    c_some: 73
    c_all: 100
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 86
    n_count: 289
    n_concept_distance: 15
[t=10.3553s, 2501964 KB] Finished generating composite features.
Features generated: 392
Features after 0/1 pruning (incomplete): 231
Features after soft changes pruning (incomplete): 214
Features after relevant changes pruning (complete): 152
2024-08-09 00:10:07,620 - ..done
2024-08-09 00:10:07,620 - Constructing PerStateFeatureValuations...
2024-08-09 00:10:07,624 - ..done
2024-08-09 00:10:07,624 - Constructing StatePairEquivalenceDatas...
2024-08-09 00:10:07,718 - ..done
2024-08-09 00:10:07,719 - Constructing TupleGraphEquivalences...
Tuple graph equivalence construction statistics:
Num nodes: 95
2024-08-09 00:10:07,721 - ..done
2024-08-09 00:10:07,721 - Minimizing TupleGraphEquivalences...
Tuple graph equivalence minimization statistics:
Num orig nodes: 95
Num kept nodes: 83
2024-08-09 00:10:07,723 - ..done
Number of initial D2 facts: 77
Number of D2 facts: 77 of 5329
2024-08-09 00:10:07,875 - Grounding Logic Program...
2024-08-09 00:10:08,011 - ..done
2024-08-09 00:10:08,012 - Solving Logic Program...
2024-08-09 00:10:08,023 - ..done
Clingo statistics:
{'call': 0.0, 'result': 1.0, 'signal': 0.0, 'exhausted': 1.0, 'costs': [8.0], 'lower': [8.0], 'concurrency': 32.0, 'winner': 17.0, 'times': {'total': 0.29897212982177734, 'cpu': 0.32262400000000113, 'solve': 0.004183053970336914, 'unsat': 0.0008261203765869141, 'sat': 0.0022830963134765625}, 'models': {'enumerated': 21.0, 'optimal': 1.0}}
Solution cost: [8.0]
Total time: 0.29897212982177734
CPU time: 0.32262400000000113
Solve time: 0.004183053970336914
2024-08-09 00:10:08,102 - Learned the following sketch:
(:policy
(:booleans (f10 "b_nullary(empty-ferry)"))
(:numericals (f142 "n_count(c_some(r_primitive(at,0,1),c_primitive(at-ferry,0)))"))
(:rule (:conditions (:c_b_pos f10) (:c_n_eq f142)) (:effects (:e_b_bot f10) (:e_n_bot f142)))
(:rule (:conditions (:c_b_pos f10) (:c_n_eq f142)) (:effects (:e_b_bot f10) (:e_n_inc f142)))
(:rule (:conditions (:c_b_pos f10) (:c_n_gt f142)) (:effects (:e_b_neg f10) (:e_n_dec f142)))
(:rule (:conditions (:c_b_neg f10) (:c_n_eq f142)) (:effects (:e_b_bot f10) (:e_n_bot f142)))
(:rule (:conditions (:c_b_neg f10) (:c_n_eq f142)) (:effects (:e_b_pos f10) (:e_n_inc f142)))
(:rule (:conditions (:c_b_neg f10) (:c_n_eq f142)) (:effects (:e_b_bot f10) (:e_n_inc f142)))
(:rule (:conditions (:c_b_neg f10) (:c_n_gt f142)) (:effects (:e_b_pos f10) (:e_n_inc f142)))
(:rule (:conditions (:c_b_neg f10) (:c_n_gt f142)) (:effects (:e_b_bot f10) (:e_n_dec f142)))
(:rule (:conditions (:c_b_pos f10) (:c_n_gt f142)) (:effects (:e_b_bot f10) (:e_n_inc f142)))
(:rule (:conditions (:c_b_neg f10) (:c_n_gt f142)) (:effects (:e_b_bot f10) (:e_n_bot f142)))
(:rule (:conditions (:c_b_pos f10) (:c_n_gt f142)) (:effects (:e_b_bot f10) (:e_n_dec f142)))
)
Numer of sketch rules: 11
Number of selected features: 2
Maximum complexity of selected feature: 4
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p147.pddl
Sketch cycles
Instance: 4
42
42
Number of unsatisfied D2 facts: 91
Number of D2 facts: 168 of 5329
2024-08-09 00:10:08,613 - Grounding Logic Program...
2024-08-09 00:10:08,764 - ..done
2024-08-09 00:10:08,765 - Solving Logic Program...
2024-08-09 00:10:08,779 - ..done
Clingo statistics:
{'call': 0.0, 'result': 1.0, 'signal': 0.0, 'exhausted': 1.0, 'costs': [15.0], 'lower': [15.0], 'concurrency': 32.0, 'winner': 0.0, 'times': {'total': 0.6741368770599365, 'cpu': 0.7070359999999987, 'solve': 0.0057239532470703125, 'unsat': 0.0015759468078613281, 'sat': 0.0022449493408203125}, 'models': {'enumerated': 11.0, 'optimal': 1.0}}
Solution cost: [15.0]
Total time: 0.6741368770599365
CPU time: 0.7070359999999987
Solve time: 0.0057239532470703125
2024-08-09 00:10:08,860 - Learned the following sketch:
(:policy
(:booleans (f10 "b_nullary(empty-ferry)"))
(:numericals (f30 "n_count(c_some(r_primitive(at_g,0,1),c_primitive(at-ferry,0)))") (f70 "n_count(c_and(c_primitive(on,0),c_some(r_primitive(at_g,0,1),c_primitive(at-ferry,0))))"))
(:rule (:conditions (:c_b_pos f10) (:c_n_eq f30) (:c_n_eq f70)) (:effects (:e_b_bot f10) (:e_n_bot f30) (:e_n_bot f70)))
(:rule (:conditions (:c_b_pos f10) (:c_n_gt f30) (:c_n_eq f70)) (:effects (:e_b_bot f10) (:e_n_dec f30) (:e_n_bot f70)))
(:rule (:conditions (:c_b_pos f10) (:c_n_eq f30) (:c_n_eq f70)) (:effects (:e_b_neg f10) (:e_n_bot f30) (:e_n_bot f70)))
(:rule (:conditions (:c_b_neg f10) (:c_n_eq f30) (:c_n_eq f70)) (:effects (:e_b_bot f10) (:e_n_inc f30) (:e_n_inc f70)))
(:rule (:conditions (:c_b_neg f10) (:c_n_gt f30) (:c_n_gt f70)) (:effects (:e_b_pos f10) (:e_n_bot f30) (:e_n_dec f70)))
(:rule (:conditions (:c_b_pos f10) (:c_n_gt f30) (:c_n_eq f70)) (:effects (:e_b_neg f10) (:e_n_bot f30) (:e_n_bot f70)))
(:rule (:conditions (:c_b_neg f10) (:c_n_gt f30) (:c_n_eq f70)) (:effects (:e_b_bot f10) (:e_n_bot f30) (:e_n_inc f70)))
(:rule (:conditions (:c_b_pos f10) (:c_n_gt f30) (:c_n_eq f70)) (:effects (:e_b_bot f10) (:e_n_bot f30) (:e_n_bot f70)))
)
Numer of sketch rules: 8
Number of selected features: 3
Maximum complexity of selected feature: 6
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p147.pddl
Sketch cycles
Instance: 4
40
40
Number of unsatisfied D2 facts: 13
Number of D2 facts: 181 of 5329
2024-08-09 00:10:09,373 - Grounding Logic Program...
2024-08-09 00:10:09,526 - ..done
2024-08-09 00:10:09,526 - Solving Logic Program...
2024-08-09 00:10:09,544 - ..done
Clingo statistics:
{'call': 0.0, 'result': 1.0, 'signal': 0.0, 'exhausted': 1.0, 'costs': [18.0], 'lower': [18.0], 'concurrency': 32.0, 'winner': 8.0, 'times': {'total': 0.6812689304351807, 'cpu': 0.7239270000000015, 'solve': 0.009083986282348633, 'unsat': 0.006257057189941406, 'sat': 0.002373933792114258}, 'models': {'enumerated': 9.0, 'optimal': 1.0}}
Solution cost: [18.0]
Total time: 0.6812689304351807
CPU time: 0.7239270000000015
Solve time: 0.009083986282348633
2024-08-09 00:10:09,624 - Learned the following sketch:
(:policy
(:booleans (f10 "b_nullary(empty-ferry)"))
(:numericals (f142 "n_count(c_some(r_primitive(at,0,1),c_primitive(at-ferry,0)))") (f118 "n_count(c_and(c_some(r_primitive(at_g,0,1),c_primitive(at-ferry,0)),c_not(c_equal(r_primitive(at,0,1),r_primitive(at_g,0,1)))))"))
(:rule (:conditions (:c_b_pos f10) (:c_n_eq f142) (:c_n_eq f118)) (:effects (:e_b_bot f10) (:e_n_bot f142) (:e_n_inc f118)))
(:rule (:conditions (:c_b_pos f10) (:c_n_eq f142) (:c_n_gt f118)) (:effects (:e_b_bot f10) (:e_n_inc f142) (:e_n_dec f118)))
(:rule (:conditions (:c_b_pos f10) (:c_n_gt f142) (:c_n_eq f118)) (:effects (:e_b_neg f10) (:e_n_dec f142) (:e_n_bot f118)))
(:rule (:conditions (:c_b_neg f10) (:c_n_eq f142) (:c_n_eq f118)) (:effects (:e_b_bot f10) (:e_n_bot f142) (:e_n_inc f118)))
(:rule (:conditions (:c_b_neg f10) (:c_n_eq f142) (:c_n_gt f118)) (:effects (:e_b_pos f10) (:e_n_inc f142) (:e_n_dec f118)))
(:rule (:conditions (:c_b_pos f10) (:c_n_gt f142) (:c_n_gt f118)) (:effects (:e_b_neg f10) (:e_n_dec f142) (:e_n_bot f118)))
(:rule (:conditions (:c_b_neg f10) (:c_n_eq f142) (:c_n_gt f118)) (:effects (:e_b_bot f10) (:e_n_inc f142) (:e_n_bot f118)))
(:rule (:conditions (:c_b_neg f10) (:c_n_gt f142) (:c_n_gt f118)) (:effects (:e_b_pos f10) (:e_n_inc f142) (:e_n_dec f118)))
(:rule (:conditions (:c_b_neg f10) (:c_n_gt f142) (:c_n_eq f118)) (:effects (:e_b_bot f10) (:e_n_dec f142) (:e_n_inc f118)))
(:rule (:conditions (:c_b_pos f10) (:c_n_gt f142) (:c_n_gt f118)) (:effects (:e_b_bot f10) (:e_n_inc f142) (:e_n_dec f118)))
(:rule (:conditions (:c_b_neg f10) (:c_n_gt f142) (:c_n_eq f118)) (:effects (:e_b_bot f10) (:e_n_bot f142) (:e_n_inc f118)))
(:rule (:conditions (:c_b_pos f10) (:c_n_gt f142) (:c_n_gt f118)) (:effects (:e_b_bot f10) (:e_n_dec f142) (:e_n_dec f118)))
(:rule (:conditions (:c_b_neg f10) (:c_n_eq f142) (:c_n_eq f118)) (:effects (:e_b_bot f10) (:e_n_inc f142) (:e_n_inc f118)))
)
Numer of sketch rules: 13
Number of selected features: 3
Maximum complexity of selected feature: 9
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p147.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p32.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p75.pddl
2024-08-09 00:10:09,627 - Verifying learned sketch...
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p147.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p32.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p75.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p25.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p32.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p75.pddl
Sketch fails to bound width of a state
/proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p76.pddl
Instance: 3
Source_state: 25
Dlplan state: (instance index=3, state index=14, atoms={at(car2,loc2), at(car1,loc1), empty-ferry(), at-ferry(loc2)})
2024-08-09 00:10:09,632 - ..done
Smallest unsolved instance: 3
Selected instances: [4, 1, 2, 3]
2024-08-09 00:10:09,632 - Iteration: 10
     id: 4 problem_filepath: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p147.pddl num_states: 40 num_state_equivalences: 14
     id: 1 problem_filepath: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p32.pddl num_states: 12 num_state_equivalences: 7
     id: 2 problem_filepath: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p75.pddl num_states: 16 num_state_equivalences: 8
     id: 3 problem_filepath: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p76.pddl num_states: 16 num_state_equivalences: 10
2024-08-09 00:10:09,642 - Initialize global faithful abstract states...
2024-08-09 00:10:09,642 - ..done
2024-08-09 00:10:09,642 - Initializing DomainFeatureData...
[t=13.0141s, 2501964 KB] Started generating base features of complexity 1.
[t=13.0143s, 2501964 KB] Complexity 1:
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 0
    c_not: 0
    c_equal: 0
    c_some: 0
    c_all: 0
    r_restrict: 0
    r_and: 0
    r_inverse: 0
    r_transitive_closure: 0
    b_empty: 0
    n_count: 0
    n_concept_distance: 0
[t=13.0146s, 2501964 KB] Finished generating base features.
[t=13.0147s, 2501964 KB] Started generating composite features. 
[t=13.0149s, 2501964 KB] Complexity 2:
Total concept elements: 8
Total role elements: 4
Total numerical elements: 7
Total boolean elements: 4
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 0
    c_not: 2
    c_equal: 0
    c_some: 0
    c_all: 0
    r_restrict: 0
    r_and: 0
    r_inverse: 2
    r_transitive_closure: 0
    b_empty: 2
    n_count: 7
    n_concept_distance: 0
[t=13.0158s, 2501964 KB] Complexity 3:
Total concept elements: 15
Total role elements: 8
Total numerical elements: 9
Total boolean elements: 4
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 0
    c_not: 2
    c_equal: 1
    c_some: 3
    c_all: 3
    r_restrict: 3
    r_and: 1
    r_inverse: 2
    r_transitive_closure: 0
    b_empty: 2
    n_count: 9
    n_concept_distance: 0
[t=13.0167s, 2501964 KB] Complexity 4:
Total concept elements: 27
Total role elements: 11
Total numerical elements: 17
Total boolean elements: 7
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 1
    c_not: 7
    c_equal: 1
    c_some: 6
    c_all: 6
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 5
    n_count: 16
    n_concept_distance: 1
[t=13.0184s, 2501964 KB] Complexity 5:
Total concept elements: 37
Total role elements: 11
Total numerical elements: 28
Total boolean elements: 10
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 5
    c_not: 10
    c_equal: 1
    c_some: 7
    c_all: 8
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 8
    n_count: 27
    n_concept_distance: 1
[t=13.0208s, 2501964 KB] Complexity 6:
Total concept elements: 91
Total role elements: 11
Total numerical elements: 36
Total boolean elements: 13
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 23
    c_not: 15
    c_equal: 1
    c_some: 19
    c_all: 27
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 11
    n_count: 35
    n_concept_distance: 1
[t=13.024s, 2501964 KB] Complexity 7:
Total concept elements: 143
Total role elements: 11
Total numerical elements: 95
Total boolean elements: 29
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 45
    c_not: 45
    c_equal: 1
    c_some: 19
    c_all: 27
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 27
    n_count: 88
    n_concept_distance: 7
[t=13.0322s, 2501964 KB] Complexity 8:
Total concept elements: 295
Total role elements: 11
Total numerical elements: 147
Total boolean elements: 38
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 98
    c_not: 61
    c_equal: 1
    c_some: 56
    c_all: 73
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 36
    n_count: 138
    n_concept_distance: 9
[t=13.0442s, 2501964 KB] Complexity 9:
Total concept elements: 536
Total role elements: 11
Total numerical elements: 304
Total boolean elements: 88
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 190
    c_not: 166
    c_equal: 1
    c_some: 73
    c_all: 100
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 86
    n_count: 289
    n_concept_distance: 15
[t=13.0445s, 2501964 KB] Finished generating composite features.
Features generated: 392
Features after 0/1 pruning (incomplete): 231
Features after soft changes pruning (incomplete): 214
Features after relevant changes pruning (complete): 152
2024-08-09 00:10:10,518 - ..done
2024-08-09 00:10:10,518 - Constructing PerStateFeatureValuations...
2024-08-09 00:10:10,523 - ..done
2024-08-09 00:10:10,523 - Constructing StatePairEquivalenceDatas...
2024-08-09 00:10:10,652 - ..done
2024-08-09 00:10:10,652 - Constructing TupleGraphEquivalences...
Tuple graph equivalence construction statistics:
Num nodes: 125
2024-08-09 00:10:10,656 - ..done
2024-08-09 00:10:10,656 - Minimizing TupleGraphEquivalences...
Tuple graph equivalence minimization statistics:
Num orig nodes: 125
Num kept nodes: 111
2024-08-09 00:10:10,658 - ..done
Number of initial D2 facts: 81
Number of D2 facts: 81 of 5625
2024-08-09 00:10:10,863 - Grounding Logic Program...
2024-08-09 00:10:11,013 - ..done
2024-08-09 00:10:11,014 - Solving Logic Program...
2024-08-09 00:10:11,025 - ..done
Clingo statistics:
{'call': 0.0, 'result': 1.0, 'signal': 0.0, 'exhausted': 1.0, 'costs': [8.0], 'lower': [8.0], 'concurrency': 32.0, 'winner': 18.0, 'times': {'total': 0.3662891387939453, 'cpu': 0.3845609999999997, 'solve': 0.004271984100341797, 'unsat': 0.0006461143493652344, 'sat': 0.0027909278869628906}, 'models': {'enumerated': 21.0, 'optimal': 1.0}}
Solution cost: [8.0]
Total time: 0.3662891387939453
CPU time: 0.3845609999999997
Solve time: 0.004271984100341797
2024-08-09 00:10:11,108 - Learned the following sketch:
(:policy
(:booleans (f10 "b_nullary(empty-ferry)"))
(:numericals (f142 "n_count(c_some(r_primitive(at,0,1),c_primitive(at-ferry,0)))"))
(:rule (:conditions (:c_b_pos f10) (:c_n_eq f142)) (:effects (:e_b_bot f10) (:e_n_inc f142)))
(:rule (:conditions (:c_b_pos f10) (:c_n_gt f142)) (:effects (:e_b_neg f10) (:e_n_dec f142)))
(:rule (:conditions (:c_b_neg f10) (:c_n_eq f142)) (:effects (:e_b_bot f10) (:e_n_bot f142)))
(:rule (:conditions (:c_b_neg f10) (:c_n_eq f142)) (:effects (:e_b_pos f10) (:e_n_inc f142)))
(:rule (:conditions (:c_b_neg f10) (:c_n_eq f142)) (:effects (:e_b_bot f10) (:e_n_inc f142)))
(:rule (:conditions (:c_b_neg f10) (:c_n_gt f142)) (:effects (:e_b_pos f10) (:e_n_inc f142)))
(:rule (:conditions (:c_b_neg f10) (:c_n_gt f142)) (:effects (:e_b_bot f10) (:e_n_dec f142)))
(:rule (:conditions (:c_b_pos f10) (:c_n_gt f142)) (:effects (:e_b_bot f10) (:e_n_bot f142)))
(:rule (:conditions (:c_b_pos f10) (:c_n_gt f142)) (:effects (:e_b_bot f10) (:e_n_inc f142)))
(:rule (:conditions (:c_b_neg f10) (:c_n_gt f142)) (:effects (:e_b_bot f10) (:e_n_bot f142)))
(:rule (:conditions (:c_b_pos f10) (:c_n_gt f142)) (:effects (:e_b_bot f10) (:e_n_dec f142)))
)
Numer of sketch rules: 11
Number of selected features: 2
Maximum complexity of selected feature: 4
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p147.pddl
Sketch cycles
Instance: 4
42
42
Number of unsatisfied D2 facts: 93
Number of D2 facts: 174 of 5625
2024-08-09 00:10:11,624 - Grounding Logic Program...
2024-08-09 00:10:11,788 - ..done
2024-08-09 00:10:11,789 - Solving Logic Program...
2024-08-09 00:10:11,803 - ..done
Clingo statistics:
{'call': 0.0, 'result': 1.0, 'signal': 0.0, 'exhausted': 1.0, 'costs': [15.0], 'lower': [15.0], 'concurrency': 32.0, 'winner': 9.0, 'times': {'total': 0.6929280757904053, 'cpu': 0.7170239999999986, 'solve': 0.00551915168762207, 'unsat': 0.0017940998077392578, 'sat': 0.002237081527709961}, 'models': {'enumerated': 16.0, 'optimal': 1.0}}
Solution cost: [15.0]
Total time: 0.6929280757904053
CPU time: 0.7170239999999986
Solve time: 0.00551915168762207
2024-08-09 00:10:11,886 - Learned the following sketch:
(:policy
(:booleans (f10 "b_nullary(empty-ferry)"))
(:numericals (f30 "n_count(c_some(r_primitive(at_g,0,1),c_primitive(at-ferry,0)))") (f70 "n_count(c_and(c_primitive(on,0),c_some(r_primitive(at_g,0,1),c_primitive(at-ferry,0))))"))
(:rule (:conditions (:c_b_pos f10) (:c_n_eq f30) (:c_n_eq f70)) (:effects (:e_b_bot f10) (:e_n_bot f30) (:e_n_bot f70)))
(:rule (:conditions (:c_b_pos f10) (:c_n_gt f30) (:c_n_eq f70)) (:effects (:e_b_bot f10) (:e_n_dec f30) (:e_n_bot f70)))
(:rule (:conditions (:c_b_pos f10) (:c_n_eq f30) (:c_n_eq f70)) (:effects (:e_b_neg f10) (:e_n_bot f30) (:e_n_bot f70)))
(:rule (:conditions (:c_b_neg f10) (:c_n_eq f30) (:c_n_eq f70)) (:effects (:e_b_bot f10) (:e_n_inc f30) (:e_n_inc f70)))
(:rule (:conditions (:c_b_neg f10) (:c_n_gt f30) (:c_n_gt f70)) (:effects (:e_b_pos f10) (:e_n_bot f30) (:e_n_dec f70)))
(:rule (:conditions (:c_b_pos f10) (:c_n_gt f30) (:c_n_eq f70)) (:effects (:e_b_neg f10) (:e_n_bot f30) (:e_n_bot f70)))
(:rule (:conditions (:c_b_neg f10) (:c_n_gt f30) (:c_n_eq f70)) (:effects (:e_b_bot f10) (:e_n_bot f30) (:e_n_inc f70)))
(:rule (:conditions (:c_b_pos f10) (:c_n_gt f30) (:c_n_eq f70)) (:effects (:e_b_bot f10) (:e_n_bot f30) (:e_n_bot f70)))
)
Numer of sketch rules: 8
Number of selected features: 3
Maximum complexity of selected feature: 6
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p147.pddl
Sketch cycles
Instance: 4
40
40
Number of unsatisfied D2 facts: 13
Number of D2 facts: 187 of 5625
2024-08-09 00:10:12,411 - Grounding Logic Program...
2024-08-09 00:10:12,577 - ..done
2024-08-09 00:10:12,577 - Solving Logic Program...
2024-08-09 00:10:12,594 - ..done
Clingo statistics:
{'call': 0.0, 'result': 1.0, 'signal': 0.0, 'exhausted': 1.0, 'costs': [18.0], 'lower': [18.0], 'concurrency': 32.0, 'winner': 28.0, 'times': {'total': 0.705157995223999, 'cpu': 0.7338179999999994, 'solve': 0.0076351165771484375, 'unsat': 0.004408121109008789, 'sat': 0.002318143844604492}, 'models': {'enumerated': 11.0, 'optimal': 1.0}}
Solution cost: [18.0]
Total time: 0.705157995223999
CPU time: 0.7338179999999994
Solve time: 0.0076351165771484375
2024-08-09 00:10:12,678 - Learned the following sketch:
(:policy
(:booleans )
(:numericals (f45 "n_count(c_primitive(on,0))") (f142 "n_count(c_some(r_primitive(at,0,1),c_primitive(at-ferry,0)))") (f118 "n_count(c_and(c_some(r_primitive(at_g,0,1),c_primitive(at-ferry,0)),c_not(c_equal(r_primitive(at,0,1),r_primitive(at_g,0,1)))))"))
(:rule (:conditions (:c_n_eq f45) (:c_n_eq f142) (:c_n_eq f118)) (:effects (:e_n_bot f45) (:e_n_inc f142) (:e_n_bot f118)))
(:rule (:conditions (:c_n_eq f45) (:c_n_eq f142) (:c_n_gt f118)) (:effects (:e_n_bot f45) (:e_n_inc f142) (:e_n_dec f118)))
(:rule (:conditions (:c_n_eq f45) (:c_n_gt f142) (:c_n_eq f118)) (:effects (:e_n_inc f45) (:e_n_dec f142) (:e_n_bot f118)))
(:rule (:conditions (:c_n_gt f45) (:c_n_eq f142) (:c_n_eq f118)) (:effects (:e_n_bot f45) (:e_n_bot f142) (:e_n_inc f118)))
(:rule (:conditions (:c_n_gt f45) (:c_n_eq f142) (:c_n_gt f118)) (:effects (:e_n_dec f45) (:e_n_inc f142) (:e_n_dec f118)))
(:rule (:conditions (:c_n_eq f45) (:c_n_gt f142) (:c_n_gt f118)) (:effects (:e_n_inc f45) (:e_n_dec f142) (:e_n_bot f118)))
(:rule (:conditions (:c_n_gt f45) (:c_n_eq f142) (:c_n_gt f118)) (:effects (:e_n_bot f45) (:e_n_inc f142) (:e_n_bot f118)))
(:rule (:conditions (:c_n_gt f45) (:c_n_gt f142) (:c_n_gt f118)) (:effects (:e_n_dec f45) (:e_n_inc f142) (:e_n_dec f118)))
(:rule (:conditions (:c_n_gt f45) (:c_n_gt f142) (:c_n_eq f118)) (:effects (:e_n_bot f45) (:e_n_dec f142) (:e_n_inc f118)))
(:rule (:conditions (:c_n_eq f45) (:c_n_gt f142) (:c_n_gt f118)) (:effects (:e_n_bot f45) (:e_n_bot f142) (:e_n_dec f118)))
(:rule (:conditions (:c_n_gt f45) (:c_n_eq f142) (:c_n_eq f118)) (:effects (:e_n_bot f45) (:e_n_inc f142) (:e_n_inc f118)))
(:rule (:conditions (:c_n_eq f45) (:c_n_gt f142) (:c_n_gt f118)) (:effects (:e_n_bot f45) (:e_n_inc f142) (:e_n_dec f118)))
(:rule (:conditions (:c_n_gt f45) (:c_n_gt f142) (:c_n_eq f118)) (:effects (:e_n_bot f45) (:e_n_bot f142) (:e_n_inc f118)))
(:rule (:conditions (:c_n_eq f45) (:c_n_gt f142) (:c_n_gt f118)) (:effects (:e_n_bot f45) (:e_n_dec f142) (:e_n_dec f118)))
)
Numer of sketch rules: 14
Number of selected features: 3
Maximum complexity of selected feature: 9
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p147.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p32.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p75.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p76.pddl
2024-08-09 00:10:12,682 - Verifying learned sketch...
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p147.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p32.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p75.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p76.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p25.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p32.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p75.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p76.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p147.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p97.pddl
Sketch fails to bound width of a state
/proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p104.pddl
Instance: 6
Source_state: 81
Dlplan state: (instance index=6, state index=40, atoms={at(car1,loc3), at-ferry(loc2), on(car2)})
2024-08-09 00:10:12,692 - ..done
Smallest unsolved instance: 6
Selected instances: [6]
2024-08-09 00:10:12,692 - Iteration: 11
     id: 6 problem_filepath: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p104.pddl num_states: 45 num_state_equivalences: 24
2024-08-09 00:10:12,747 - Initialize global faithful abstract states...
2024-08-09 00:10:12,747 - ..done
2024-08-09 00:10:12,747 - Initializing DomainFeatureData...
[t=16.1182s, 2501964 KB] Started generating base features of complexity 1.
[t=16.1184s, 2501964 KB] Complexity 1:
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 0
    c_not: 0
    c_equal: 0
    c_some: 0
    c_all: 0
    r_restrict: 0
    r_and: 0
    r_inverse: 0
    r_transitive_closure: 0
    b_empty: 0
    n_count: 0
    n_concept_distance: 0
[t=16.1187s, 2501964 KB] Finished generating base features.
[t=16.1187s, 2501964 KB] Started generating composite features. 
[t=16.1189s, 2501964 KB] Complexity 2:
Total concept elements: 8
Total role elements: 4
Total numerical elements: 7
Total boolean elements: 3
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 0
    c_not: 2
    c_equal: 0
    c_some: 0
    c_all: 0
    r_restrict: 0
    r_and: 0
    r_inverse: 2
    r_transitive_closure: 0
    b_empty: 1
    n_count: 7
    n_concept_distance: 0
[t=16.1197s, 2501964 KB] Complexity 3:
Total concept elements: 15
Total role elements: 8
Total numerical elements: 9
Total boolean elements: 3
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 0
    c_not: 2
    c_equal: 1
    c_some: 3
    c_all: 3
    r_restrict: 3
    r_and: 1
    r_inverse: 2
    r_transitive_closure: 0
    b_empty: 1
    n_count: 9
    n_concept_distance: 0
[t=16.1204s, 2501964 KB] Complexity 4:
Total concept elements: 27
Total role elements: 11
Total numerical elements: 17
Total boolean elements: 6
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 1
    c_not: 7
    c_equal: 1
    c_some: 6
    c_all: 6
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 4
    n_count: 16
    n_concept_distance: 1
[t=16.1216s, 2501964 KB] Complexity 5:
Total concept elements: 37
Total role elements: 11
Total numerical elements: 24
Total boolean elements: 8
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 5
    c_not: 10
    c_equal: 1
    c_some: 7
    c_all: 8
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 6
    n_count: 23
    n_concept_distance: 1
[t=16.1233s, 2501964 KB] Complexity 6:
Total concept elements: 87
Total role elements: 11
Total numerical elements: 30
Total boolean elements: 11
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 23
    c_not: 15
    c_equal: 1
    c_some: 17
    c_all: 25
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 9
    n_count: 29
    n_concept_distance: 1
[t=16.1256s, 2501964 KB] Complexity 7:
Total concept elements: 135
Total role elements: 11
Total numerical elements: 72
Total boolean elements: 23
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 45
    c_not: 41
    c_equal: 1
    c_some: 17
    c_all: 25
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 21
    n_count: 65
    n_concept_distance: 7
[t=16.1307s, 2501964 KB] Complexity 8:
Total concept elements: 264
Total role elements: 11
Total numerical elements: 105
Total boolean elements: 30
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 98
    c_not: 57
    c_equal: 1
    c_some: 43
    c_all: 59
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 28
    n_count: 96
    n_concept_distance: 9
[t=16.1382s, 2501964 KB] Complexity 9:
Total concept elements: 472
Total role elements: 11
Total numerical elements: 219
Total boolean elements: 63
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 184
    c_not: 143
    c_equal: 1
    c_some: 57
    c_all: 81
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 61
    n_count: 204
    n_concept_distance: 15
[t=16.1386s, 2501964 KB] Finished generating composite features.
Features generated: 282
Features after 0/1 pruning (incomplete): 149
Features after soft changes pruning (incomplete): 149
Features after relevant changes pruning (complete): 115
2024-08-09 00:10:13,167 - ..done
2024-08-09 00:10:13,167 - Constructing PerStateFeatureValuations...
2024-08-09 00:10:13,169 - ..done
2024-08-09 00:10:13,169 - Constructing StatePairEquivalenceDatas...
2024-08-09 00:10:13,237 - ..done
2024-08-09 00:10:13,239 - Constructing TupleGraphEquivalences...
Tuple graph equivalence construction statistics:
Num nodes: 91
2024-08-09 00:10:13,242 - ..done
2024-08-09 00:10:13,242 - Minimizing TupleGraphEquivalences...
Tuple graph equivalence minimization statistics:
Num orig nodes: 91
Num kept nodes: 84
2024-08-09 00:10:13,243 - ..done
Number of initial D2 facts: 112
Number of D2 facts: 112 of 7056
2024-08-09 00:10:13,396 - Grounding Logic Program...
2024-08-09 00:10:13,512 - ..done
2024-08-09 00:10:13,512 - Solving Logic Program...
2024-08-09 00:10:13,523 - ..done
Clingo statistics:
{'call': 0.0, 'result': 1.0, 'signal': 0.0, 'exhausted': 1.0, 'costs': [8.0], 'lower': [8.0], 'concurrency': 32.0, 'winner': 25.0, 'times': {'total': 0.279508113861084, 'cpu': 0.30705500000000185, 'solve': 0.004468202590942383, 'unsat': 0.0008461475372314453, 'sat': 0.0018880367279052734}, 'models': {'enumerated': 28.0, 'optimal': 1.0}}
Solution cost: [8.0]
Total time: 0.279508113861084
CPU time: 0.30705500000000185
Solve time: 0.004468202590942383
2024-08-09 00:10:13,590 - Learned the following sketch:
(:policy
(:booleans (f3 "b_nullary(empty-ferry)"))
(:numericals (f106 "n_count(c_some(r_primitive(at,0,1),c_primitive(at-ferry,0)))"))
(:rule (:conditions (:c_b_neg f3) (:c_n_gt f106)) (:effects (:e_b_bot f3) (:e_n_dec f106)))
(:rule (:conditions (:c_b_neg f3) (:c_n_eq f106)) (:effects (:e_b_bot f3) (:e_n_bot f106)))
(:rule (:conditions (:c_b_neg f3) (:c_n_eq f106)) (:effects (:e_b_pos f3) (:e_n_inc f106)))
(:rule (:conditions (:c_b_pos f3) (:c_n_gt f106)) (:effects (:e_b_neg f3) (:e_n_dec f106)))
(:rule (:conditions (:c_b_pos f3) (:c_n_gt f106)) (:effects (:e_b_bot f3) (:e_n_bot f106)))
(:rule (:conditions (:c_b_pos f3) (:c_n_eq f106)) (:effects (:e_b_bot f3) (:e_n_inc f106)))
(:rule (:conditions (:c_b_pos f3) (:c_n_eq f106)) (:effects (:e_b_bot f3) (:e_n_bot f106)))
)
Numer of sketch rules: 7
Number of selected features: 2
Maximum complexity of selected feature: 4
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p104.pddl
Sketch cycles
Instance: 6
83
83
Number of unsatisfied D2 facts: 112
Number of D2 facts: 224 of 7056
2024-08-09 00:10:14,012 - Grounding Logic Program...
2024-08-09 00:10:14,141 - ..done
2024-08-09 00:10:14,141 - Solving Logic Program...
2024-08-09 00:10:14,158 - ..done
Clingo statistics:
{'call': 0.0, 'result': 1.0, 'signal': 0.0, 'exhausted': 1.0, 'costs': [13.0], 'lower': [13.0], 'concurrency': 32.0, 'winner': 24.0, 'times': {'total': 0.565295934677124, 'cpu': 0.6256020000000042, 'solve': 0.008774995803833008, 'unsat': 0.004706859588623047, 'sat': 0.0020589828491210938}, 'models': {'enumerated': 12.0, 'optimal': 1.0}}
Solution cost: [13.0]
Total time: 0.565295934677124
CPU time: 0.6256020000000042
Solve time: 0.008774995803833008
2024-08-09 00:10:14,229 - Learned the following sketch:
(:policy
(:booleans )
(:numericals (f20 "n_count(c_some(r_primitive(at_g,0,1),c_primitive(at-ferry,0)))") (f79 "n_count(c_and(c_primitive(on,0),c_not(c_some(r_primitive(at_g,0,1),c_primitive(at-ferry,0)))))"))
(:rule (:conditions (:c_n_gt f20) (:c_n_gt f79)) (:effects (:e_n_dec f20) (:e_n_bot f79)))
(:rule (:conditions (:c_n_eq f20) (:c_n_gt f79)) (:effects (:e_n_inc f20) (:e_n_dec f79)))
(:rule (:conditions (:c_n_gt f20) (:c_n_eq f79)) (:effects (:e_n_bot f20) (:e_n_bot f79)))
(:rule (:conditions (:c_n_eq f20) (:c_n_eq f79)) (:effects (:e_n_inc f20) (:e_n_bot f79)))
(:rule (:conditions (:c_n_eq f20) (:c_n_eq f79)) (:effects (:e_n_bot f20) (:e_n_inc f79)))
(:rule (:conditions (:c_n_gt f20) (:c_n_eq f79)) (:effects (:e_n_dec f20) (:e_n_bot f79)))
(:rule (:conditions (:c_n_gt f20) (:c_n_gt f79)) (:effects (:e_n_bot f20) (:e_n_dec f79)))
(:rule (:conditions (:c_n_gt f20) (:c_n_eq f79)) (:effects (:e_n_bot f20) (:e_n_inc f79)))
)
Numer of sketch rules: 8
Number of selected features: 2
Maximum complexity of selected feature: 7
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p104.pddl
Sketch cycles
Instance: 6
83
83
Number of unsatisfied D2 facts: 136
Number of D2 facts: 360 of 7056
2024-08-09 00:10:14,649 - Grounding Logic Program...
2024-08-09 00:10:14,797 - ..done
2024-08-09 00:10:14,798 - Solving Logic Program...
2024-08-09 00:10:14,826 - ..done
Clingo statistics:
{'call': 0.0, 'result': 1.0, 'signal': 0.0, 'exhausted': 1.0, 'costs': [16.0], 'lower': [16.0], 'concurrency': 32.0, 'winner': 3.0, 'times': {'total': 0.5944728851318359, 'cpu': 0.7717530000000004, 'solve': 0.019542932510375977, 'unsat': 0.009959936141967773, 'sat': 0.002346038818359375}, 'models': {'enumerated': 28.0, 'optimal': 1.0}}
Solution cost: [16.0]
Total time: 0.5944728851318359
CPU time: 0.7717530000000004
Solve time: 0.019542932510375977
2024-08-09 00:10:14,895 - Learned the following sketch:
(:policy
(:booleans )
(:numericals (f36 "n_count(c_primitive(on,0))") (f20 "n_count(c_some(r_primitive(at_g,0,1),c_primitive(at-ferry,0)))") (f25 "n_count(c_some(r_primitive(at,0,1),c_all(r_inverse(r_primitive(at_g,0,1)),c_primitive(on,0))))"))
(:rule (:conditions (:c_n_gt f36) (:c_n_gt f20) (:c_n_eq f25)) (:effects (:e_n_bot f36) (:e_n_bot f20) (:e_n_bot f25)))
(:rule (:conditions (:c_n_gt f36) (:c_n_eq f20) (:c_n_eq f25)) (:effects (:e_n_bot f36) (:e_n_inc f20) (:e_n_bot f25)))
(:rule (:conditions (:c_n_gt f36) (:c_n_gt f20) (:c_n_eq f25)) (:effects (:e_n_dec f36) (:e_n_bot f20) (:e_n_bot f25)))
(:rule (:conditions (:c_n_eq f36) (:c_n_eq f20) (:c_n_eq f25)) (:effects (:e_n_bot f36) (:e_n_inc f20) (:e_n_bot f25)))
(:rule (:conditions (:c_n_eq f36) (:c_n_eq f20) (:c_n_gt f25)) (:effects (:e_n_inc f36) (:e_n_bot f20) (:e_n_dec f25)))
(:rule (:conditions (:c_n_eq f36) (:c_n_gt f20) (:c_n_gt f25)) (:effects (:e_n_bot f36) (:e_n_dec f20) (:e_n_bot f25)))
(:rule (:conditions (:c_n_eq f36) (:c_n_gt f20) (:c_n_gt f25)) (:effects (:e_n_inc f36) (:e_n_bot f20) (:e_n_bot f25)))
(:rule (:conditions (:c_n_eq f36) (:c_n_gt f20) (:c_n_gt f25)) (:effects (:e_n_bot f36) (:e_n_bot f20) (:e_n_bot f25)))
(:rule (:conditions (:c_n_gt f36) (:c_n_gt f20) (:c_n_gt f25)) (:effects (:e_n_bot f36) (:e_n_bot f20) (:e_n_bot f25)))
(:rule (:conditions (:c_n_gt f36) (:c_n_eq f20) (:c_n_gt f25)) (:effects (:e_n_bot f36) (:e_n_inc f20) (:e_n_bot f25)))
(:rule (:conditions (:c_n_gt f36) (:c_n_gt f20) (:c_n_gt f25)) (:effects (:e_n_dec f36) (:e_n_bot f20) (:e_n_bot f25)))
(:rule (:conditions (:c_n_eq f36) (:c_n_eq f20) (:c_n_gt f25)) (:effects (:e_n_inc f36) (:e_n_bot f20) (:e_n_bot f25)))
(:rule (:conditions (:c_n_gt f36) (:c_n_gt f20) (:c_n_gt f25)) (:effects (:e_n_dec f36) (:e_n_bot f20) (:e_n_dec f25)))
(:rule (:conditions (:c_n_eq f36) (:c_n_gt f20) (:c_n_eq f25)) (:effects (:e_n_inc f36) (:e_n_bot f20) (:e_n_inc f25)))
(:rule (:conditions (:c_n_eq f36) (:c_n_gt f20) (:c_n_eq f25)) (:effects (:e_n_inc f36) (:e_n_bot f20) (:e_n_bot f25)))
(:rule (:conditions (:c_n_eq f36) (:c_n_gt f20) (:c_n_eq f25)) (:effects (:e_n_bot f36) (:e_n_bot f20) (:e_n_bot f25)))
)
Numer of sketch rules: 16
Number of selected features: 3
Maximum complexity of selected feature: 7
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p104.pddl
Sketch cycles
Instance: 6
83
83
Number of unsatisfied D2 facts: 37
Number of D2 facts: 397 of 7056
2024-08-09 00:10:15,344 - Grounding Logic Program...
2024-08-09 00:10:15,510 - ..done
2024-08-09 00:10:15,510 - Solving Logic Program...
2024-08-09 00:10:15,539 - ..done
Clingo statistics:
{'call': 0.0, 'result': 1.0, 'signal': 0.0, 'exhausted': 1.0, 'costs': [18.0], 'lower': [18.0], 'concurrency': 32.0, 'winner': 27.0, 'times': {'total': 0.6414430141448975, 'cpu': 0.8791830000000012, 'solve': 0.01929306983947754, 'unsat': 0.011276006698608398, 'sat': 0.002788066864013672}, 'models': {'enumerated': 34.0, 'optimal': 1.0}}
Solution cost: [18.0]
Total time: 0.6414430141448975
CPU time: 0.8791830000000012
Solve time: 0.01929306983947754
2024-08-09 00:10:15,611 - Learned the following sketch:
(:policy
(:booleans )
(:numericals (f20 "n_count(c_some(r_primitive(at_g,0,1),c_primitive(at-ferry,0)))") (f31 "n_count(c_not(c_all(r_primitive(at,0,1),c_primitive(at-ferry,0))))") (f51 "n_count(c_and(c_primitive(on,0),c_some(r_primitive(at_g,0,1),c_primitive(at-ferry,0))))"))
(:rule (:conditions (:c_n_gt f20) (:c_n_eq f31) (:c_n_eq f51)) (:effects (:e_n_bot f20) (:e_n_inc f31) (:e_n_inc f51)))
(:rule (:conditions (:c_n_eq f20) (:c_n_gt f31) (:c_n_eq f51)) (:effects (:e_n_inc f20) (:e_n_bot f31) (:e_n_inc f51)))
(:rule (:conditions (:c_n_gt f20) (:c_n_gt f31) (:c_n_gt f51)) (:effects (:e_n_bot f20) (:e_n_bot f31) (:e_n_dec f51)))
(:rule (:conditions (:c_n_eq f20) (:c_n_gt f31) (:c_n_eq f51)) (:effects (:e_n_inc f20) (:e_n_dec f31) (:e_n_bot f51)))
(:rule (:conditions (:c_n_eq f20) (:c_n_gt f31) (:c_n_eq f51)) (:effects (:e_n_bot f20) (:e_n_bot f31) (:e_n_bot f51)))
(:rule (:conditions (:c_n_gt f20) (:c_n_gt f31) (:c_n_eq f51)) (:effects (:e_n_bot f20) (:e_n_inc f31) (:e_n_bot f51)))
(:rule (:conditions (:c_n_gt f20) (:c_n_gt f31) (:c_n_eq f51)) (:effects (:e_n_dec f20) (:e_n_dec f31) (:e_n_bot f51)))
(:rule (:conditions (:c_n_eq f20) (:c_n_eq f31) (:c_n_eq f51)) (:effects (:e_n_inc f20) (:e_n_inc f31) (:e_n_inc f51)))
(:rule (:conditions (:c_n_eq f20) (:c_n_eq f31) (:c_n_eq f51)) (:effects (:e_n_bot f20) (:e_n_bot f31) (:e_n_bot f51)))
(:rule (:conditions (:c_n_gt f20) (:c_n_gt f31) (:c_n_eq f51)) (:effects (:e_n_bot f20) (:e_n_bot f31) (:e_n_bot f51)))
(:rule (:conditions (:c_n_eq f20) (:c_n_gt f31) (:c_n_eq f51)) (:effects (:e_n_inc f20) (:e_n_bot f31) (:e_n_bot f51)))
(:rule (:conditions (:c_n_gt f20) (:c_n_eq f31) (:c_n_gt f51)) (:effects (:e_n_bot f20) (:e_n_bot f31) (:e_n_dec f51)))
(:rule (:conditions (:c_n_gt f20) (:c_n_gt f31) (:c_n_eq f51)) (:effects (:e_n_bot f20) (:e_n_dec f31) (:e_n_inc f51)))
(:rule (:conditions (:c_n_gt f20) (:c_n_eq f31) (:c_n_eq f51)) (:effects (:e_n_bot f20) (:e_n_bot f31) (:e_n_bot f51)))
(:rule (:conditions (:c_n_gt f20) (:c_n_gt f31) (:c_n_eq f51)) (:effects (:e_n_bot f20) (:e_n_dec f31) (:e_n_bot f51)))
)
Numer of sketch rules: 15
Number of selected features: 3
Maximum complexity of selected feature: 6
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p104.pddl
Sketch cycles
Instance: 6
83
83
Number of unsatisfied D2 facts: 58
Number of D2 facts: 455 of 7056
2024-08-09 00:10:16,049 - Grounding Logic Program...
2024-08-09 00:10:16,225 - ..done
2024-08-09 00:10:16,226 - Solving Logic Program...
2024-08-09 00:10:16,275 - ..done
Clingo statistics:
{'call': 0.0, 'result': 1.0, 'signal': 0.0, 'exhausted': 1.0, 'costs': [20.0], 'lower': [20.0], 'concurrency': 32.0, 'winner': 15.0, 'times': {'total': 0.6617648601531982, 'cpu': 1.0248120000000007, 'solve': 0.03925681114196777, 'unsat': 0.030972957611083984, 'sat': 0.0028657913208007812}, 'models': {'enumerated': 27.0, 'optimal': 1.0}}
Solution cost: [20.0]
Total time: 0.6617648601531982
CPU time: 1.0248120000000007
Solve time: 0.03925681114196777
2024-08-09 00:10:16,343 - Learned the following sketch:
(:policy
(:booleans (f3 "b_nullary(empty-ferry)"))
(:numericals (f51 "n_count(c_and(c_primitive(on,0),c_some(r_primitive(at_g,0,1),c_primitive(at-ferry,0))))") (f86 "n_count(c_some(r_primitive(at,0,1),c_all(r_inverse(r_primitive(at_g,0,1)),c_some(r_primitive(at,0,1),c_primitive(at-ferry,0)))))"))
(:rule (:conditions (:c_b_neg f3) (:c_n_eq f51) (:c_n_gt f86)) (:effects (:e_b_bot f3) (:e_n_bot f51) (:e_n_dec f86)))
(:rule (:conditions (:c_b_neg f3) (:c_n_eq f51) (:c_n_eq f86)) (:effects (:e_b_bot f3) (:e_n_inc f51) (:e_n_bot f86)))
(:rule (:conditions (:c_b_neg f3) (:c_n_gt f51) (:c_n_eq f86)) (:effects (:e_b_pos f3) (:e_n_dec f51) (:e_n_inc f86)))
(:rule (:conditions (:c_b_pos f3) (:c_n_eq f51) (:c_n_eq f86)) (:effects (:e_b_bot f3) (:e_n_bot f51) (:e_n_inc f86)))
(:rule (:conditions (:c_b_pos f3) (:c_n_eq f51) (:c_n_gt f86)) (:effects (:e_b_neg f3) (:e_n_bot f51) (:e_n_dec f86)))
(:rule (:conditions (:c_b_pos f3) (:c_n_eq f51) (:c_n_gt f86)) (:effects (:e_b_neg f3) (:e_n_inc f51) (:e_n_dec f86)))
(:rule (:conditions (:c_b_pos f3) (:c_n_eq f51) (:c_n_gt f86)) (:effects (:e_b_bot f3) (:e_n_bot f51) (:e_n_bot f86)))
(:rule (:conditions (:c_b_neg f3) (:c_n_gt f51) (:c_n_gt f86)) (:effects (:e_b_bot f3) (:e_n_dec f51) (:e_n_bot f86)))
(:rule (:conditions (:c_b_neg f3) (:c_n_eq f51) (:c_n_gt f86)) (:effects (:e_b_bot f3) (:e_n_bot f51) (:e_n_bot f86)))
(:rule (:conditions (:c_b_neg f3) (:c_n_eq f51) (:c_n_gt f86)) (:effects (:e_b_pos f3) (:e_n_bot f51) (:e_n_bot f86)))
(:rule (:conditions (:c_b_pos f3) (:c_n_eq f51) (:c_n_gt f86)) (:effects (:e_b_bot f3) (:e_n_bot f51) (:e_n_inc f86)))
)
Numer of sketch rules: 11
Number of selected features: 3
Maximum complexity of selected feature: 9
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p104.pddl
Sketch cycles
Instance: 6
83
83
Number of unsatisfied D2 facts: 52
Number of D2 facts: 507 of 7056
2024-08-09 00:10:16,782 - Grounding Logic Program...
2024-08-09 00:10:16,963 - ..done
2024-08-09 00:10:16,964 - Solving Logic Program...
2024-08-09 00:10:17,008 - ..done
Clingo statistics:
{'call': 0.0, 'result': 1.0, 'signal': 0.0, 'exhausted': 1.0, 'costs': [20.0], 'lower': [20.0], 'concurrency': 32.0, 'winner': 18.0, 'times': {'total': 0.6624860763549805, 'cpu': 1.0132130000000004, 'solve': 0.03398609161376953, 'unsat': 0.0243070125579834, 'sat': 0.0031540393829345703}, 'models': {'enumerated': 24.0, 'optimal': 1.0}}
Solution cost: [20.0]
Total time: 0.6624860763549805
CPU time: 1.0132130000000004
Solve time: 0.03398609161376953
2024-08-09 00:10:17,081 - Learned the following sketch:
(:policy
(:booleans )
(:numericals (f36 "n_count(c_primitive(on,0))") (f51 "n_count(c_and(c_primitive(on,0),c_some(r_primitive(at_g,0,1),c_primitive(at-ferry,0))))") (f92 "n_count(c_and(c_all(r_primitive(at,0,1),c_primitive(at-ferry,0)),c_not(c_all(r_primitive(at_g,0,1),c_primitive(at-ferry,0)))))"))
(:rule (:conditions (:c_n_gt f36) (:c_n_eq f51) (:c_n_gt f92)) (:effects (:e_n_bot f36) (:e_n_inc f51) (:e_n_dec f92)))
(:rule (:conditions (:c_n_gt f36) (:c_n_eq f51) (:c_n_gt f92)) (:effects (:e_n_bot f36) (:e_n_bot f51) (:e_n_bot f92)))
(:rule (:conditions (:c_n_gt f36) (:c_n_gt f51) (:c_n_eq f92)) (:effects (:e_n_dec f36) (:e_n_dec f51) (:e_n_bot f92)))
(:rule (:conditions (:c_n_eq f36) (:c_n_eq f51) (:c_n_gt f92)) (:effects (:e_n_inc f36) (:e_n_bot f51) (:e_n_bot f92)))
(:rule (:conditions (:c_n_eq f36) (:c_n_eq f51) (:c_n_eq f92)) (:effects (:e_n_bot f36) (:e_n_bot f51) (:e_n_inc f92)))
(:rule (:conditions (:c_n_gt f36) (:c_n_eq f51) (:c_n_gt f92)) (:effects (:e_n_bot f36) (:e_n_bot f51) (:e_n_inc f92)))
(:rule (:conditions (:c_n_gt f36) (:c_n_eq f51) (:c_n_gt f92)) (:effects (:e_n_bot f36) (:e_n_inc f51) (:e_n_bot f92)))
(:rule (:conditions (:c_n_gt f36) (:c_n_gt f51) (:c_n_gt f92)) (:effects (:e_n_dec f36) (:e_n_dec f51) (:e_n_bot f92)))
)
Numer of sketch rules: 8
Number of selected features: 3
Maximum complexity of selected feature: 9
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p104.pddl
Sketch cycles
Instance: 6
80
82
83
80
Number of unsatisfied D2 facts: 13
Number of D2 facts: 520 of 7056
2024-08-09 00:10:17,522 - Grounding Logic Program...
2024-08-09 00:10:17,698 - ..done
2024-08-09 00:10:17,698 - Solving Logic Program...
2024-08-09 00:10:17,753 - ..done
Clingo statistics:
{'call': 0.0, 'result': 1.0, 'signal': 0.0, 'exhausted': 1.0, 'costs': [20.0], 'lower': [20.0], 'concurrency': 32.0, 'winner': 26.0, 'times': {'total': 0.6682970523834229, 'cpu': 1.0931560000000005, 'solve': 0.04381608963012695, 'unsat': 0.0313410758972168, 'sat': 0.0027408599853515625}, 'models': {'enumerated': 29.0, 'optimal': 1.0}}
Solution cost: [20.0]
Total time: 0.6682970523834229
CPU time: 1.0931560000000005
Solve time: 0.04381608963012695
2024-08-09 00:10:17,823 - Learned the following sketch:
(:policy
(:booleans (f3 "b_nullary(empty-ferry)"))
(:numericals (f51 "n_count(c_and(c_primitive(on,0),c_some(r_primitive(at_g,0,1),c_primitive(at-ferry,0))))") (f92 "n_count(c_and(c_all(r_primitive(at,0,1),c_primitive(at-ferry,0)),c_not(c_all(r_primitive(at_g,0,1),c_primitive(at-ferry,0)))))"))
(:rule (:conditions (:c_b_neg f3) (:c_n_eq f51) (:c_n_gt f92)) (:effects (:e_b_bot f3) (:e_n_inc f51) (:e_n_dec f92)))
(:rule (:conditions (:c_b_neg f3) (:c_n_gt f51) (:c_n_eq f92)) (:effects (:e_b_pos f3) (:e_n_dec f51) (:e_n_bot f92)))
(:rule (:conditions (:c_b_pos f3) (:c_n_eq f51) (:c_n_gt f92)) (:effects (:e_b_neg f3) (:e_n_bot f51) (:e_n_bot f92)))
(:rule (:conditions (:c_b_pos f3) (:c_n_eq f51) (:c_n_eq f92)) (:effects (:e_b_bot f3) (:e_n_bot f51) (:e_n_inc f92)))
(:rule (:conditions (:c_b_neg f3) (:c_n_eq f51) (:c_n_gt f92)) (:effects (:e_b_bot f3) (:e_n_bot f51) (:e_n_dec f92)))
(:rule (:conditions (:c_b_pos f3) (:c_n_eq f51) (:c_n_gt f92)) (:effects (:e_b_bot f3) (:e_n_bot f51) (:e_n_bot f92)))
(:rule (:conditions (:c_b_neg f3) (:c_n_eq f51) (:c_n_gt f92)) (:effects (:e_b_bot f3) (:e_n_bot f51) (:e_n_bot f92)))
(:rule (:conditions (:c_b_neg f3) (:c_n_gt f51) (:c_n_gt f92)) (:effects (:e_b_pos f3) (:e_n_dec f51) (:e_n_bot f92)))
(:rule (:conditions (:c_b_neg f3) (:c_n_eq f51) (:c_n_gt f92)) (:effects (:e_b_bot f3) (:e_n_inc f51) (:e_n_bot f92)))
)
Numer of sketch rules: 9
Number of selected features: 3
Maximum complexity of selected feature: 9
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p104.pddl
Sketch cycles
Instance: 6
82
83
82
Number of unsatisfied D2 facts: 20
Number of D2 facts: 540 of 7056
2024-08-09 00:10:18,263 - Grounding Logic Program...
2024-08-09 00:10:18,441 - ..done
2024-08-09 00:10:18,441 - Solving Logic Program...
2024-08-09 00:10:18,485 - ..done
Clingo statistics:
{'call': 0.0, 'result': 1.0, 'signal': 0.0, 'exhausted': 1.0, 'costs': [20.0], 'lower': [20.0], 'concurrency': 32.0, 'winner': 1.0, 'times': {'total': 0.659203052520752, 'cpu': 1.016998000000001, 'solve': 0.032900094985961914, 'unsat': 0.022680044174194336, 'sat': 0.003049135208129883}, 'models': {'enumerated': 32.0, 'optimal': 1.0}}
Solution cost: [20.0]
Total time: 0.659203052520752
CPU time: 1.016998000000001
Solve time: 0.032900094985961914
2024-08-09 00:10:18,557 - Learned the following sketch:
(:policy
(:booleans )
(:numericals (f36 "n_count(c_primitive(on,0))") (f20 "n_count(c_some(r_primitive(at_g,0,1),c_primitive(at-ferry,0)))") (f106 "n_count(c_some(r_primitive(at,0,1),c_primitive(at-ferry,0)))") (f51 "n_count(c_and(c_primitive(on,0),c_some(r_primitive(at_g,0,1),c_primitive(at-ferry,0))))"))
(:rule (:conditions (:c_n_gt f36) (:c_n_gt f20) (:c_n_gt f106) (:c_n_eq f51)) (:effects (:e_n_bot f36) (:e_n_bot f20) (:e_n_dec f106) (:e_n_inc f51)))
(:rule (:conditions (:c_n_gt f36) (:c_n_eq f20) (:c_n_eq f106) (:c_n_eq f51)) (:effects (:e_n_bot f36) (:e_n_bot f106) (:e_n_inc f20) (:e_n_inc f51)))
(:rule (:conditions (:c_n_gt f36) (:c_n_gt f20) (:c_n_eq f106) (:c_n_gt f51)) (:effects (:e_n_dec f36) (:e_n_bot f20) (:e_n_inc f106) (:e_n_dec f51)))
(:rule (:conditions (:c_n_eq f36) (:c_n_eq f20) (:c_n_eq f106) (:c_n_eq f51)) (:effects (:e_n_bot f36) (:e_n_inc f106) (:e_n_inc f20) (:e_n_bot f51)))
(:rule (:conditions (:c_n_eq f36) (:c_n_gt f106) (:c_n_eq f20) (:c_n_eq f51)) (:effects (:e_n_inc f36) (:e_n_bot f20) (:e_n_dec f106) (:e_n_bot f51)))
(:rule (:conditions (:c_n_eq f36) (:c_n_gt f20) (:c_n_gt f106) (:c_n_eq f51)) (:effects (:e_n_bot f36) (:e_n_bot f106) (:e_n_dec f20) (:e_n_bot f51)))
(:rule (:conditions (:c_n_eq f36) (:c_n_gt f20) (:c_n_eq f106) (:c_n_eq f51)) (:effects (:e_n_bot f36) (:e_n_inc f106) (:e_n_dec f20) (:e_n_bot f51)))
(:rule (:conditions (:c_n_eq f36) (:c_n_gt f20) (:c_n_eq f106) (:c_n_eq f51)) (:effects (:e_n_bot f36) (:e_n_bot f20) (:e_n_inc f106) (:e_n_bot f51)))
(:rule (:conditions (:c_n_gt f36) (:c_n_gt f106) (:c_n_eq f20) (:c_n_eq f51)) (:effects (:e_n_bot f36) (:e_n_dec f106) (:e_n_inc f20) (:e_n_inc f51)))
(:rule (:conditions (:c_n_gt f36) (:c_n_gt f20) (:c_n_eq f106) (:c_n_eq f51)) (:effects (:e_n_bot f36) (:e_n_inc f106) (:e_n_dec f20) (:e_n_bot f51)))
(:rule (:conditions (:c_n_eq f36) (:c_n_gt f20) (:c_n_gt f106) (:c_n_eq f51)) (:effects (:e_n_inc f36) (:e_n_bot f20) (:e_n_dec f106) (:e_n_bot f51)))
(:rule (:conditions (:c_n_gt f36) (:c_n_eq f20) (:c_n_eq f106) (:c_n_eq f51)) (:effects (:e_n_bot f36) (:e_n_inc f106) (:e_n_inc f20) (:e_n_inc f51)))
(:rule (:conditions (:c_n_gt f36) (:c_n_gt f20) (:c_n_gt f106) (:c_n_gt f51)) (:effects (:e_n_dec f36) (:e_n_bot f20) (:e_n_inc f106) (:e_n_dec f51)))
(:rule (:conditions (:c_n_gt f36) (:c_n_gt f20) (:c_n_eq f106) (:c_n_eq f51)) (:effects (:e_n_bot f36) (:e_n_bot f106) (:e_n_dec f20) (:e_n_bot f51)))
(:rule (:conditions (:c_n_eq f36) (:c_n_eq f20) (:c_n_eq f106) (:c_n_eq f51)) (:effects (:e_n_bot f36) (:e_n_bot f106) (:e_n_inc f20) (:e_n_bot f51)))
)
Numer of sketch rules: 15
Number of selected features: 4
Maximum complexity of selected feature: 6
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p104.pddl
2024-08-09 00:10:18,560 - Verifying learned sketch...
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p104.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p25.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p32.pddl
Sketch fails to bound width of a state
/proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p75.pddl
Instance: 2
Source_state: 14
Dlplan state: (instance index=2, state index=15, atoms={at(car2,loc2), at-ferry(loc1), on(car1)})
2024-08-09 00:10:18,565 - ..done
Smallest unsolved instance: 2
Selected instances: [6, 2]
2024-08-09 00:10:18,565 - Iteration: 12
     id: 6 problem_filepath: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p104.pddl num_states: 45 num_state_equivalences: 24
     id: 2 problem_filepath: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p75.pddl num_states: 16 num_state_equivalences: 8
2024-08-09 00:10:18,578 - Initialize global faithful abstract states...
2024-08-09 00:10:18,578 - ..done
2024-08-09 00:10:18,578 - Initializing DomainFeatureData...
[t=21.9492s, 2501964 KB] Started generating base features of complexity 1.
[t=21.9494s, 2501964 KB] Complexity 1:
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 0
    c_not: 0
    c_equal: 0
    c_some: 0
    c_all: 0
    r_restrict: 0
    r_and: 0
    r_inverse: 0
    r_transitive_closure: 0
    b_empty: 0
    n_count: 0
    n_concept_distance: 0
[t=21.9497s, 2501964 KB] Finished generating base features.
[t=21.9497s, 2501964 KB] Started generating composite features. 
[t=21.9499s, 2501964 KB] Complexity 2:
Total concept elements: 8
Total role elements: 4
Total numerical elements: 7
Total boolean elements: 3
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 0
    c_not: 2
    c_equal: 0
    c_some: 0
    c_all: 0
    r_restrict: 0
    r_and: 0
    r_inverse: 2
    r_transitive_closure: 0
    b_empty: 1
    n_count: 7
    n_concept_distance: 0
[t=21.9508s, 2501964 KB] Complexity 3:
Total concept elements: 15
Total role elements: 8
Total numerical elements: 9
Total boolean elements: 3
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 0
    c_not: 2
    c_equal: 1
    c_some: 3
    c_all: 3
    r_restrict: 3
    r_and: 1
    r_inverse: 2
    r_transitive_closure: 0
    b_empty: 1
    n_count: 9
    n_concept_distance: 0
[t=21.9517s, 2501964 KB] Complexity 4:
Total concept elements: 27
Total role elements: 11
Total numerical elements: 17
Total boolean elements: 6
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 1
    c_not: 7
    c_equal: 1
    c_some: 6
    c_all: 6
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 4
    n_count: 16
    n_concept_distance: 1
[t=21.9531s, 2501964 KB] Complexity 5:
Total concept elements: 37
Total role elements: 11
Total numerical elements: 25
Total boolean elements: 8
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 5
    c_not: 10
    c_equal: 1
    c_some: 7
    c_all: 8
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 6
    n_count: 24
    n_concept_distance: 1
[t=21.9552s, 2501964 KB] Complexity 6:
Total concept elements: 87
Total role elements: 11
Total numerical elements: 32
Total boolean elements: 11
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 23
    c_not: 15
    c_equal: 1
    c_some: 17
    c_all: 25
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 9
    n_count: 31
    n_concept_distance: 1
[t=21.9581s, 2501964 KB] Complexity 7:
Total concept elements: 135
Total role elements: 11
Total numerical elements: 76
Total boolean elements: 26
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 45
    c_not: 41
    c_equal: 1
    c_some: 17
    c_all: 25
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 24
    n_count: 69
    n_concept_distance: 7
[t=21.9649s, 2501964 KB] Complexity 8:
Total concept elements: 264
Total role elements: 11
Total numerical elements: 112
Total boolean elements: 33
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 98
    c_not: 57
    c_equal: 1
    c_some: 43
    c_all: 59
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 31
    n_count: 103
    n_concept_distance: 9
[t=21.9749s, 2501964 KB] Complexity 9:
Total concept elements: 472
Total role elements: 11
Total numerical elements: 231
Total boolean elements: 71
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 184
    c_not: 143
    c_equal: 1
    c_some: 57
    c_all: 81
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 69
    n_count: 216
    n_concept_distance: 15
[t=21.9752s, 2501964 KB] Finished generating composite features.
Features generated: 302
Features after 0/1 pruning (incomplete): 170
Features after soft changes pruning (incomplete): 165
Features after relevant changes pruning (complete): 126
2024-08-09 00:10:19,172 - ..done
2024-08-09 00:10:19,172 - Constructing PerStateFeatureValuations...
2024-08-09 00:10:19,175 - ..done
2024-08-09 00:10:19,175 - Constructing StatePairEquivalenceDatas...
2024-08-09 00:10:19,269 - ..done
2024-08-09 00:10:19,271 - Constructing TupleGraphEquivalences...
Tuple graph equivalence construction statistics:
Num nodes: 115
2024-08-09 00:10:19,274 - ..done
2024-08-09 00:10:19,274 - Minimizing TupleGraphEquivalences...
Tuple graph equivalence minimization statistics:
Num orig nodes: 115
Num kept nodes: 106
2024-08-09 00:10:19,275 - ..done
Number of initial D2 facts: 133
Number of D2 facts: 133 of 11025
2024-08-09 00:10:19,476 - Grounding Logic Program...
2024-08-09 00:10:19,639 - ..done
2024-08-09 00:10:19,639 - Solving Logic Program...
2024-08-09 00:10:19,653 - ..done
Clingo statistics:
{'call': 0.0, 'result': 1.0, 'signal': 0.0, 'exhausted': 1.0, 'costs': [8.0], 'lower': [8.0], 'concurrency': 32.0, 'winner': 3.0, 'times': {'total': 0.37609219551086426, 'cpu': 0.4016699999999993, 'solve': 0.0047991275787353516, 'unsat': 0.0009970664978027344, 'sat': 0.0022039413452148438}, 'models': {'enumerated': 16.0, 'optimal': 1.0}}
Solution cost: [8.0]
Total time: 0.37609219551086426
CPU time: 0.4016699999999993
Solve time: 0.0047991275787353516
2024-08-09 00:10:19,745 - Learned the following sketch:
(:policy
(:booleans )
(:numericals (f40 "n_count(c_primitive(on,0))") (f118 "n_count(c_some(r_primitive(at,0,1),c_primitive(at-ferry,0)))"))
(:rule (:conditions (:c_n_gt f40) (:c_n_gt f118)) (:effects (:e_n_bot f40) (:e_n_dec f118)))
(:rule (:conditions (:c_n_gt f40) (:c_n_eq f118)) (:effects (:e_n_bot f40) (:e_n_bot f118)))
(:rule (:conditions (:c_n_gt f40) (:c_n_eq f118)) (:effects (:e_n_dec f40) (:e_n_inc f118)))
(:rule (:conditions (:c_n_eq f40) (:c_n_gt f118)) (:effects (:e_n_inc f40) (:e_n_dec f118)))
(:rule (:conditions (:c_n_eq f40) (:c_n_gt f118)) (:effects (:e_n_bot f40) (:e_n_bot f118)))
(:rule (:conditions (:c_n_eq f40) (:c_n_eq f118)) (:effects (:e_n_bot f40) (:e_n_inc f118)))
(:rule (:conditions (:c_n_gt f40) (:c_n_eq f118)) (:effects (:e_n_bot f40) (:e_n_inc f118)))
(:rule (:conditions (:c_n_gt f40) (:c_n_gt f118)) (:effects (:e_n_dec f40) (:e_n_inc f118)))
(:rule (:conditions (:c_n_eq f40) (:c_n_gt f118)) (:effects (:e_n_bot f40) (:e_n_dec f118)))
(:rule (:conditions (:c_n_eq f40) (:c_n_eq f118)) (:effects (:e_n_bot f40) (:e_n_bot f118)))
)
Numer of sketch rules: 10
Number of selected features: 2
Maximum complexity of selected feature: 4
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p104.pddl
Sketch cycles
Instance: 6
83
83
Number of unsatisfied D2 facts: 180
Number of D2 facts: 313 of 11025
2024-08-09 00:10:20,342 - Grounding Logic Program...
2024-08-09 00:10:20,526 - ..done
2024-08-09 00:10:20,527 - Solving Logic Program...
2024-08-09 00:10:20,548 - ..done
Clingo statistics:
{'call': 0.0, 'result': 1.0, 'signal': 0.0, 'exhausted': 1.0, 'costs': [15.0], 'lower': [15.0], 'concurrency': 32.0, 'winner': 4.0, 'times': {'total': 0.7999589443206787, 'cpu': 0.9017960000000045, 'solve': 0.010855913162231445, 'unsat': 0.005166053771972656, 'sat': 0.0023789405822753906}, 'models': {'enumerated': 22.0, 'optimal': 1.0}}
Solution cost: [15.0]
Total time: 0.7999589443206787
CPU time: 0.9017960000000045
Solve time: 0.010855913162231445
2024-08-09 00:10:20,643 - Learned the following sketch:
(:policy
(:booleans )
(:numericals (f40 "n_count(c_primitive(on,0))") (f22 "n_count(c_some(r_primitive(at_g,0,1),c_primitive(at-ferry,0)))") (f58 "n_count(c_and(c_primitive(on,0),c_some(r_primitive(at_g,0,1),c_primitive(at-ferry,0))))"))
(:rule (:conditions (:c_n_gt f40) (:c_n_gt f22) (:c_n_eq f58)) (:effects (:e_n_bot f40) (:e_n_bot f22) (:e_n_inc f58)))
(:rule (:conditions (:c_n_gt f40) (:c_n_eq f22) (:c_n_eq f58)) (:effects (:e_n_bot f40) (:e_n_inc f22) (:e_n_bot f58)))
(:rule (:conditions (:c_n_gt f40) (:c_n_gt f22) (:c_n_gt f58)) (:effects (:e_n_dec f40) (:e_n_bot f22) (:e_n_dec f58)))
(:rule (:conditions (:c_n_eq f40) (:c_n_eq f22) (:c_n_eq f58)) (:effects (:e_n_bot f40) (:e_n_inc f22) (:e_n_bot f58)))
(:rule (:conditions (:c_n_eq f40) (:c_n_eq f22) (:c_n_eq f58)) (:effects (:e_n_inc f40) (:e_n_bot f22) (:e_n_bot f58)))
(:rule (:conditions (:c_n_eq f40) (:c_n_gt f22) (:c_n_eq f58)) (:effects (:e_n_bot f40) (:e_n_bot f22) (:e_n_bot f58)))
(:rule (:conditions (:c_n_eq f40) (:c_n_gt f22) (:c_n_eq f58)) (:effects (:e_n_bot f40) (:e_n_dec f22) (:e_n_bot f58)))
(:rule (:conditions (:c_n_gt f40) (:c_n_eq f22) (:c_n_eq f58)) (:effects (:e_n_bot f40) (:e_n_inc f22) (:e_n_inc f58)))
(:rule (:conditions (:c_n_gt f40) (:c_n_gt f22) (:c_n_eq f58)) (:effects (:e_n_dec f40) (:e_n_bot f22) (:e_n_bot f58)))
(:rule (:conditions (:c_n_eq f40) (:c_n_gt f22) (:c_n_eq f58)) (:effects (:e_n_inc f40) (:e_n_bot f22) (:e_n_bot f58)))
)
Numer of sketch rules: 10
Number of selected features: 3
Maximum complexity of selected feature: 6
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p104.pddl
Sketch cycles
Instance: 6
83
83
Number of unsatisfied D2 facts: 110
Number of D2 facts: 423 of 11025
2024-08-09 00:10:21,242 - Grounding Logic Program...
2024-08-09 00:10:21,442 - ..done
2024-08-09 00:10:21,443 - Solving Logic Program...
2024-08-09 00:10:21,492 - ..done
Clingo statistics:
{'call': 0.0, 'result': 1.0, 'signal': 0.0, 'exhausted': 1.0, 'costs': [19.0], 'lower': [19.0], 'concurrency': 32.0, 'winner': 8.0, 'times': {'total': 0.8461079597473145, 'cpu': 1.1170380000000044, 'solve': 0.037980079650878906, 'unsat': 0.026907920837402344, 'sat': 0.0024759769439697266}, 'models': {'enumerated': 21.0, 'optimal': 1.0}}
Solution cost: [19.0]
Total time: 0.8461079597473145
CPU time: 1.1170380000000044
Solve time: 0.037980079650878906
2024-08-09 00:10:21,590 - Learned the following sketch:
(:policy
(:booleans )
(:numericals (f22 "n_count(c_some(r_primitive(at_g,0,1),c_primitive(at-ferry,0)))") (f35 "n_count(c_not(c_all(r_primitive(at,0,1),c_primitive(at-ferry,0))))") (f89 "n_count(c_and(c_primitive(on,0),c_not(c_some(r_primitive(at_g,0,1),c_primitive(at-ferry,0)))))"))
(:rule (:conditions (:c_n_gt f22) (:c_n_eq f35) (:c_n_gt f89)) (:effects (:e_n_bot f22) (:e_n_inc f35) (:e_n_dec f89)))
(:rule (:conditions (:c_n_eq f22) (:c_n_gt f35) (:c_n_gt f89)) (:effects (:e_n_inc f22) (:e_n_dec f35) (:e_n_bot f89)))
(:rule (:conditions (:c_n_gt f22) (:c_n_gt f35) (:c_n_eq f89)) (:effects (:e_n_bot f22) (:e_n_bot f35) (:e_n_bot f89)))
(:rule (:conditions (:c_n_eq f22) (:c_n_gt f35) (:c_n_eq f89)) (:effects (:e_n_inc f22) (:e_n_dec f35) (:e_n_bot f89)))
(:rule (:conditions (:c_n_eq f22) (:c_n_gt f35) (:c_n_eq f89)) (:effects (:e_n_bot f22) (:e_n_bot f35) (:e_n_inc f89)))
(:rule (:conditions (:c_n_gt f22) (:c_n_gt f35) (:c_n_eq f89)) (:effects (:e_n_dec f22) (:e_n_bot f35) (:e_n_bot f89)))
(:rule (:conditions (:c_n_gt f22) (:c_n_gt f35) (:c_n_eq f89)) (:effects (:e_n_dec f22) (:e_n_dec f35) (:e_n_bot f89)))
(:rule (:conditions (:c_n_gt f22) (:c_n_gt f35) (:c_n_eq f89)) (:effects (:e_n_bot f22) (:e_n_dec f35) (:e_n_bot f89)))
(:rule (:conditions (:c_n_eq f22) (:c_n_eq f35) (:c_n_gt f89)) (:effects (:e_n_inc f22) (:e_n_inc f35) (:e_n_dec f89)))
(:rule (:conditions (:c_n_gt f22) (:c_n_gt f35) (:c_n_gt f89)) (:effects (:e_n_dec f22) (:e_n_dec f35) (:e_n_bot f89)))
(:rule (:conditions (:c_n_eq f22) (:c_n_eq f35) (:c_n_eq f89)) (:effects (:e_n_bot f22) (:e_n_bot f35) (:e_n_inc f89)))
(:rule (:conditions (:c_n_gt f22) (:c_n_gt f35) (:c_n_eq f89)) (:effects (:e_n_bot f22) (:e_n_bot f35) (:e_n_inc f89)))
(:rule (:conditions (:c_n_gt f22) (:c_n_gt f35) (:c_n_gt f89)) (:effects (:e_n_bot f22) (:e_n_dec f35) (:e_n_dec f89)))
(:rule (:conditions (:c_n_gt f22) (:c_n_eq f35) (:c_n_eq f89)) (:effects (:e_n_bot f22) (:e_n_bot f35) (:e_n_bot f89)))
(:rule (:conditions (:c_n_gt f22) (:c_n_eq f35) (:c_n_eq f89)) (:effects (:e_n_bot f22) (:e_n_bot f35) (:e_n_inc f89)))
(:rule (:conditions (:c_n_eq f22) (:c_n_gt f35) (:c_n_gt f89)) (:effects (:e_n_inc f22) (:e_n_dec f35) (:e_n_dec f89)))
)
Numer of sketch rules: 16
Number of selected features: 3
Maximum complexity of selected feature: 7
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p104.pddl
Sketch cycles
Instance: 6
83
83
Number of unsatisfied D2 facts: 69
Number of D2 facts: 492 of 11025
2024-08-09 00:10:22,167 - Grounding Logic Program...
2024-08-09 00:10:22,377 - ..done
2024-08-09 00:10:22,378 - Solving Logic Program...
2024-08-09 00:10:22,430 - ..done
Clingo statistics:
{'call': 0.0, 'result': 1.0, 'signal': 0.0, 'exhausted': 1.0, 'costs': [20.0], 'lower': [20.0], 'concurrency': 32.0, 'winner': 8.0, 'times': {'total': 0.8362858295440674, 'cpu': 1.1369979999999984, 'solve': 0.03980302810668945, 'unsat': 0.034208059310913086, 'sat': 0.002729177474975586}, 'models': {'enumerated': 28.0, 'optimal': 1.0}}
Solution cost: [20.0]
Total time: 0.8362858295440674
CPU time: 1.1369979999999984
Solve time: 0.03980302810668945
2024-08-09 00:10:22,525 - Learned the following sketch:
(:policy
(:booleans )
(:numericals (f40 "n_count(c_primitive(on,0))") (f58 "n_count(c_and(c_primitive(on,0),c_some(r_primitive(at_g,0,1),c_primitive(at-ferry,0))))") (f39 "n_count(c_and(c_all(r_primitive(at,0,1),c_primitive(at-ferry,0)),c_not(c_equal(r_primitive(at,0,1),r_primitive(at_g,0,1)))))"))
(:rule (:conditions (:c_n_gt f40) (:c_n_eq f58) (:c_n_gt f39)) (:effects (:e_n_bot f40) (:e_n_inc f58) (:e_n_bot f39)))
(:rule (:conditions (:c_n_gt f40) (:c_n_eq f58) (:c_n_gt f39)) (:effects (:e_n_bot f40) (:e_n_bot f58) (:e_n_bot f39)))
(:rule (:conditions (:c_n_gt f40) (:c_n_gt f58) (:c_n_gt f39)) (:effects (:e_n_dec f40) (:e_n_dec f58) (:e_n_dec f39)))
(:rule (:conditions (:c_n_eq f40) (:c_n_eq f58) (:c_n_gt f39)) (:effects (:e_n_inc f40) (:e_n_bot f58) (:e_n_bot f39)))
(:rule (:conditions (:c_n_eq f40) (:c_n_eq f58) (:c_n_eq f39)) (:effects (:e_n_bot f40) (:e_n_bot f58) (:e_n_inc f39)))
(:rule (:conditions (:c_n_gt f40) (:c_n_eq f58) (:c_n_gt f39)) (:effects (:e_n_bot f40) (:e_n_inc f58) (:e_n_dec f39)))
(:rule (:conditions (:c_n_gt f40) (:c_n_eq f58) (:c_n_gt f39)) (:effects (:e_n_bot f40) (:e_n_inc f58) (:e_n_inc f39)))
)
Numer of sketch rules: 7
Number of selected features: 3
Maximum complexity of selected feature: 9
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p104.pddl
Sketch cycles
Instance: 6
80
82
83
80
Number of unsatisfied D2 facts: 23
Number of D2 facts: 515 of 11025
2024-08-09 00:10:23,122 - Grounding Logic Program...
2024-08-09 00:10:23,335 - ..done
2024-08-09 00:10:23,336 - Solving Logic Program...
2024-08-09 00:10:23,382 - ..done
Clingo statistics:
{'call': 0.0, 'result': 1.0, 'signal': 0.0, 'exhausted': 1.0, 'costs': [20.0], 'lower': [20.0], 'concurrency': 32.0, 'winner': 8.0, 'times': {'total': 0.854154109954834, 'cpu': 1.2180880000000016, 'solve': 0.033715009689331055, 'unsat': 0.019993066787719727, 'sat': 0.003059864044189453}, 'models': {'enumerated': 29.0, 'optimal': 1.0}}
Solution cost: [20.0]
Total time: 0.854154109954834
CPU time: 1.2180880000000016
Solve time: 0.033715009689331055
2024-08-09 00:10:23,477 - Learned the following sketch:
(:policy
(:booleans )
(:numericals (f40 "n_count(c_primitive(on,0))") (f58 "n_count(c_and(c_primitive(on,0),c_some(r_primitive(at_g,0,1),c_primitive(at-ferry,0))))") (f103 "n_count(c_and(c_all(r_primitive(at,0,1),c_primitive(at-ferry,0)),c_not(c_all(r_primitive(at_g,0,1),c_primitive(at-ferry,0)))))"))
(:rule (:conditions (:c_n_gt f40) (:c_n_eq f58) (:c_n_gt f103)) (:effects (:e_n_bot f40) (:e_n_inc f58) (:e_n_dec f103)))
(:rule (:conditions (:c_n_gt f40) (:c_n_eq f58) (:c_n_gt f103)) (:effects (:e_n_bot f40) (:e_n_bot f58) (:e_n_bot f103)))
(:rule (:conditions (:c_n_gt f40) (:c_n_gt f58) (:c_n_eq f103)) (:effects (:e_n_dec f40) (:e_n_dec f58) (:e_n_bot f103)))
(:rule (:conditions (:c_n_eq f40) (:c_n_eq f58) (:c_n_eq f103)) (:effects (:e_n_bot f40) (:e_n_bot f58) (:e_n_bot f103)))
(:rule (:conditions (:c_n_eq f40) (:c_n_eq f58) (:c_n_gt f103)) (:effects (:e_n_inc f40) (:e_n_bot f58) (:e_n_bot f103)))
(:rule (:conditions (:c_n_eq f40) (:c_n_eq f58) (:c_n_eq f103)) (:effects (:e_n_bot f40) (:e_n_bot f58) (:e_n_inc f103)))
(:rule (:conditions (:c_n_gt f40) (:c_n_eq f58) (:c_n_gt f103)) (:effects (:e_n_bot f40) (:e_n_bot f58) (:e_n_inc f103)))
(:rule (:conditions (:c_n_gt f40) (:c_n_eq f58) (:c_n_gt f103)) (:effects (:e_n_bot f40) (:e_n_inc f58) (:e_n_bot f103)))
(:rule (:conditions (:c_n_gt f40) (:c_n_gt f58) (:c_n_gt f103)) (:effects (:e_n_dec f40) (:e_n_dec f58) (:e_n_bot f103)))
(:rule (:conditions (:c_n_eq f40) (:c_n_eq f58) (:c_n_gt f103)) (:effects (:e_n_bot f40) (:e_n_bot f58) (:e_n_bot f103)))
)
Numer of sketch rules: 10
Number of selected features: 3
Maximum complexity of selected feature: 9
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p104.pddl
Sketch cycles
Instance: 6
83
83
Number of unsatisfied D2 facts: 61
Number of D2 facts: 576 of 11025
2024-08-09 00:10:24,075 - Grounding Logic Program...
2024-08-09 00:10:24,299 - ..done
2024-08-09 00:10:24,299 - Solving Logic Program...
2024-08-09 00:10:24,341 - ..done
Clingo statistics:
{'call': 0.0, 'result': 1.0, 'signal': 0.0, 'exhausted': 1.0, 'costs': [20.0], 'lower': [20.0], 'concurrency': 32.0, 'winner': 17.0, 'times': {'total': 0.8609521389007568, 'cpu': 1.164553999999999, 'solve': 0.02838301658630371, 'unsat': 0.020776987075805664, 'sat': 0.002978801727294922}, 'models': {'enumerated': 24.0, 'optimal': 1.0}}
Solution cost: [20.0]
Total time: 0.8609521389007568
CPU time: 1.164553999999999
Solve time: 0.02838301658630371
2024-08-09 00:10:24,434 - Learned the following sketch:
(:policy
(:booleans )
(:numericals (f40 "n_count(c_primitive(on,0))") (f22 "n_count(c_some(r_primitive(at_g,0,1),c_primitive(at-ferry,0)))") (f118 "n_count(c_some(r_primitive(at,0,1),c_primitive(at-ferry,0)))") (f58 "n_count(c_and(c_primitive(on,0),c_some(r_primitive(at_g,0,1),c_primitive(at-ferry,0))))"))
(:rule (:conditions (:c_n_gt f40) (:c_n_gt f22) (:c_n_gt f118) (:c_n_eq f58)) (:effects (:e_n_bot f40) (:e_n_bot f22) (:e_n_dec f118) (:e_n_inc f58)))
(:rule (:conditions (:c_n_gt f40) (:c_n_eq f22) (:c_n_eq f118) (:c_n_eq f58)) (:effects (:e_n_bot f40) (:e_n_bot f118) (:e_n_inc f22) (:e_n_inc f58)))
(:rule (:conditions (:c_n_gt f40) (:c_n_gt f22) (:c_n_eq f118) (:c_n_gt f58)) (:effects (:e_n_dec f40) (:e_n_bot f22) (:e_n_inc f118) (:e_n_dec f58)))
(:rule (:conditions (:c_n_eq f40) (:c_n_eq f22) (:c_n_eq f118) (:c_n_eq f58)) (:effects (:e_n_bot f40) (:e_n_inc f118) (:e_n_inc f22) (:e_n_bot f58)))
(:rule (:conditions (:c_n_eq f40) (:c_n_gt f118) (:c_n_eq f22) (:c_n_eq f58)) (:effects (:e_n_inc f40) (:e_n_bot f22) (:e_n_dec f118) (:e_n_bot f58)))
(:rule (:conditions (:c_n_eq f40) (:c_n_gt f22) (:c_n_gt f118) (:c_n_eq f58)) (:effects (:e_n_bot f40) (:e_n_bot f118) (:e_n_dec f22) (:e_n_bot f58)))
(:rule (:conditions (:c_n_eq f40) (:c_n_gt f22) (:c_n_eq f118) (:c_n_eq f58)) (:effects (:e_n_bot f40) (:e_n_inc f118) (:e_n_dec f22) (:e_n_bot f58)))
(:rule (:conditions (:c_n_eq f40) (:c_n_gt f22) (:c_n_eq f118) (:c_n_eq f58)) (:effects (:e_n_bot f40) (:e_n_bot f22) (:e_n_inc f118) (:e_n_bot f58)))
(:rule (:conditions (:c_n_gt f40) (:c_n_gt f118) (:c_n_eq f22) (:c_n_eq f58)) (:effects (:e_n_bot f40) (:e_n_dec f118) (:e_n_inc f22) (:e_n_inc f58)))
(:rule (:conditions (:c_n_gt f40) (:c_n_gt f22) (:c_n_eq f118) (:c_n_eq f58)) (:effects (:e_n_bot f40) (:e_n_bot f22) (:e_n_bot f118) (:e_n_inc f58)))
(:rule (:conditions (:c_n_gt f40) (:c_n_gt f22) (:c_n_eq f118) (:c_n_eq f58)) (:effects (:e_n_bot f40) (:e_n_inc f118) (:e_n_dec f22) (:e_n_bot f58)))
(:rule (:conditions (:c_n_eq f40) (:c_n_gt f22) (:c_n_gt f118) (:c_n_eq f58)) (:effects (:e_n_inc f40) (:e_n_bot f22) (:e_n_dec f118) (:e_n_bot f58)))
(:rule (:conditions (:c_n_gt f40) (:c_n_gt f22) (:c_n_eq f118) (:c_n_eq f58)) (:effects (:e_n_bot f40) (:e_n_bot f22) (:e_n_inc f118) (:e_n_inc f58)))
(:rule (:conditions (:c_n_gt f40) (:c_n_gt f22) (:c_n_gt f118) (:c_n_gt f58)) (:effects (:e_n_dec f40) (:e_n_bot f22) (:e_n_inc f118) (:e_n_dec f58)))
(:rule (:conditions (:c_n_gt f40) (:c_n_eq f22) (:c_n_eq f118) (:c_n_eq f58)) (:effects (:e_n_bot f40) (:e_n_inc f118) (:e_n_inc f22) (:e_n_inc f58)))
)
Numer of sketch rules: 15
Number of selected features: 4
Maximum complexity of selected feature: 6
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p104.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p75.pddl
2024-08-09 00:10:24,438 - Verifying learned sketch...
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p104.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p75.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p25.pddl
Sketch fails to bound width of a state
/proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p32.pddl
Instance: 1
Source_state: 6
Dlplan state: (instance index=1, state index=11, atoms={empty-ferry(), at-ferry(loc1), at(car1,loc3)})
2024-08-09 00:10:24,443 - ..done
Smallest unsolved instance: 1
Selected instances: [6, 2, 1]
2024-08-09 00:10:24,443 - Iteration: 13
     id: 6 problem_filepath: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p104.pddl num_states: 45 num_state_equivalences: 24
     id: 2 problem_filepath: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p75.pddl num_states: 16 num_state_equivalences: 8
     id: 1 problem_filepath: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p32.pddl num_states: 12 num_state_equivalences: 7
2024-08-09 00:10:24,457 - Initialize global faithful abstract states...
2024-08-09 00:10:24,457 - ..done
2024-08-09 00:10:24,457 - Initializing DomainFeatureData...
[t=27.8283s, 2502476 KB] Started generating base features of complexity 1.
[t=27.8285s, 2502476 KB] Complexity 1:
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 0
    c_not: 0
    c_equal: 0
    c_some: 0
    c_all: 0
    r_restrict: 0
    r_and: 0
    r_inverse: 0
    r_transitive_closure: 0
    b_empty: 0
    n_count: 0
    n_concept_distance: 0
[t=27.8288s, 2502476 KB] Finished generating base features.
[t=27.8288s, 2502476 KB] Started generating composite features. 
[t=27.829s, 2502476 KB] Complexity 2:
Total concept elements: 8
Total role elements: 4
Total numerical elements: 7
Total boolean elements: 4
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 0
    c_not: 2
    c_equal: 0
    c_some: 0
    c_all: 0
    r_restrict: 0
    r_and: 0
    r_inverse: 2
    r_transitive_closure: 0
    b_empty: 2
    n_count: 7
    n_concept_distance: 0
[t=27.8299s, 2502476 KB] Complexity 3:
Total concept elements: 15
Total role elements: 8
Total numerical elements: 9
Total boolean elements: 4
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 0
    c_not: 2
    c_equal: 1
    c_some: 3
    c_all: 3
    r_restrict: 3
    r_and: 1
    r_inverse: 2
    r_transitive_closure: 0
    b_empty: 2
    n_count: 9
    n_concept_distance: 0
[t=27.8309s, 2502476 KB] Complexity 4:
Total concept elements: 27
Total role elements: 11
Total numerical elements: 17
Total boolean elements: 7
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 1
    c_not: 7
    c_equal: 1
    c_some: 6
    c_all: 6
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 5
    n_count: 16
    n_concept_distance: 1
[t=27.8325s, 2502476 KB] Complexity 5:
Total concept elements: 37
Total role elements: 11
Total numerical elements: 25
Total boolean elements: 10
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 5
    c_not: 10
    c_equal: 1
    c_some: 7
    c_all: 8
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 8
    n_count: 24
    n_concept_distance: 1
[t=27.8349s, 2502476 KB] Complexity 6:
Total concept elements: 87
Total role elements: 11
Total numerical elements: 32
Total boolean elements: 13
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 23
    c_not: 15
    c_equal: 1
    c_some: 17
    c_all: 25
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 11
    n_count: 31
    n_concept_distance: 1
[t=27.8381s, 2502476 KB] Complexity 7:
Total concept elements: 135
Total role elements: 11
Total numerical elements: 76
Total boolean elements: 28
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 45
    c_not: 41
    c_equal: 1
    c_some: 17
    c_all: 25
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 26
    n_count: 69
    n_concept_distance: 7
[t=27.846s, 2502476 KB] Complexity 8:
Total concept elements: 264
Total role elements: 11
Total numerical elements: 112
Total boolean elements: 36
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 98
    c_not: 57
    c_equal: 1
    c_some: 43
    c_all: 59
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 34
    n_count: 103
    n_concept_distance: 9
[t=27.8575s, 2502476 KB] Complexity 9:
Total concept elements: 472
Total role elements: 11
Total numerical elements: 231
Total boolean elements: 77
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 184
    c_not: 143
    c_equal: 1
    c_some: 57
    c_all: 81
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 75
    n_count: 216
    n_concept_distance: 15
[t=27.8579s, 2502476 KB] Finished generating composite features.
Features generated: 308
Features after 0/1 pruning (incomplete): 184
Features after soft changes pruning (incomplete): 179
Features after relevant changes pruning (complete): 134
2024-08-09 00:10:25,236 - ..done
2024-08-09 00:10:25,236 - Constructing PerStateFeatureValuations...
2024-08-09 00:10:25,240 - ..done
2024-08-09 00:10:25,240 - Constructing StatePairEquivalenceDatas...
2024-08-09 00:10:25,362 - ..done
2024-08-09 00:10:25,364 - Constructing TupleGraphEquivalences...
Tuple graph equivalence construction statistics:
Num nodes: 140
2024-08-09 00:10:25,368 - ..done
2024-08-09 00:10:25,368 - Minimizing TupleGraphEquivalences...
Tuple graph equivalence minimization statistics:
Num orig nodes: 140
Num kept nodes: 127
2024-08-09 00:10:25,370 - ..done
Number of initial D2 facts: 155
Number of D2 facts: 155 of 15376
2024-08-09 00:10:25,643 - Grounding Logic Program...
2024-08-09 00:10:25,860 - ..done
2024-08-09 00:10:25,861 - Solving Logic Program...
2024-08-09 00:10:25,877 - ..done
Clingo statistics:
{'call': 0.0, 'result': 1.0, 'signal': 0.0, 'exhausted': 1.0, 'costs': [11.0], 'lower': [11.0], 'concurrency': 32.0, 'winner': 15.0, 'times': {'total': 0.5056018829345703, 'cpu': 0.5416819999999944, 'solve': 0.005179882049560547, 'unsat': 0.0017058849334716797, 'sat': 0.0019989013671875}, 'models': {'enumerated': 17.0, 'optimal': 1.0}}
Solution cost: [11.0]
Total time: 0.5056018829345703
CPU time: 0.5416819999999944
Solve time: 0.005179882049560547
2024-08-09 00:10:25,993 - Learned the following sketch:
(:policy
(:booleans (f3 "b_nullary(empty-ferry)"))
(:numericals (f1 "n_count(c_and(c_not(c_primitive(on,0)),c_some(r_primitive(at_g,0,1),c_primitive(at-ferry,0))))"))
(:rule (:conditions (:c_b_neg f3) (:c_n_gt f1)) (:effects (:e_b_bot f3) (:e_n_dec f1)))
(:rule (:conditions (:c_b_neg f3) (:c_n_eq f1)) (:effects (:e_b_bot f3) (:e_n_bot f1)))
(:rule (:conditions (:c_b_neg f3) (:c_n_eq f1)) (:effects (:e_b_pos f3) (:e_n_inc f1)))
(:rule (:conditions (:c_b_pos f3) (:c_n_eq f1)) (:effects (:e_b_neg f3) (:e_n_bot f1)))
(:rule (:conditions (:c_b_pos f3) (:c_n_gt f1)) (:effects (:e_b_bot f3) (:e_n_dec f1)))
(:rule (:conditions (:c_b_pos f3) (:c_n_eq f1)) (:effects (:e_b_bot f3) (:e_n_bot f1)))
(:rule (:conditions (:c_b_pos f3) (:c_n_gt f1)) (:effects (:e_b_neg f3) (:e_n_bot f1)))
(:rule (:conditions (:c_b_pos f3) (:c_n_gt f1)) (:effects (:e_b_bot f3) (:e_n_bot f1)))
(:rule (:conditions (:c_b_pos f3) (:c_n_eq f1)) (:effects (:e_b_bot f3) (:e_n_inc f1)))
(:rule (:conditions (:c_b_neg f3) (:c_n_eq f1)) (:effects (:e_b_pos f3) (:e_n_bot f1)))
(:rule (:conditions (:c_b_neg f3) (:c_n_eq f1)) (:effects (:e_b_bot f3) (:e_n_inc f1)))
)
Numer of sketch rules: 11
Number of selected features: 2
Maximum complexity of selected feature: 7
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p104.pddl
Sketch cycles
Instance: 6
83
83
Number of unsatisfied D2 facts: 205
Number of D2 facts: 360 of 15376
2024-08-09 00:10:26,745 - Grounding Logic Program...
2024-08-09 00:10:26,972 - ..done
2024-08-09 00:10:26,973 - Solving Logic Program...
2024-08-09 00:10:26,992 - ..done
Clingo statistics:
{'call': 0.0, 'result': 1.0, 'signal': 0.0, 'exhausted': 1.0, 'costs': [13.0], 'lower': [13.0], 'concurrency': 32.0, 'winner': 13.0, 'times': {'total': 0.9961509704589844, 'cpu': 1.068552000000004, 'solve': 0.007126808166503906, 'unsat': 0.0017139911651611328, 'sat': 0.0023000240325927734}, 'models': {'enumerated': 22.0, 'optimal': 1.0}}
Solution cost: [13.0]
Total time: 0.9961509704589844
CPU time: 1.068552000000004
Solve time: 0.007126808166503906
2024-08-09 00:10:27,113 - Learned the following sketch:
(:policy
(:booleans )
(:numericals (f125 "n_count(c_some(r_primitive(at,0,1),c_primitive(at-ferry,0)))") (f95 "n_count(c_and(c_primitive(on,0),c_not(c_some(r_primitive(at_g,0,1),c_primitive(at-ferry,0)))))"))
(:rule (:conditions (:c_n_gt f125) (:c_n_gt f95)) (:effects (:e_n_dec f125) (:e_n_dec f95)))
(:rule (:conditions (:c_n_eq f125) (:c_n_gt f95)) (:effects (:e_n_bot f125) (:e_n_dec f95)))
(:rule (:conditions (:c_n_eq f125) (:c_n_eq f95)) (:effects (:e_n_inc f125) (:e_n_bot f95)))
(:rule (:conditions (:c_n_gt f125) (:c_n_eq f95)) (:effects (:e_n_dec f125) (:e_n_inc f95)))
(:rule (:conditions (:c_n_gt f125) (:c_n_eq f95)) (:effects (:e_n_bot f125) (:e_n_bot f95)))
(:rule (:conditions (:c_n_gt f125) (:c_n_gt f95)) (:effects (:e_n_dec f125) (:e_n_bot f95)))
(:rule (:conditions (:c_n_eq f125) (:c_n_eq f95)) (:effects (:e_n_bot f125) (:e_n_bot f95)))
(:rule (:conditions (:c_n_eq f125) (:c_n_gt f95)) (:effects (:e_n_inc f125) (:e_n_dec f95)))
(:rule (:conditions (:c_n_gt f125) (:c_n_eq f95)) (:effects (:e_n_inc f125) (:e_n_bot f95)))
)
Numer of sketch rules: 9
Number of selected features: 2
Maximum complexity of selected feature: 7
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p104.pddl
Sketch cycles
Instance: 6
83
83
Number of unsatisfied D2 facts: 132
Number of D2 facts: 492 of 15376
2024-08-09 00:10:27,870 - Grounding Logic Program...
2024-08-09 00:10:28,116 - ..done
2024-08-09 00:10:28,117 - Solving Logic Program...
2024-08-09 00:10:28,147 - ..done
Clingo statistics:
{'call': 0.0, 'result': 1.0, 'signal': 0.0, 'exhausted': 1.0, 'costs': [16.0], 'lower': [16.0], 'concurrency': 32.0, 'winner': 25.0, 'times': {'total': 1.0308740139007568, 'cpu': 1.2792680000000018, 'solve': 0.016563892364501953, 'unsat': 0.005697011947631836, 'sat': 0.002986907958984375}, 'models': {'enumerated': 28.0, 'optimal': 1.0}}
Solution cost: [16.0]
Total time: 1.0308740139007568
CPU time: 1.2792680000000018
Solve time: 0.016563892364501953
2024-08-09 00:10:28,266 - Learned the following sketch:
(:policy
(:booleans )
(:numericals (f24 "n_count(c_some(r_primitive(at_g,0,1),c_primitive(at-ferry,0)))") (f39 "n_count(c_not(c_all(r_primitive(at,0,1),c_primitive(at-ferry,0))))") (f31 "n_count(r_and(r_primitive(at,0,1),r_primitive(at_g,0,1)))"))
(:rule (:conditions (:c_n_gt f24) (:c_n_eq f39) (:c_n_gt f31)) (:effects (:e_n_bot f24) (:e_n_inc f39) (:e_n_bot f31)))
(:rule (:conditions (:c_n_eq f24) (:c_n_gt f39) (:c_n_gt f31)) (:effects (:e_n_inc f24) (:e_n_bot f39) (:e_n_bot f31)))
(:rule (:conditions (:c_n_gt f24) (:c_n_gt f39) (:c_n_gt f31)) (:effects (:e_n_bot f24) (:e_n_bot f39) (:e_n_inc f31)))
(:rule (:conditions (:c_n_eq f24) (:c_n_gt f39) (:c_n_gt f31)) (:effects (:e_n_inc f24) (:e_n_dec f39) (:e_n_bot f31)))
(:rule (:conditions (:c_n_eq f24) (:c_n_gt f39) (:c_n_gt f31)) (:effects (:e_n_bot f24) (:e_n_bot f39) (:e_n_bot f31)))
(:rule (:conditions (:c_n_gt f24) (:c_n_gt f39) (:c_n_gt f31)) (:effects (:e_n_dec f24) (:e_n_bot f39) (:e_n_bot f31)))
(:rule (:conditions (:c_n_gt f24) (:c_n_gt f39) (:c_n_gt f31)) (:effects (:e_n_bot f24) (:e_n_dec f39) (:e_n_bot f31)))
(:rule (:conditions (:c_n_gt f24) (:c_n_gt f39) (:c_n_eq f31)) (:effects (:e_n_bot f24) (:e_n_bot f39) (:e_n_inc f31)))
(:rule (:conditions (:c_n_eq f24) (:c_n_eq f39) (:c_n_eq f31)) (:effects (:e_n_inc f24) (:e_n_inc f39) (:e_n_bot f31)))
(:rule (:conditions (:c_n_gt f24) (:c_n_gt f39) (:c_n_eq f31)) (:effects (:e_n_dec f24) (:e_n_dec f39) (:e_n_bot f31)))
(:rule (:conditions (:c_n_eq f24) (:c_n_eq f39) (:c_n_eq f31)) (:effects (:e_n_bot f24) (:e_n_bot f39) (:e_n_bot f31)))
(:rule (:conditions (:c_n_eq f24) (:c_n_gt f39) (:c_n_eq f31)) (:effects (:e_n_bot f24) (:e_n_dec f39) (:e_n_bot f31)))
(:rule (:conditions (:c_n_eq f24) (:c_n_gt f39) (:c_n_eq f31)) (:effects (:e_n_inc f24) (:e_n_bot f39) (:e_n_bot f31)))
(:rule (:conditions (:c_n_eq f24) (:c_n_eq f39) (:c_n_eq f31)) (:effects (:e_n_inc f24) (:e_n_bot f39) (:e_n_bot f31)))
(:rule (:conditions (:c_n_gt f24) (:c_n_eq f39) (:c_n_eq f31)) (:effects (:e_n_bot f24) (:e_n_bot f39) (:e_n_inc f31)))
(:rule (:conditions (:c_n_gt f24) (:c_n_gt f39) (:c_n_eq f31)) (:effects (:e_n_bot f24) (:e_n_bot f39) (:e_n_bot f31)))
(:rule (:conditions (:c_n_gt f24) (:c_n_gt f39) (:c_n_eq f31)) (:effects (:e_n_bot f24) (:e_n_dec f39) (:e_n_bot f31)))
(:rule (:conditions (:c_n_gt f24) (:c_n_eq f39) (:c_n_gt f31)) (:effects (:e_n_bot f24) (:e_n_bot f39) (:e_n_bot f31)))
(:rule (:conditions (:c_n_eq f24) (:c_n_gt f39) (:c_n_eq f31)) (:effects (:e_n_bot f24) (:e_n_bot f39) (:e_n_bot f31)))
(:rule (:conditions (:c_n_gt f24) (:c_n_gt f39) (:c_n_eq f31)) (:effects (:e_n_bot f24) (:e_n_inc f39) (:e_n_bot f31)))
(:rule (:conditions (:c_n_eq f24) (:c_n_gt f39) (:c_n_eq f31)) (:effects (:e_n_inc f24) (:e_n_dec f39) (:e_n_bot f31)))
(:rule (:conditions (:c_n_gt f24) (:c_n_gt f39) (:c_n_eq f31)) (:effects (:e_n_dec f24) (:e_n_bot f39) (:e_n_bot f31)))
)
Numer of sketch rules: 22
Number of selected features: 3
Maximum complexity of selected feature: 5
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p104.pddl
Sketch cycles
Instance: 6
83
83
Number of unsatisfied D2 facts: 107
Number of D2 facts: 599 of 15376
2024-08-09 00:10:29,042 - Grounding Logic Program...
2024-08-09 00:10:29,328 - ..done
2024-08-09 00:10:29,328 - Solving Logic Program...
2024-08-09 00:10:29,364 - ..done
Clingo statistics:
{'call': 0.0, 'result': 1.0, 'signal': 0.0, 'exhausted': 1.0, 'costs': [18.0], 'lower': [18.0], 'concurrency': 32.0, 'winner': 28.0, 'times': {'total': 1.094923973083496, 'cpu': 1.3849099999999979, 'solve': 0.019620895385742188, 'unsat': 0.007128000259399414, 'sat': 0.004269838333129883}, 'models': {'enumerated': 41.0, 'optimal': 1.0}}
Solution cost: [18.0]
Total time: 1.094923973083496
CPU time: 1.3849099999999979
Solve time: 0.019620895385742188
2024-08-09 00:10:29,482 - Learned the following sketch:
(:policy
(:booleans (f3 "b_nullary(empty-ferry)"))
(:numericals (f24 "n_count(c_some(r_primitive(at_g,0,1),c_primitive(at-ferry,0)))") (f19 "n_count(c_and(c_some(r_primitive(at,0,1),c_primitive(at-ferry,0)),c_not(c_equal(r_primitive(at,0,1),r_primitive(at_g,0,1)))))"))
(:rule (:conditions (:c_b_neg f3) (:c_n_gt f24) (:c_n_eq f19)) (:effects (:e_b_bot f3) (:e_n_bot f24) (:e_n_bot f19)))
(:rule (:conditions (:c_b_neg f3) (:c_n_eq f24) (:c_n_eq f19)) (:effects (:e_b_bot f3) (:e_n_inc f24) (:e_n_bot f19)))
(:rule (:conditions (:c_b_neg f3) (:c_n_gt f24) (:c_n_eq f19)) (:effects (:e_b_pos f3) (:e_n_bot f24) (:e_n_bot f19)))
(:rule (:conditions (:c_b_pos f3) (:c_n_eq f24) (:c_n_gt f19)) (:effects (:e_b_neg f3) (:e_n_bot f24) (:e_n_dec f19)))
(:rule (:conditions (:c_b_pos f3) (:c_n_gt f24) (:c_n_eq f19)) (:effects (:e_b_bot f3) (:e_n_dec f24) (:e_n_inc f19)))
(:rule (:conditions (:c_b_pos f3) (:c_n_gt f24) (:c_n_eq f19)) (:effects (:e_b_bot f3) (:e_n_bot f24) (:e_n_bot f19)))
(:rule (:conditions (:c_b_neg f3) (:c_n_eq f24) (:c_n_gt f19)) (:effects (:e_b_bot f3) (:e_n_inc f24) (:e_n_dec f19)))
(:rule (:conditions (:c_b_pos f3) (:c_n_eq f24) (:c_n_eq f19)) (:effects (:e_b_bot f3) (:e_n_bot f24) (:e_n_inc f19)))
(:rule (:conditions (:c_b_pos f3) (:c_n_gt f24) (:c_n_gt f19)) (:effects (:e_b_neg f3) (:e_n_bot f24) (:e_n_dec f19)))
(:rule (:conditions (:c_b_neg f3) (:c_n_gt f24) (:c_n_eq f19)) (:effects (:e_b_bot f3) (:e_n_bot f24) (:e_n_inc f19)))
(:rule (:conditions (:c_b_neg f3) (:c_n_gt f24) (:c_n_gt f19)) (:effects (:e_b_pos f3) (:e_n_bot f24) (:e_n_bot f19)))
(:rule (:conditions (:c_b_pos f3) (:c_n_gt f24) (:c_n_eq f19)) (:effects (:e_b_bot f3) (:e_n_bot f24) (:e_n_inc f19)))
(:rule (:conditions (:c_b_pos f3) (:c_n_gt f24) (:c_n_gt f19)) (:effects (:e_b_bot f3) (:e_n_dec f24) (:e_n_bot f19)))
(:rule (:conditions (:c_b_neg f3) (:c_n_eq f24) (:c_n_eq f19)) (:effects (:e_b_bot f3) (:e_n_inc f24) (:e_n_inc f19)))
(:rule (:conditions (:c_b_pos f3) (:c_n_eq f24) (:c_n_eq f19)) (:effects (:e_b_bot f3) (:e_n_inc f24) (:e_n_inc f19)))
(:rule (:conditions (:c_b_pos f3) (:c_n_eq f24) (:c_n_eq f19)) (:effects (:e_b_bot f3) (:e_n_inc f24) (:e_n_bot f19)))
)
Numer of sketch rules: 16
Number of selected features: 3
Maximum complexity of selected feature: 9
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p104.pddl
Sketch cycles
Instance: 6
83
83
Number of unsatisfied D2 facts: 53
Number of D2 facts: 652 of 15376
2024-08-09 00:10:30,261 - Grounding Logic Program...
2024-08-09 00:10:30,555 - ..done
2024-08-09 00:10:30,556 - Solving Logic Program...
2024-08-09 00:10:30,602 - ..done
Clingo statistics:
{'call': 0.0, 'result': 1.0, 'signal': 0.0, 'exhausted': 1.0, 'costs': [18.0], 'lower': [18.0], 'concurrency': 32.0, 'winner': 25.0, 'times': {'total': 1.1157569885253906, 'cpu': 1.4320830000000058, 'solve': 0.02902078628540039, 'unsat': 0.013870954513549805, 'sat': 0.004101991653442383}, 'models': {'enumerated': 34.0, 'optimal': 1.0}}
Solution cost: [18.0]
Total time: 1.1157569885253906
CPU time: 1.4320830000000058
Solve time: 0.02902078628540039
2024-08-09 00:10:30,717 - Learned the following sketch:
(:policy
(:booleans (f3 "b_nullary(empty-ferry)"))
(:numericals (f31 "n_count(r_and(r_primitive(at,0,1),r_primitive(at_g,0,1)))") (f110 "n_count(c_and(c_all(r_primitive(at,0,1),c_primitive(at-ferry,0)),c_not(c_all(r_primitive(at_g,0,1),c_primitive(at-ferry,0)))))"))
(:rule (:conditions (:c_b_neg f3) (:c_n_gt f31) (:c_n_gt f110)) (:effects (:e_b_bot f3) (:e_n_bot f31) (:e_n_dec f110)))
(:rule (:conditions (:c_b_neg f3) (:c_n_gt f31) (:c_n_eq f110)) (:effects (:e_b_pos f3) (:e_n_inc f31) (:e_n_bot f110)))
(:rule (:conditions (:c_b_pos f3) (:c_n_gt f31) (:c_n_gt f110)) (:effects (:e_b_neg f3) (:e_n_bot f31) (:e_n_bot f110)))
(:rule (:conditions (:c_b_pos f3) (:c_n_gt f31) (:c_n_eq f110)) (:effects (:e_b_bot f3) (:e_n_bot f31) (:e_n_bot f110)))
(:rule (:conditions (:c_b_pos f3) (:c_n_gt f31) (:c_n_eq f110)) (:effects (:e_b_bot f3) (:e_n_bot f31) (:e_n_inc f110)))
(:rule (:conditions (:c_b_neg f3) (:c_n_eq f31) (:c_n_eq f110)) (:effects (:e_b_pos f3) (:e_n_inc f31) (:e_n_bot f110)))
(:rule (:conditions (:c_b_neg f3) (:c_n_eq f31) (:c_n_gt f110)) (:effects (:e_b_bot f3) (:e_n_bot f31) (:e_n_dec f110)))
(:rule (:conditions (:c_b_pos f3) (:c_n_eq f31) (:c_n_gt f110)) (:effects (:e_b_neg f3) (:e_n_bot f31) (:e_n_bot f110)))
(:rule (:conditions (:c_b_pos f3) (:c_n_eq f31) (:c_n_eq f110)) (:effects (:e_b_bot f3) (:e_n_bot f31) (:e_n_inc f110)))
(:rule (:conditions (:c_b_neg f3) (:c_n_eq f31) (:c_n_gt f110)) (:effects (:e_b_bot f3) (:e_n_bot f31) (:e_n_bot f110)))
(:rule (:conditions (:c_b_neg f3) (:c_n_eq f31) (:c_n_gt f110)) (:effects (:e_b_pos f3) (:e_n_inc f31) (:e_n_bot f110)))
)
Numer of sketch rules: 11
Number of selected features: 3
Maximum complexity of selected feature: 9
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p104.pddl
Sketch cycles
Instance: 6
80
82
83
80
Number of unsatisfied D2 facts: 82
Number of D2 facts: 734 of 15376
2024-08-09 00:10:31,535 - Grounding Logic Program...
2024-08-09 00:10:31,872 - ..done
2024-08-09 00:10:31,872 - Solving Logic Program...
2024-08-09 00:10:31,931 - ..done
Clingo statistics:
{'call': 0.0, 'result': 1.0, 'signal': 0.0, 'exhausted': 1.0, 'costs': [20.0], 'lower': [20.0], 'concurrency': 32.0, 'winner': 26.0, 'times': {'total': 1.2096199989318848, 'cpu': 1.558140999999999, 'solve': 0.04092597961425781, 'unsat': 0.025184154510498047, 'sat': 0.006666898727416992}, 'models': {'enumerated': 31.0, 'optimal': 1.0}}
Solution cost: [20.0]
Total time: 1.2096199989318848
CPU time: 1.558140999999999
Solve time: 0.04092597961425781
2024-08-09 00:10:32,051 - Learned the following sketch:
(:policy
(:booleans )
(:numericals (f44 "n_count(c_primitive(on,0))") (f24 "n_count(c_some(r_primitive(at_g,0,1),c_primitive(at-ferry,0)))") (f125 "n_count(c_some(r_primitive(at,0,1),c_primitive(at-ferry,0)))") (f63 "n_count(c_and(c_primitive(on,0),c_some(r_primitive(at_g,0,1),c_primitive(at-ferry,0))))"))
(:rule (:conditions (:c_n_gt f44) (:c_n_gt f24) (:c_n_gt f125) (:c_n_eq f63)) (:effects (:e_n_bot f44) (:e_n_bot f24) (:e_n_dec f125) (:e_n_inc f63)))
(:rule (:conditions (:c_n_gt f44) (:c_n_eq f24) (:c_n_eq f125) (:c_n_eq f63)) (:effects (:e_n_bot f44) (:e_n_bot f125) (:e_n_inc f24) (:e_n_inc f63)))
(:rule (:conditions (:c_n_gt f44) (:c_n_gt f24) (:c_n_eq f125) (:c_n_gt f63)) (:effects (:e_n_dec f44) (:e_n_bot f24) (:e_n_inc f125) (:e_n_dec f63)))
(:rule (:conditions (:c_n_eq f44) (:c_n_eq f24) (:c_n_eq f125) (:c_n_eq f63)) (:effects (:e_n_bot f44) (:e_n_inc f125) (:e_n_inc f24) (:e_n_bot f63)))
(:rule (:conditions (:c_n_eq f44) (:c_n_gt f125) (:c_n_eq f24) (:c_n_eq f63)) (:effects (:e_n_inc f44) (:e_n_bot f24) (:e_n_dec f125) (:e_n_bot f63)))
(:rule (:conditions (:c_n_eq f44) (:c_n_gt f24) (:c_n_gt f125) (:c_n_eq f63)) (:effects (:e_n_bot f44) (:e_n_bot f125) (:e_n_dec f24) (:e_n_bot f63)))
(:rule (:conditions (:c_n_eq f44) (:c_n_gt f24) (:c_n_eq f125) (:c_n_eq f63)) (:effects (:e_n_bot f44) (:e_n_inc f125) (:e_n_dec f24) (:e_n_bot f63)))
(:rule (:conditions (:c_n_eq f44) (:c_n_gt f24) (:c_n_eq f125) (:c_n_eq f63)) (:effects (:e_n_bot f44) (:e_n_bot f24) (:e_n_inc f125) (:e_n_bot f63)))
(:rule (:conditions (:c_n_gt f44) (:c_n_gt f125) (:c_n_eq f24) (:c_n_eq f63)) (:effects (:e_n_bot f44) (:e_n_dec f125) (:e_n_inc f24) (:e_n_bot f63)))
(:rule (:conditions (:c_n_gt f44) (:c_n_gt f24) (:c_n_eq f125) (:c_n_eq f63)) (:effects (:e_n_bot f44) (:e_n_bot f24) (:e_n_bot f125) (:e_n_inc f63)))
(:rule (:conditions (:c_n_eq f44) (:c_n_eq f24) (:c_n_eq f125) (:c_n_eq f63)) (:effects (:e_n_bot f44) (:e_n_bot f24) (:e_n_inc f125) (:e_n_bot f63)))
(:rule (:conditions (:c_n_eq f44) (:c_n_gt f24) (:c_n_gt f125) (:c_n_eq f63)) (:effects (:e_n_inc f44) (:e_n_bot f24) (:e_n_dec f125) (:e_n_bot f63)))
(:rule (:conditions (:c_n_gt f44) (:c_n_gt f24) (:c_n_eq f125) (:c_n_eq f63)) (:effects (:e_n_bot f44) (:e_n_bot f24) (:e_n_inc f125) (:e_n_inc f63)))
(:rule (:conditions (:c_n_gt f44) (:c_n_gt f24) (:c_n_gt f125) (:c_n_gt f63)) (:effects (:e_n_dec f44) (:e_n_bot f24) (:e_n_inc f125) (:e_n_dec f63)))
(:rule (:conditions (:c_n_gt f44) (:c_n_eq f24) (:c_n_eq f125) (:c_n_eq f63)) (:effects (:e_n_bot f44) (:e_n_inc f125) (:e_n_inc f24) (:e_n_inc f63)))
)
Numer of sketch rules: 15
Number of selected features: 4
Maximum complexity of selected feature: 6
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p104.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p75.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p32.pddl
2024-08-09 00:10:32,055 - Verifying learned sketch...
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p104.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p75.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p32.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p25.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p32.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p75.pddl
Sketch fails to bound width of a state
/proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p76.pddl
Instance: 3
Source_state: 23
Dlplan state: (instance index=3, state index=2, atoms={at(car1,loc1), at-ferry(loc1), on(car2)})
2024-08-09 00:10:32,062 - ..done
Smallest unsolved instance: 3
Selected instances: [6, 2, 1, 3]
2024-08-09 00:10:32,062 - Iteration: 14
     id: 6 problem_filepath: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p104.pddl num_states: 45 num_state_equivalences: 24
     id: 2 problem_filepath: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p75.pddl num_states: 16 num_state_equivalences: 8
     id: 1 problem_filepath: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p32.pddl num_states: 12 num_state_equivalences: 7
     id: 3 problem_filepath: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p76.pddl num_states: 16 num_state_equivalences: 10
2024-08-09 00:10:32,082 - Initialize global faithful abstract states...
2024-08-09 00:10:32,082 - ..done
2024-08-09 00:10:32,082 - Initializing DomainFeatureData...
[t=35.4529s, 2525472 KB] Started generating base features of complexity 1.
[t=35.4531s, 2525472 KB] Complexity 1:
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 0
    c_not: 0
    c_equal: 0
    c_some: 0
    c_all: 0
    r_restrict: 0
    r_and: 0
    r_inverse: 0
    r_transitive_closure: 0
    b_empty: 0
    n_count: 0
    n_concept_distance: 0
[t=35.4535s, 2525472 KB] Finished generating base features.
[t=35.4535s, 2525472 KB] Started generating composite features. 
[t=35.4537s, 2525472 KB] Complexity 2:
Total concept elements: 8
Total role elements: 4
Total numerical elements: 7
Total boolean elements: 4
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 0
    c_not: 2
    c_equal: 0
    c_some: 0
    c_all: 0
    r_restrict: 0
    r_and: 0
    r_inverse: 2
    r_transitive_closure: 0
    b_empty: 2
    n_count: 7
    n_concept_distance: 0
[t=35.4547s, 2525472 KB] Complexity 3:
Total concept elements: 15
Total role elements: 8
Total numerical elements: 9
Total boolean elements: 4
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 0
    c_not: 2
    c_equal: 1
    c_some: 3
    c_all: 3
    r_restrict: 3
    r_and: 1
    r_inverse: 2
    r_transitive_closure: 0
    b_empty: 2
    n_count: 9
    n_concept_distance: 0
[t=35.4558s, 2525472 KB] Complexity 4:
Total concept elements: 27
Total role elements: 11
Total numerical elements: 17
Total boolean elements: 7
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 1
    c_not: 7
    c_equal: 1
    c_some: 6
    c_all: 6
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 5
    n_count: 16
    n_concept_distance: 1
[t=35.4577s, 2525472 KB] Complexity 5:
Total concept elements: 37
Total role elements: 11
Total numerical elements: 28
Total boolean elements: 10
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 5
    c_not: 10
    c_equal: 1
    c_some: 7
    c_all: 8
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 8
    n_count: 27
    n_concept_distance: 1
[t=35.4606s, 2525472 KB] Complexity 6:
Total concept elements: 91
Total role elements: 11
Total numerical elements: 36
Total boolean elements: 13
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 23
    c_not: 15
    c_equal: 1
    c_some: 19
    c_all: 27
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 11
    n_count: 35
    n_concept_distance: 1
[t=35.4645s, 2525472 KB] Complexity 7:
Total concept elements: 143
Total role elements: 11
Total numerical elements: 95
Total boolean elements: 29
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 45
    c_not: 45
    c_equal: 1
    c_some: 19
    c_all: 27
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 27
    n_count: 88
    n_concept_distance: 7
[t=35.4744s, 2525472 KB] Complexity 8:
Total concept elements: 295
Total role elements: 11
Total numerical elements: 147
Total boolean elements: 38
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 98
    c_not: 61
    c_equal: 1
    c_some: 56
    c_all: 73
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 36
    n_count: 138
    n_concept_distance: 9
[t=35.4892s, 2525472 KB] Complexity 9:
Total concept elements: 536
Total role elements: 11
Total numerical elements: 303
Total boolean elements: 88
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 190
    c_not: 166
    c_equal: 1
    c_some: 73
    c_all: 100
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 86
    n_count: 288
    n_concept_distance: 15
[t=35.4895s, 2525472 KB] Finished generating composite features.
Features generated: 391
Features after 0/1 pruning (incomplete): 230
Features after soft changes pruning (incomplete): 223
Features after relevant changes pruning (complete): 165
2024-08-09 00:10:33,263 - ..done
2024-08-09 00:10:33,263 - Constructing PerStateFeatureValuations...
2024-08-09 00:10:33,269 - ..done
2024-08-09 00:10:33,269 - Constructing StatePairEquivalenceDatas...
2024-08-09 00:10:33,452 - ..done
2024-08-09 00:10:33,454 - Constructing TupleGraphEquivalences...
Tuple graph equivalence construction statistics:
Num nodes: 170
2024-08-09 00:10:33,459 - ..done
2024-08-09 00:10:33,459 - Minimizing TupleGraphEquivalences...
Tuple graph equivalence minimization statistics:
Num orig nodes: 170
Num kept nodes: 155
2024-08-09 00:10:33,461 - ..done
Number of initial D2 facts: 177
Number of D2 facts: 177 of 20736
2024-08-09 00:10:33,864 - Grounding Logic Program...
2024-08-09 00:10:34,166 - ..done
2024-08-09 00:10:34,167 - Solving Logic Program...
2024-08-09 00:10:34,187 - ..done
Clingo statistics:
{'call': 0.0, 'result': 1.0, 'signal': 0.0, 'exhausted': 1.0, 'costs': [11.0], 'lower': [11.0], 'concurrency': 32.0, 'winner': 6.0, 'times': {'total': 0.7240679264068604, 'cpu': 0.7620909999999981, 'solve': 0.005290031433105469, 'unsat': 0.0017359256744384766, 'sat': 0.0017850399017333984}, 'models': {'enumerated': 27.0, 'optimal': 1.0}}
Solution cost: [11.0]
Total time: 0.7240679264068604
CPU time: 0.7620909999999981
Solve time: 0.005290031433105469
2024-08-09 00:10:34,349 - Learned the following sketch:
(:policy
(:booleans )
(:numericals (f51 "n_count(c_primitive(on,0))") (f1 "n_count(c_and(c_not(c_primitive(on,0)),c_some(r_primitive(at_g,0,1),c_primitive(at-ferry,0))))"))
(:rule (:conditions (:c_n_gt f51) (:c_n_gt f1)) (:effects (:e_n_bot f51) (:e_n_dec f1)))
(:rule (:conditions (:c_n_gt f51) (:c_n_eq f1)) (:effects (:e_n_bot f51) (:e_n_bot f1)))
(:rule (:conditions (:c_n_gt f51) (:c_n_eq f1)) (:effects (:e_n_dec f51) (:e_n_inc f1)))
(:rule (:conditions (:c_n_eq f51) (:c_n_eq f1)) (:effects (:e_n_inc f51) (:e_n_bot f1)))
(:rule (:conditions (:c_n_eq f51) (:c_n_gt f1)) (:effects (:e_n_bot f51) (:e_n_dec f1)))
(:rule (:conditions (:c_n_gt f51) (:c_n_gt f1)) (:effects (:e_n_dec f51) (:e_n_bot f1)))
(:rule (:conditions (:c_n_eq f51) (:c_n_eq f1)) (:effects (:e_n_bot f51) (:e_n_bot f1)))
(:rule (:conditions (:c_n_eq f51) (:c_n_gt f1)) (:effects (:e_n_inc f51) (:e_n_bot f1)))
(:rule (:conditions (:c_n_eq f51) (:c_n_gt f1)) (:effects (:e_n_bot f51) (:e_n_bot f1)))
(:rule (:conditions (:c_n_gt f51) (:c_n_eq f1)) (:effects (:e_n_bot f51) (:e_n_inc f1)))
(:rule (:conditions (:c_n_gt f51) (:c_n_gt f1)) (:effects (:e_n_dec f51) (:e_n_inc f1)))
(:rule (:conditions (:c_n_eq f51) (:c_n_eq f1)) (:effects (:e_n_bot f51) (:e_n_inc f1)))
)
Numer of sketch rules: 12
Number of selected features: 2
Maximum complexity of selected feature: 7
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p104.pddl
Sketch cycles
Instance: 6
83
83
Number of unsatisfied D2 facts: 240
Number of D2 facts: 417 of 20736
2024-08-09 00:10:35,411 - Grounding Logic Program...
2024-08-09 00:10:35,739 - ..done
2024-08-09 00:10:35,740 - Solving Logic Program...
2024-08-09 00:10:35,766 - ..done
Clingo statistics:
{'call': 0.0, 'result': 1.0, 'signal': 0.0, 'exhausted': 1.0, 'costs': [13.0], 'lower': [13.0], 'concurrency': 32.0, 'winner': 9.0, 'times': {'total': 1.4142110347747803, 'cpu': 1.498695000000005, 'solve': 0.008352041244506836, 'unsat': 0.0022001266479492188, 'sat': 0.0027189254760742188}, 'models': {'enumerated': 28.0, 'optimal': 1.0}}
Solution cost: [13.0]
Total time: 1.4142110347747803
CPU time: 1.498695000000005
Solve time: 0.008352041244506836
2024-08-09 00:10:35,930 - Learned the following sketch:
(:policy
(:booleans )
(:numericals (f154 "n_count(c_some(r_primitive(at,0,1),c_primitive(at-ferry,0)))") (f120 "n_count(c_and(c_primitive(on,0),c_not(c_some(r_primitive(at_g,0,1),c_primitive(at-ferry,0)))))"))
(:rule (:conditions (:c_n_gt f154) (:c_n_gt f120)) (:effects (:e_n_dec f154) (:e_n_dec f120)))
(:rule (:conditions (:c_n_eq f154) (:c_n_gt f120)) (:effects (:e_n_bot f154) (:e_n_dec f120)))
(:rule (:conditions (:c_n_eq f154) (:c_n_eq f120)) (:effects (:e_n_inc f154) (:e_n_bot f120)))
(:rule (:conditions (:c_n_gt f154) (:c_n_eq f120)) (:effects (:e_n_dec f154) (:e_n_inc f120)))
(:rule (:conditions (:c_n_gt f154) (:c_n_eq f120)) (:effects (:e_n_bot f154) (:e_n_bot f120)))
(:rule (:conditions (:c_n_gt f154) (:c_n_gt f120)) (:effects (:e_n_dec f154) (:e_n_bot f120)))
(:rule (:conditions (:c_n_eq f154) (:c_n_eq f120)) (:effects (:e_n_bot f154) (:e_n_bot f120)))
(:rule (:conditions (:c_n_eq f154) (:c_n_gt f120)) (:effects (:e_n_inc f154) (:e_n_dec f120)))
(:rule (:conditions (:c_n_gt f154) (:c_n_eq f120)) (:effects (:e_n_inc f154) (:e_n_bot f120)))
)
Numer of sketch rules: 9
Number of selected features: 2
Maximum complexity of selected feature: 7
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p104.pddl
Sketch cycles
Instance: 6
83
83
Number of unsatisfied D2 facts: 199
Number of D2 facts: 616 of 20736
2024-08-09 00:10:37,040 - Grounding Logic Program...
2024-08-09 00:10:37,406 - ..done
2024-08-09 00:10:37,406 - Solving Logic Program...
2024-08-09 00:10:37,456 - ..done
Clingo statistics:
{'call': 0.0, 'result': 1.0, 'signal': 0.0, 'exhausted': 1.0, 'costs': [18.0], 'lower': [18.0], 'concurrency': 32.0, 'winner': 1.0, 'times': {'total': 1.5215470790863037, 'cpu': 1.8070809999999966, 'solve': 0.02797102928161621, 'unsat': 0.017578125, 'sat': 0.003448963165283203}, 'models': {'enumerated': 34.0, 'optimal': 1.0}}
Solution cost: [18.0]
Total time: 1.5215470790863037
CPU time: 1.8070809999999966
Solve time: 0.02797102928161621
2024-08-09 00:10:37,619 - Learned the following sketch:
(:policy
(:booleans (f4 "b_nullary(empty-ferry)"))
(:numericals (f86 "n_count(r_and(r_primitive(at,0,1),r_primitive(at_g,0,1)))") (f136 "n_count(c_and(c_all(r_primitive(at,0,1),c_primitive(at-ferry,0)),c_not(c_all(r_primitive(at_g,0,1),c_primitive(at-ferry,0)))))"))
(:rule (:conditions (:c_b_neg f4) (:c_n_gt f86) (:c_n_gt f136)) (:effects (:e_b_bot f4) (:e_n_bot f86) (:e_n_dec f136)))
(:rule (:conditions (:c_b_neg f4) (:c_n_gt f86) (:c_n_gt f136)) (:effects (:e_b_bot f4) (:e_n_bot f86) (:e_n_bot f136)))
(:rule (:conditions (:c_b_neg f4) (:c_n_gt f86) (:c_n_eq f136)) (:effects (:e_b_pos f4) (:e_n_inc f86) (:e_n_bot f136)))
(:rule (:conditions (:c_b_pos f4) (:c_n_gt f86) (:c_n_gt f136)) (:effects (:e_b_neg f4) (:e_n_bot f86) (:e_n_bot f136)))
(:rule (:conditions (:c_b_pos f4) (:c_n_gt f86) (:c_n_eq f136)) (:effects (:e_b_bot f4) (:e_n_bot f86) (:e_n_bot f136)))
(:rule (:conditions (:c_b_pos f4) (:c_n_gt f86) (:c_n_eq f136)) (:effects (:e_b_bot f4) (:e_n_bot f86) (:e_n_inc f136)))
(:rule (:conditions (:c_b_neg f4) (:c_n_eq f86) (:c_n_eq f136)) (:effects (:e_b_pos f4) (:e_n_inc f86) (:e_n_bot f136)))
(:rule (:conditions (:c_b_neg f4) (:c_n_eq f86) (:c_n_gt f136)) (:effects (:e_b_bot f4) (:e_n_bot f86) (:e_n_dec f136)))
(:rule (:conditions (:c_b_pos f4) (:c_n_eq f86) (:c_n_gt f136)) (:effects (:e_b_neg f4) (:e_n_bot f86) (:e_n_bot f136)))
(:rule (:conditions (:c_b_pos f4) (:c_n_eq f86) (:c_n_eq f136)) (:effects (:e_b_bot f4) (:e_n_bot f86) (:e_n_inc f136)))
(:rule (:conditions (:c_b_neg f4) (:c_n_eq f86) (:c_n_gt f136)) (:effects (:e_b_bot f4) (:e_n_bot f86) (:e_n_bot f136)))
(:rule (:conditions (:c_b_neg f4) (:c_n_eq f86) (:c_n_gt f136)) (:effects (:e_b_pos f4) (:e_n_inc f86) (:e_n_bot f136)))
(:rule (:conditions (:c_b_pos f4) (:c_n_eq f86) (:c_n_gt f136)) (:effects (:e_b_bot f4) (:e_n_bot f86) (:e_n_bot f136)))
(:rule (:conditions (:c_b_neg f4) (:c_n_eq f86) (:c_n_gt f136)) (:effects (:e_b_pos f4) (:e_n_bot f86) (:e_n_bot f136)))
)
Numer of sketch rules: 14
Number of selected features: 3
Maximum complexity of selected feature: 9
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p104.pddl
Sketch cycles
Instance: 6
82
83
82
Number of unsatisfied D2 facts: 107
Number of D2 facts: 723 of 20736
2024-08-09 00:10:38,689 - Grounding Logic Program...
2024-08-09 00:10:39,075 - ..done
2024-08-09 00:10:39,075 - Solving Logic Program...
2024-08-09 00:10:39,129 - ..done
Clingo statistics:
{'call': 0.0, 'result': 1.0, 'signal': 0.0, 'exhausted': 1.0, 'costs': [18.0], 'lower': [18.0], 'concurrency': 32.0, 'winner': 5.0, 'times': {'total': 1.5057568550109863, 'cpu': 1.8937869999999961, 'solve': 0.031352996826171875, 'unsat': 0.017148971557617188, 'sat': 0.004153013229370117}, 'models': {'enumerated': 31.0, 'optimal': 1.0}}
Solution cost: [18.0]
Total time: 1.5057568550109863
CPU time: 1.8937869999999961
Solve time: 0.031352996826171875
2024-08-09 00:10:39,293 - Learned the following sketch:
(:policy
(:booleans (f4 "b_nullary(empty-ferry)"))
(:numericals (f29 "n_count(c_some(r_primitive(at_g,0,1),c_primitive(at-ferry,0)))") (f154 "n_count(c_some(r_primitive(at,0,1),c_primitive(at-ferry,0)))") (f86 "n_count(r_and(r_primitive(at,0,1),r_primitive(at_g,0,1)))"))
(:rule (:conditions (:c_b_neg f4) (:c_n_gt f29) (:c_n_gt f154) (:c_n_gt f86)) (:effects (:e_b_bot f4) (:e_n_bot f29) (:e_n_dec f154) (:e_n_bot f86)))
(:rule (:conditions (:c_b_neg f4) (:c_n_eq f29) (:c_n_eq f154) (:c_n_gt f86)) (:effects (:e_b_bot f4) (:e_n_bot f154) (:e_n_inc f29) (:e_n_bot f86)))
(:rule (:conditions (:c_b_neg f4) (:c_n_eq f29) (:c_n_eq f154) (:c_n_gt f86)) (:effects (:e_b_bot f4) (:e_n_inc f154) (:e_n_inc f29) (:e_n_bot f86)))
(:rule (:conditions (:c_b_neg f4) (:c_n_gt f29) (:c_n_eq f154) (:c_n_gt f86)) (:effects (:e_b_pos f4) (:e_n_bot f29) (:e_n_inc f154) (:e_n_inc f86)))
(:rule (:conditions (:c_b_pos f4) (:c_n_gt f154) (:c_n_eq f29) (:c_n_gt f86)) (:effects (:e_b_neg f4) (:e_n_bot f29) (:e_n_dec f154) (:e_n_bot f86)))
(:rule (:conditions (:c_b_pos f4) (:c_n_gt f29) (:c_n_gt f154) (:c_n_gt f86)) (:effects (:e_b_bot f4) (:e_n_bot f154) (:e_n_dec f29) (:e_n_bot f86)))
(:rule (:conditions (:c_b_pos f4) (:c_n_gt f29) (:c_n_eq f154) (:c_n_gt f86)) (:effects (:e_b_bot f4) (:e_n_bot f29) (:e_n_inc f154) (:e_n_bot f86)))
(:rule (:conditions (:c_b_neg f4) (:c_n_gt f29) (:c_n_eq f154) (:c_n_eq f86)) (:effects (:e_b_pos f4) (:e_n_bot f29) (:e_n_inc f154) (:e_n_inc f86)))
(:rule (:conditions (:c_b_neg f4) (:c_n_gt f154) (:c_n_eq f29) (:c_n_eq f86)) (:effects (:e_b_bot f4) (:e_n_dec f154) (:e_n_inc f29) (:e_n_bot f86)))
(:rule (:conditions (:c_b_neg f4) (:c_n_gt f29) (:c_n_eq f154) (:c_n_eq f86)) (:effects (:e_b_bot f4) (:e_n_bot f29) (:e_n_bot f154) (:e_n_bot f86)))
(:rule (:conditions (:c_b_pos f4) (:c_n_gt f154) (:c_n_eq f29) (:c_n_eq f86)) (:effects (:e_b_neg f4) (:e_n_bot f29) (:e_n_dec f154) (:e_n_bot f86)))
(:rule (:conditions (:c_b_pos f4) (:c_n_gt f29) (:c_n_eq f154) (:c_n_eq f86)) (:effects (:e_b_bot f4) (:e_n_inc f154) (:e_n_dec f29) (:e_n_bot f86)))
(:rule (:conditions (:c_b_pos f4) (:c_n_eq f29) (:c_n_eq f154) (:c_n_eq f86)) (:effects (:e_b_bot f4) (:e_n_bot f154) (:e_n_inc f29) (:e_n_bot f86)))
(:rule (:conditions (:c_b_neg f4) (:c_n_eq f29) (:c_n_eq f154) (:c_n_eq f86)) (:effects (:e_b_bot f4) (:e_n_bot f154) (:e_n_inc f29) (:e_n_bot f86)))
(:rule (:conditions (:c_b_pos f4) (:c_n_gt f29) (:c_n_gt f154) (:c_n_eq f86)) (:effects (:e_b_neg f4) (:e_n_bot f29) (:e_n_dec f154) (:e_n_bot f86)))
(:rule (:conditions (:c_b_neg f4) (:c_n_gt f29) (:c_n_eq f154) (:c_n_eq f86)) (:effects (:e_b_bot f4) (:e_n_bot f29) (:e_n_inc f154) (:e_n_bot f86)))
(:rule (:conditions (:c_b_neg f4) (:c_n_gt f29) (:c_n_gt f154) (:c_n_eq f86)) (:effects (:e_b_pos f4) (:e_n_bot f29) (:e_n_inc f154) (:e_n_inc f86)))
(:rule (:conditions (:c_b_pos f4) (:c_n_gt f29) (:c_n_gt f154) (:c_n_gt f86)) (:effects (:e_b_neg f4) (:e_n_bot f29) (:e_n_dec f154) (:e_n_bot f86)))
(:rule (:conditions (:c_b_neg f4) (:c_n_gt f29) (:c_n_gt f154) (:c_n_gt f86)) (:effects (:e_b_pos f4) (:e_n_bot f29) (:e_n_inc f154) (:e_n_inc f86)))
(:rule (:conditions (:c_b_pos f4) (:c_n_gt f154) (:c_n_eq f29) (:c_n_eq f86)) (:effects (:e_b_bot f4) (:e_n_bot f154) (:e_n_inc f29) (:e_n_bot f86)))
(:rule (:conditions (:c_b_pos f4) (:c_n_gt f29) (:c_n_eq f154) (:c_n_eq f86)) (:effects (:e_b_bot f4) (:e_n_bot f29) (:e_n_inc f154) (:e_n_bot f86)))
(:rule (:conditions (:c_b_neg f4) (:c_n_eq f29) (:c_n_eq f154) (:c_n_eq f86)) (:effects (:e_b_bot f4) (:e_n_inc f154) (:e_n_inc f29) (:e_n_bot f86)))
(:rule (:conditions (:c_b_neg f4) (:c_n_gt f29) (:c_n_eq f154) (:c_n_eq f86)) (:effects (:e_b_bot f4) (:e_n_bot f154) (:e_n_dec f29) (:e_n_bot f86)))
(:rule (:conditions (:c_b_pos f4) (:c_n_eq f29) (:c_n_eq f154) (:c_n_eq f86)) (:effects (:e_b_bot f4) (:e_n_inc f154) (:e_n_inc f29) (:e_n_bot f86)))
(:rule (:conditions (:c_b_pos f4) (:c_n_eq f29) (:c_n_eq f154) (:c_n_gt f86)) (:effects (:e_b_bot f4) (:e_n_inc f154) (:e_n_inc f29) (:e_n_bot f86)))
)
Numer of sketch rules: 25
Number of selected features: 4
Maximum complexity of selected feature: 4
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p104.pddl
Sketch cycles
Instance: 6
80
81
82
83
81
Number of unsatisfied D2 facts: 12
Number of D2 facts: 735 of 20736
2024-08-09 00:10:40,412 - Grounding Logic Program...
2024-08-09 00:10:40,799 - ..done
2024-08-09 00:10:40,799 - Solving Logic Program...
2024-08-09 00:10:40,860 - ..done
Clingo statistics:
{'call': 0.0, 'result': 1.0, 'signal': 0.0, 'exhausted': 1.0, 'costs': [19.0], 'lower': [19.0], 'concurrency': 32.0, 'winner': 17.0, 'times': {'total': 1.5621850490570068, 'cpu': 1.900734, 'solve': 0.03826618194580078, 'unsat': 0.024120092391967773, 'sat': 0.004085063934326172}, 'models': {'enumerated': 38.0, 'optimal': 1.0}}
Solution cost: [19.0]
Total time: 1.5621850490570068
CPU time: 1.900734
Solve time: 0.03826618194580078
2024-08-09 00:10:41,025 - Learned the following sketch:
(:policy
(:booleans )
(:numericals (f29 "n_count(c_some(r_primitive(at_g,0,1),c_primitive(at-ferry,0)))") (f30 "n_count(c_not(c_all(r_primitive(at,0,1),c_primitive(at-ferry,0))))") (f37 "n_count(c_some(r_primitive(at,0,1),c_all(r_inverse(r_primitive(at_g,0,1)),c_primitive(on,0))))"))
(:rule (:conditions (:c_n_gt f29) (:c_n_eq f30) (:c_n_eq f37)) (:effects (:e_n_bot f29) (:e_n_inc f30) (:e_n_bot f37)))
(:rule (:conditions (:c_n_eq f29) (:c_n_gt f30) (:c_n_eq f37)) (:effects (:e_n_inc f29) (:e_n_bot f30) (:e_n_bot f37)))
(:rule (:conditions (:c_n_eq f29) (:c_n_gt f30) (:c_n_eq f37)) (:effects (:e_n_inc f29) (:e_n_dec f30) (:e_n_bot f37)))
(:rule (:conditions (:c_n_gt f29) (:c_n_gt f30) (:c_n_eq f37)) (:effects (:e_n_bot f29) (:e_n_bot f30) (:e_n_bot f37)))
(:rule (:conditions (:c_n_eq f29) (:c_n_gt f30) (:c_n_gt f37)) (:effects (:e_n_bot f29) (:e_n_bot f30) (:e_n_dec f37)))
(:rule (:conditions (:c_n_gt f29) (:c_n_gt f30) (:c_n_gt f37)) (:effects (:e_n_dec f29) (:e_n_bot f30) (:e_n_bot f37)))
(:rule (:conditions (:c_n_gt f29) (:c_n_gt f30) (:c_n_gt f37)) (:effects (:e_n_dec f29) (:e_n_dec f30) (:e_n_bot f37)))
(:rule (:conditions (:c_n_gt f29) (:c_n_gt f30) (:c_n_gt f37)) (:effects (:e_n_bot f29) (:e_n_dec f30) (:e_n_bot f37)))
(:rule (:conditions (:c_n_gt f29) (:c_n_gt f30) (:c_n_gt f37)) (:effects (:e_n_bot f29) (:e_n_bot f30) (:e_n_bot f37)))
(:rule (:conditions (:c_n_eq f29) (:c_n_eq f30) (:c_n_gt f37)) (:effects (:e_n_inc f29) (:e_n_inc f30) (:e_n_bot f37)))
(:rule (:conditions (:c_n_eq f29) (:c_n_eq f30) (:c_n_gt f37)) (:effects (:e_n_bot f29) (:e_n_bot f30) (:e_n_dec f37)))
(:rule (:conditions (:c_n_eq f29) (:c_n_gt f30) (:c_n_gt f37)) (:effects (:e_n_inc f29) (:e_n_bot f30) (:e_n_bot f37)))
(:rule (:conditions (:c_n_eq f29) (:c_n_eq f30) (:c_n_eq f37)) (:effects (:e_n_inc f29) (:e_n_bot f30) (:e_n_bot f37)))
(:rule (:conditions (:c_n_gt f29) (:c_n_eq f30) (:c_n_eq f37)) (:effects (:e_n_bot f29) (:e_n_bot f30) (:e_n_bot f37)))
(:rule (:conditions (:c_n_gt f29) (:c_n_gt f30) (:c_n_eq f37)) (:effects (:e_n_bot f29) (:e_n_bot f30) (:e_n_inc f37)))
(:rule (:conditions (:c_n_gt f29) (:c_n_eq f30) (:c_n_gt f37)) (:effects (:e_n_bot f29) (:e_n_bot f30) (:e_n_dec f37)))
(:rule (:conditions (:c_n_gt f29) (:c_n_gt f30) (:c_n_eq f37)) (:effects (:e_n_bot f29) (:e_n_dec f30) (:e_n_bot f37)))
(:rule (:conditions (:c_n_eq f29) (:c_n_gt f30) (:c_n_gt f37)) (:effects (:e_n_bot f29) (:e_n_bot f30) (:e_n_bot f37)))
)
Numer of sketch rules: 18
Number of selected features: 3
Maximum complexity of selected feature: 7
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p104.pddl
Sketch cycles
Instance: 6
83
83
Number of unsatisfied D2 facts: 159
Number of D2 facts: 894 of 20736
2024-08-09 00:10:42,099 - Grounding Logic Program...
2024-08-09 00:10:42,512 - ..done
2024-08-09 00:10:42,513 - Solving Logic Program...
2024-08-09 00:10:42,593 - ..done
Clingo statistics:
{'call': 0.0, 'result': 1.0, 'signal': 0.0, 'exhausted': 1.0, 'costs': [20.0], 'lower': [20.0], 'concurrency': 32.0, 'winner': 18.0, 'times': {'total': 1.5645499229431152, 'cpu': 2.087254999999999, 'solve': 0.05587196350097656, 'unsat': 0.041806936264038086, 'sat': 0.004533052444458008}, 'models': {'enumerated': 40.0, 'optimal': 1.0}}
Solution cost: [20.0]
Total time: 1.5645499229431152
CPU time: 2.087254999999999
Solve time: 0.05587196350097656
2024-08-09 00:10:42,758 - Learned the following sketch:
(:policy
(:booleans (f4 "b_nullary(empty-ferry)"))
(:numericals (f29 "n_count(c_some(r_primitive(at_g,0,1),c_primitive(at-ferry,0)))") (f154 "n_count(c_some(r_primitive(at,0,1),c_primitive(at-ferry,0)))") (f78 "n_count(c_and(c_primitive(on,0),c_some(r_primitive(at_g,0,1),c_primitive(at-ferry,0))))"))
(:rule (:conditions (:c_b_neg f4) (:c_n_gt f29) (:c_n_gt f154) (:c_n_eq f78)) (:effects (:e_b_bot f4) (:e_n_bot f29) (:e_n_dec f154) (:e_n_inc f78)))
(:rule (:conditions (:c_b_neg f4) (:c_n_eq f29) (:c_n_eq f154) (:c_n_eq f78)) (:effects (:e_b_bot f4) (:e_n_inc f154) (:e_n_inc f29) (:e_n_bot f78)))
(:rule (:conditions (:c_b_neg f4) (:c_n_gt f29) (:c_n_eq f154) (:c_n_gt f78)) (:effects (:e_b_pos f4) (:e_n_bot f29) (:e_n_inc f154) (:e_n_dec f78)))
(:rule (:conditions (:c_b_pos f4) (:c_n_eq f29) (:c_n_eq f154) (:c_n_eq f78)) (:effects (:e_b_bot f4) (:e_n_inc f154) (:e_n_inc f29) (:e_n_bot f78)))
(:rule (:conditions (:c_b_pos f4) (:c_n_gt f154) (:c_n_eq f29) (:c_n_eq f78)) (:effects (:e_b_neg f4) (:e_n_bot f29) (:e_n_dec f154) (:e_n_bot f78)))
(:rule (:conditions (:c_b_pos f4) (:c_n_gt f29) (:c_n_gt f154) (:c_n_eq f78)) (:effects (:e_b_bot f4) (:e_n_bot f154) (:e_n_dec f29) (:e_n_bot f78)))
(:rule (:conditions (:c_b_pos f4) (:c_n_gt f29) (:c_n_eq f154) (:c_n_eq f78)) (:effects (:e_b_bot f4) (:e_n_inc f154) (:e_n_dec f29) (:e_n_bot f78)))
(:rule (:conditions (:c_b_pos f4) (:c_n_gt f29) (:c_n_eq f154) (:c_n_eq f78)) (:effects (:e_b_bot f4) (:e_n_bot f29) (:e_n_inc f154) (:e_n_bot f78)))
(:rule (:conditions (:c_b_neg f4) (:c_n_gt f154) (:c_n_eq f29) (:c_n_eq f78)) (:effects (:e_b_bot f4) (:e_n_dec f154) (:e_n_inc f29) (:e_n_inc f78)))
(:rule (:conditions (:c_b_neg f4) (:c_n_gt f29) (:c_n_eq f154) (:c_n_eq f78)) (:effects (:e_b_bot f4) (:e_n_bot f29) (:e_n_bot f154) (:e_n_inc f78)))
(:rule (:conditions (:c_b_pos f4) (:c_n_eq f29) (:c_n_eq f154) (:c_n_eq f78)) (:effects (:e_b_bot f4) (:e_n_bot f154) (:e_n_inc f29) (:e_n_bot f78)))
(:rule (:conditions (:c_b_neg f4) (:c_n_eq f29) (:c_n_eq f154) (:c_n_eq f78)) (:effects (:e_b_bot f4) (:e_n_bot f154) (:e_n_inc f29) (:e_n_inc f78)))
(:rule (:conditions (:c_b_pos f4) (:c_n_gt f29) (:c_n_gt f154) (:c_n_eq f78)) (:effects (:e_b_neg f4) (:e_n_bot f29) (:e_n_dec f154) (:e_n_bot f78)))
(:rule (:conditions (:c_b_neg f4) (:c_n_gt f29) (:c_n_eq f154) (:c_n_eq f78)) (:effects (:e_b_bot f4) (:e_n_bot f29) (:e_n_inc f154) (:e_n_inc f78)))
(:rule (:conditions (:c_b_neg f4) (:c_n_gt f29) (:c_n_gt f154) (:c_n_gt f78)) (:effects (:e_b_pos f4) (:e_n_bot f29) (:e_n_inc f154) (:e_n_dec f78)))
(:rule (:conditions (:c_b_neg f4) (:c_n_eq f29) (:c_n_eq f154) (:c_n_eq f78)) (:effects (:e_b_bot f4) (:e_n_inc f154) (:e_n_inc f29) (:e_n_inc f78)))
)
Numer of sketch rules: 16
Number of selected features: 4
Maximum complexity of selected feature: 6
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p104.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p75.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p32.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p76.pddl
2024-08-09 00:10:42,763 - Verifying learned sketch...
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p104.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p75.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p32.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p76.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p25.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p32.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p75.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p76.pddl
Sketch fails to bound width of a state
/proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p147.pddl
Instance: 4
Source_state: 39
Dlplan state: (instance index=4, state index=11, atoms={at(car2,loc2), at(car1,loc2), at(car3,loc1), at-ferry(loc2), empty-ferry()})
2024-08-09 00:10:42,771 - ..done
Smallest unsolved instance: 4
Selected instances: [6, 2, 1, 3, 4]
2024-08-09 00:10:42,771 - Iteration: 15
     id: 6 problem_filepath: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p104.pddl num_states: 45 num_state_equivalences: 24
     id: 2 problem_filepath: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p75.pddl num_states: 16 num_state_equivalences: 8
     id: 1 problem_filepath: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p32.pddl num_states: 12 num_state_equivalences: 7
     id: 3 problem_filepath: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p76.pddl num_states: 16 num_state_equivalences: 10
     id: 4 problem_filepath: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p147.pddl num_states: 40 num_state_equivalences: 14
2024-08-09 00:10:42,797 - Initialize global faithful abstract states...
2024-08-09 00:10:42,797 - ..done
2024-08-09 00:10:42,797 - Initializing DomainFeatureData...
[t=46.1677s, 2559140 KB] Started generating base features of complexity 1.
[t=46.1679s, 2559140 KB] Complexity 1:
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 0
    c_not: 0
    c_equal: 0
    c_some: 0
    c_all: 0
    r_restrict: 0
    r_and: 0
    r_inverse: 0
    r_transitive_closure: 0
    b_empty: 0
    n_count: 0
    n_concept_distance: 0
[t=46.1683s, 2559140 KB] Finished generating base features.
[t=46.1683s, 2559140 KB] Started generating composite features. 
[t=46.1685s, 2559140 KB] Complexity 2:
Total concept elements: 8
Total role elements: 4
Total numerical elements: 7
Total boolean elements: 4
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 0
    c_not: 2
    c_equal: 0
    c_some: 0
    c_all: 0
    r_restrict: 0
    r_and: 0
    r_inverse: 2
    r_transitive_closure: 0
    b_empty: 2
    n_count: 7
    n_concept_distance: 0
[t=46.1698s, 2559140 KB] Complexity 3:
Total concept elements: 15
Total role elements: 8
Total numerical elements: 9
Total boolean elements: 4
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 0
    c_not: 2
    c_equal: 1
    c_some: 3
    c_all: 3
    r_restrict: 3
    r_and: 1
    r_inverse: 2
    r_transitive_closure: 0
    b_empty: 2
    n_count: 9
    n_concept_distance: 0
[t=46.171s, 2559140 KB] Complexity 4:
Total concept elements: 27
Total role elements: 11
Total numerical elements: 17
Total boolean elements: 7
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 1
    c_not: 7
    c_equal: 1
    c_some: 6
    c_all: 6
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 5
    n_count: 16
    n_concept_distance: 1
[t=46.1734s, 2559140 KB] Complexity 5:
Total concept elements: 37
Total role elements: 11
Total numerical elements: 28
Total boolean elements: 10
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 5
    c_not: 10
    c_equal: 1
    c_some: 7
    c_all: 8
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 8
    n_count: 27
    n_concept_distance: 1
[t=46.1769s, 2559140 KB] Complexity 6:
Total concept elements: 91
Total role elements: 11
Total numerical elements: 36
Total boolean elements: 13
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 23
    c_not: 15
    c_equal: 1
    c_some: 19
    c_all: 27
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 11
    n_count: 35
    n_concept_distance: 1
[t=46.1817s, 2559140 KB] Complexity 7:
Total concept elements: 143
Total role elements: 11
Total numerical elements: 95
Total boolean elements: 29
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 45
    c_not: 45
    c_equal: 1
    c_some: 19
    c_all: 27
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 27
    n_count: 88
    n_concept_distance: 7
[t=46.1946s, 2559140 KB] Complexity 8:
Total concept elements: 295
Total role elements: 11
Total numerical elements: 147
Total boolean elements: 38
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 98
    c_not: 61
    c_equal: 1
    c_some: 56
    c_all: 73
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 36
    n_count: 138
    n_concept_distance: 9
[t=46.2131s, 2559140 KB] Complexity 9:
Total concept elements: 536
Total role elements: 11
Total numerical elements: 304
Total boolean elements: 89
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 190
    c_not: 166
    c_equal: 1
    c_some: 73
    c_all: 100
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 87
    n_count: 289
    n_concept_distance: 15
[t=46.2134s, 2559140 KB] Finished generating composite features.
Features generated: 393
Features after 0/1 pruning (incomplete): 232
Features after soft changes pruning (incomplete): 213
Features after relevant changes pruning (complete): 158
2024-08-09 00:10:44,241 - ..done
2024-08-09 00:10:44,241 - Constructing PerStateFeatureValuations...
2024-08-09 00:10:44,249 - ..done
2024-08-09 00:10:44,249 - Constructing StatePairEquivalenceDatas...
2024-08-09 00:10:44,478 - ..done
2024-08-09 00:10:44,482 - Constructing TupleGraphEquivalences...
Tuple graph equivalence construction statistics:
Num nodes: 216
2024-08-09 00:10:44,488 - ..done
2024-08-09 00:10:44,488 - Minimizing TupleGraphEquivalences...
Tuple graph equivalence minimization statistics:
Num orig nodes: 216
Num kept nodes: 195
2024-08-09 00:10:44,490 - ..done
Number of initial D2 facts: 194
Number of D2 facts: 194 of 24336
2024-08-09 00:10:44,921 - Grounding Logic Program...
2024-08-09 00:10:45,237 - ..done
2024-08-09 00:10:45,237 - Solving Logic Program...
2024-08-09 00:10:45,260 - ..done
Clingo statistics:
{'call': 0.0, 'result': 1.0, 'signal': 0.0, 'exhausted': 1.0, 'costs': [11.0], 'lower': [11.0], 'concurrency': 32.0, 'winner': 11.0, 'times': {'total': 0.7681260108947754, 'cpu': 0.8238149999999962, 'solve': 0.0065729618072509766, 'unsat': 0.0015969276428222656, 'sat': 0.0019540786743164062}, 'models': {'enumerated': 30.0, 'optimal': 1.0}}
Solution cost: [11.0]
Total time: 0.7681260108947754
CPU time: 0.8238149999999962
Solve time: 0.0065729618072509766
2024-08-09 00:10:45,432 - Learned the following sketch:
(:policy
(:booleans )
(:numericals (f48 "n_count(c_primitive(on,0))") (f1 "n_count(c_and(c_not(c_primitive(on,0)),c_some(r_primitive(at_g,0,1),c_primitive(at-ferry,0))))"))
(:rule (:conditions (:c_n_gt f48) (:c_n_gt f1)) (:effects (:e_n_bot f48) (:e_n_dec f1)))
(:rule (:conditions (:c_n_gt f48) (:c_n_eq f1)) (:effects (:e_n_bot f48) (:e_n_bot f1)))
(:rule (:conditions (:c_n_gt f48) (:c_n_eq f1)) (:effects (:e_n_dec f48) (:e_n_inc f1)))
(:rule (:conditions (:c_n_eq f48) (:c_n_eq f1)) (:effects (:e_n_inc f48) (:e_n_bot f1)))
(:rule (:conditions (:c_n_eq f48) (:c_n_gt f1)) (:effects (:e_n_bot f48) (:e_n_dec f1)))
(:rule (:conditions (:c_n_eq f48) (:c_n_eq f1)) (:effects (:e_n_bot f48) (:e_n_bot f1)))
(:rule (:conditions (:c_n_eq f48) (:c_n_gt f1)) (:effects (:e_n_inc f48) (:e_n_bot f1)))
(:rule (:conditions (:c_n_eq f48) (:c_n_gt f1)) (:effects (:e_n_bot f48) (:e_n_bot f1)))
(:rule (:conditions (:c_n_gt f48) (:c_n_eq f1)) (:effects (:e_n_bot f48) (:e_n_inc f1)))
(:rule (:conditions (:c_n_gt f48) (:c_n_gt f1)) (:effects (:e_n_dec f48) (:e_n_inc f1)))
(:rule (:conditions (:c_n_eq f48) (:c_n_eq f1)) (:effects (:e_n_bot f48) (:e_n_inc f1)))
(:rule (:conditions (:c_n_gt f48) (:c_n_eq f1)) (:effects (:e_n_dec f48) (:e_n_bot f1)))
)
Numer of sketch rules: 12
Number of selected features: 2
Maximum complexity of selected feature: 7
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p104.pddl
Sketch cycles
Instance: 6
83
83
Number of unsatisfied D2 facts: 271
Number of D2 facts: 465 of 24336
2024-08-09 00:10:46,598 - Grounding Logic Program...
2024-08-09 00:10:46,955 - ..done
2024-08-09 00:10:46,955 - Solving Logic Program...
2024-08-09 00:10:46,995 - ..done
Clingo statistics:
{'call': 0.0, 'result': 1.0, 'signal': 0.0, 'exhausted': 1.0, 'costs': [18.0], 'lower': [18.0], 'concurrency': 32.0, 'winner': 20.0, 'times': {'total': 1.5592010021209717, 'cpu': 1.7307770000000033, 'solve': 0.01941394805908203, 'unsat': 0.010963916778564453, 'sat': 0.0031418800354003906}, 'models': {'enumerated': 32.0, 'optimal': 1.0}}
Solution cost: [18.0]
Total time: 1.5592010021209717
CPU time: 1.7307770000000033
Solve time: 0.01941394805908203
2024-08-09 00:10:47,170 - Learned the following sketch:
(:policy
(:booleans )
(:numericals (f48 "n_count(c_primitive(on,0))") (f82 "n_count(r_and(r_primitive(at,0,1),r_primitive(at_g,0,1)))") (f131 "n_count(c_and(c_all(r_primitive(at,0,1),c_primitive(at-ferry,0)),c_not(c_all(r_primitive(at_g,0,1),c_primitive(at-ferry,0)))))"))
(:rule (:conditions (:c_n_gt f48) (:c_n_gt f82) (:c_n_gt f131)) (:effects (:e_n_bot f48) (:e_n_bot f82) (:e_n_dec f131)))
(:rule (:conditions (:c_n_gt f48) (:c_n_gt f82) (:c_n_gt f131)) (:effects (:e_n_bot f48) (:e_n_bot f82) (:e_n_bot f131)))
(:rule (:conditions (:c_n_gt f48) (:c_n_gt f82) (:c_n_eq f131)) (:effects (:e_n_dec f48) (:e_n_inc f82) (:e_n_bot f131)))
(:rule (:conditions (:c_n_eq f48) (:c_n_gt f82) (:c_n_gt f131)) (:effects (:e_n_inc f48) (:e_n_bot f82) (:e_n_bot f131)))
(:rule (:conditions (:c_n_eq f48) (:c_n_gt f82) (:c_n_eq f131)) (:effects (:e_n_bot f48) (:e_n_bot f82) (:e_n_bot f131)))
(:rule (:conditions (:c_n_eq f48) (:c_n_gt f82) (:c_n_eq f131)) (:effects (:e_n_bot f48) (:e_n_bot f82) (:e_n_inc f131)))
(:rule (:conditions (:c_n_gt f48) (:c_n_eq f82) (:c_n_eq f131)) (:effects (:e_n_dec f48) (:e_n_inc f82) (:e_n_bot f131)))
(:rule (:conditions (:c_n_gt f48) (:c_n_eq f82) (:c_n_gt f131)) (:effects (:e_n_bot f48) (:e_n_bot f82) (:e_n_dec f131)))
(:rule (:conditions (:c_n_eq f48) (:c_n_eq f82) (:c_n_gt f131)) (:effects (:e_n_inc f48) (:e_n_bot f82) (:e_n_bot f131)))
(:rule (:conditions (:c_n_eq f48) (:c_n_eq f82) (:c_n_eq f131)) (:effects (:e_n_bot f48) (:e_n_bot f82) (:e_n_inc f131)))
(:rule (:conditions (:c_n_gt f48) (:c_n_eq f82) (:c_n_gt f131)) (:effects (:e_n_bot f48) (:e_n_bot f82) (:e_n_bot f131)))
(:rule (:conditions (:c_n_gt f48) (:c_n_eq f82) (:c_n_gt f131)) (:effects (:e_n_dec f48) (:e_n_inc f82) (:e_n_bot f131)))
)
Numer of sketch rules: 12
Number of selected features: 3
Maximum complexity of selected feature: 9
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p104.pddl
Sketch cycles
Instance: 6
80
82
83
80
Number of unsatisfied D2 facts: 81
Number of D2 facts: 546 of 24336
2024-08-09 00:10:48,306 - Grounding Logic Program...
2024-08-09 00:10:48,674 - ..done
2024-08-09 00:10:48,674 - Solving Logic Program...
2024-08-09 00:10:48,718 - ..done
Clingo statistics:
{'call': 0.0, 'result': 1.0, 'signal': 0.0, 'exhausted': 1.0, 'costs': [18.0], 'lower': [18.0], 'concurrency': 32.0, 'winner': 27.0, 'times': {'total': 1.5439229011535645, 'cpu': 1.7911110000000008, 'solve': 0.02321791648864746, 'unsat': 0.011020898818969727, 'sat': 0.003710031509399414}, 'models': {'enumerated': 39.0, 'optimal': 1.0}}
Solution cost: [18.0]
Total time: 1.5439229011535645
CPU time: 1.7911110000000008
Solve time: 0.02321791648864746
2024-08-09 00:10:48,893 - Learned the following sketch:
(:policy
(:booleans )
(:numericals (f48 "n_count(c_primitive(on,0))") (f29 "n_count(c_some(r_primitive(at_g,0,1),c_primitive(at-ferry,0)))") (f22 "n_count(c_and(c_some(r_primitive(at,0,1),c_primitive(at-ferry,0)),c_not(c_equal(r_primitive(at,0,1),r_primitive(at_g,0,1)))))"))
(:rule (:conditions (:c_n_gt f48) (:c_n_gt f29) (:c_n_eq f22)) (:effects (:e_n_bot f48) (:e_n_bot f29) (:e_n_bot f22)))
(:rule (:conditions (:c_n_gt f48) (:c_n_eq f29) (:c_n_eq f22)) (:effects (:e_n_bot f48) (:e_n_inc f29) (:e_n_bot f22)))
(:rule (:conditions (:c_n_gt f48) (:c_n_gt f29) (:c_n_eq f22)) (:effects (:e_n_dec f48) (:e_n_bot f29) (:e_n_bot f22)))
(:rule (:conditions (:c_n_eq f48) (:c_n_eq f29) (:c_n_gt f22)) (:effects (:e_n_inc f48) (:e_n_bot f29) (:e_n_dec f22)))
(:rule (:conditions (:c_n_eq f48) (:c_n_gt f29) (:c_n_eq f22)) (:effects (:e_n_bot f48) (:e_n_dec f29) (:e_n_inc f22)))
(:rule (:conditions (:c_n_eq f48) (:c_n_gt f29) (:c_n_eq f22)) (:effects (:e_n_bot f48) (:e_n_bot f29) (:e_n_bot f22)))
(:rule (:conditions (:c_n_gt f48) (:c_n_eq f29) (:c_n_gt f22)) (:effects (:e_n_bot f48) (:e_n_inc f29) (:e_n_dec f22)))
(:rule (:conditions (:c_n_eq f48) (:c_n_eq f29) (:c_n_eq f22)) (:effects (:e_n_bot f48) (:e_n_inc f29) (:e_n_bot f22)))
(:rule (:conditions (:c_n_eq f48) (:c_n_gt f29) (:c_n_gt f22)) (:effects (:e_n_inc f48) (:e_n_bot f29) (:e_n_dec f22)))
(:rule (:conditions (:c_n_gt f48) (:c_n_gt f29) (:c_n_eq f22)) (:effects (:e_n_bot f48) (:e_n_bot f29) (:e_n_inc f22)))
(:rule (:conditions (:c_n_gt f48) (:c_n_gt f29) (:c_n_gt f22)) (:effects (:e_n_dec f48) (:e_n_bot f29) (:e_n_bot f22)))
(:rule (:conditions (:c_n_eq f48) (:c_n_gt f29) (:c_n_eq f22)) (:effects (:e_n_bot f48) (:e_n_bot f29) (:e_n_inc f22)))
(:rule (:conditions (:c_n_eq f48) (:c_n_gt f29) (:c_n_gt f22)) (:effects (:e_n_bot f48) (:e_n_dec f29) (:e_n_bot f22)))
(:rule (:conditions (:c_n_eq f48) (:c_n_eq f29) (:c_n_eq f22)) (:effects (:e_n_bot f48) (:e_n_inc f29) (:e_n_inc f22)))
)
Numer of sketch rules: 14
Number of selected features: 3
Maximum complexity of selected feature: 9
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p104.pddl
Sketch cycles
Instance: 6
83
83
Number of unsatisfied D2 facts: 72
Number of D2 facts: 618 of 24336
2024-08-09 00:10:50,039 - Grounding Logic Program...
2024-08-09 00:10:50,421 - ..done
2024-08-09 00:10:50,421 - Solving Logic Program...
2024-08-09 00:10:50,461 - ..done
Clingo statistics:
{'call': 0.0, 'result': 1.0, 'signal': 0.0, 'exhausted': 1.0, 'costs': [19.0], 'lower': [19.0], 'concurrency': 32.0, 'winner': 30.0, 'times': {'total': 1.5638079643249512, 'cpu': 1.768585999999999, 'solve': 0.0188138484954834, 'unsat': 0.00904393196105957, 'sat': 0.0036020278930664062}, 'models': {'enumerated': 30.0, 'optimal': 1.0}}
Solution cost: [19.0]
Total time: 1.5638079643249512
CPU time: 1.768585999999999
Solve time: 0.0188138484954834
2024-08-09 00:10:50,640 - Learned the following sketch:
(:policy
(:booleans )
(:numericals (f29 "n_count(c_some(r_primitive(at_g,0,1),c_primitive(at-ferry,0)))") (f148 "n_count(c_some(r_primitive(at,0,1),c_primitive(at-ferry,0)))") (f118 "n_count(c_and(c_not(c_primitive(on,0)),c_not(c_all(r_primitive(at_g,0,1),c_primitive(at-ferry,0)))))"))
(:rule (:conditions (:c_n_gt f29) (:c_n_gt f148) (:c_n_eq f118)) (:effects (:e_n_bot f29) (:e_n_dec f148) (:e_n_inc f118)))
(:rule (:conditions (:c_n_eq f29) (:c_n_eq f148) (:c_n_gt f118)) (:effects (:e_n_inc f29) (:e_n_bot f148) (:e_n_bot f118)))
(:rule (:conditions (:c_n_eq f29) (:c_n_eq f148) (:c_n_gt f118)) (:effects (:e_n_inc f29) (:e_n_inc f148) (:e_n_dec f118)))
(:rule (:conditions (:c_n_gt f29) (:c_n_eq f148) (:c_n_gt f118)) (:effects (:e_n_bot f29) (:e_n_inc f148) (:e_n_bot f118)))
(:rule (:conditions (:c_n_eq f29) (:c_n_gt f148) (:c_n_gt f118)) (:effects (:e_n_bot f29) (:e_n_dec f148) (:e_n_dec f118)))
(:rule (:conditions (:c_n_gt f29) (:c_n_gt f148) (:c_n_gt f118)) (:effects (:e_n_dec f29) (:e_n_bot f148) (:e_n_inc f118)))
(:rule (:conditions (:c_n_gt f29) (:c_n_eq f148) (:c_n_gt f118)) (:effects (:e_n_dec f29) (:e_n_inc f148) (:e_n_inc f118)))
(:rule (:conditions (:c_n_eq f29) (:c_n_gt f148) (:c_n_gt f118)) (:effects (:e_n_inc f29) (:e_n_dec f148) (:e_n_dec f118)))
(:rule (:conditions (:c_n_gt f29) (:c_n_eq f148) (:c_n_eq f118)) (:effects (:e_n_bot f29) (:e_n_bot f148) (:e_n_inc f118)))
(:rule (:conditions (:c_n_gt f29) (:c_n_eq f148) (:c_n_eq f118)) (:effects (:e_n_bot f29) (:e_n_inc f148) (:e_n_inc f118)))
(:rule (:conditions (:c_n_eq f29) (:c_n_eq f148) (:c_n_gt f118)) (:effects (:e_n_inc f29) (:e_n_bot f148) (:e_n_dec f118)))
(:rule (:conditions (:c_n_gt f29) (:c_n_eq f148) (:c_n_eq f118)) (:effects (:e_n_dec f29) (:e_n_inc f148) (:e_n_inc f118)))
(:rule (:conditions (:c_n_eq f29) (:c_n_eq f148) (:c_n_eq f118)) (:effects (:e_n_inc f29) (:e_n_bot f148) (:e_n_bot f118)))
(:rule (:conditions (:c_n_gt f29) (:c_n_eq f148) (:c_n_eq f118)) (:effects (:e_n_bot f29) (:e_n_inc f148) (:e_n_bot f118)))
(:rule (:conditions (:c_n_gt f29) (:c_n_gt f148) (:c_n_eq f118)) (:effects (:e_n_dec f29) (:e_n_dec f148) (:e_n_inc f118)))
(:rule (:conditions (:c_n_gt f29) (:c_n_gt f148) (:c_n_gt f118)) (:effects (:e_n_bot f29) (:e_n_dec f148) (:e_n_dec f118)))
(:rule (:conditions (:c_n_gt f29) (:c_n_gt f148) (:c_n_gt f118)) (:effects (:e_n_bot f29) (:e_n_inc f148) (:e_n_bot f118)))
(:rule (:conditions (:c_n_gt f29) (:c_n_gt f148) (:c_n_eq f118)) (:effects (:e_n_dec f29) (:e_n_bot f148) (:e_n_inc f118)))
(:rule (:conditions (:c_n_gt f29) (:c_n_gt f148) (:c_n_eq f118)) (:effects (:e_n_bot f29) (:e_n_inc f148) (:e_n_bot f118)))
(:rule (:conditions (:c_n_gt f29) (:c_n_gt f148) (:c_n_eq f118)) (:effects (:e_n_dec f29) (:e_n_inc f148) (:e_n_inc f118)))
(:rule (:conditions (:c_n_eq f29) (:c_n_gt f148) (:c_n_gt f118)) (:effects (:e_n_inc f29) (:e_n_bot f148) (:e_n_dec f118)))
(:rule (:conditions (:c_n_eq f29) (:c_n_eq f148) (:c_n_gt f118)) (:effects (:e_n_inc f29) (:e_n_inc f148) (:e_n_bot f118)))
(:rule (:conditions (:c_n_gt f29) (:c_n_eq f148) (:c_n_eq f118)) (:effects (:e_n_dec f29) (:e_n_bot f148) (:e_n_inc f118)))
)
Numer of sketch rules: 23
Number of selected features: 3
Maximum complexity of selected feature: 8
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p104.pddl
Sketch cycles
Instance: 6
80
81
82
83
80
Number of unsatisfied D2 facts: 41
Number of D2 facts: 659 of 24336
2024-08-09 00:10:51,804 - Grounding Logic Program...
2024-08-09 00:10:52,193 - ..done
2024-08-09 00:10:52,193 - Solving Logic Program...
2024-08-09 00:10:52,245 - ..done
Clingo statistics:
{'call': 0.0, 'result': 1.0, 'signal': 0.0, 'exhausted': 1.0, 'costs': [20.0], 'lower': [20.0], 'concurrency': 32.0, 'winner': 10.0, 'times': {'total': 1.6003470420837402, 'cpu': 1.8805600000000027, 'solve': 0.030256032943725586, 'unsat': 0.01676011085510254, 'sat': 0.004030942916870117}, 'models': {'enumerated': 45.0, 'optimal': 1.0}}
Solution cost: [20.0]
Total time: 1.6003470420837402
CPU time: 1.8805600000000027
Solve time: 0.030256032943725586
2024-08-09 00:10:52,414 - Learned the following sketch:
(:policy
(:booleans (f10 "b_nullary(empty-ferry)"))
(:numericals (f74 "n_count(c_and(c_primitive(on,0),c_some(r_primitive(at_g,0,1),c_primitive(at-ferry,0))))") (f131 "n_count(c_and(c_all(r_primitive(at,0,1),c_primitive(at-ferry,0)),c_not(c_all(r_primitive(at_g,0,1),c_primitive(at-ferry,0)))))"))
(:rule (:conditions (:c_b_neg f10) (:c_n_eq f74) (:c_n_gt f131)) (:effects (:e_b_bot f10) (:e_n_inc f74) (:e_n_dec f131)))
(:rule (:conditions (:c_b_neg f10) (:c_n_gt f74) (:c_n_eq f131)) (:effects (:e_b_pos f10) (:e_n_dec f74) (:e_n_bot f131)))
(:rule (:conditions (:c_b_pos f10) (:c_n_eq f74) (:c_n_gt f131)) (:effects (:e_b_neg f10) (:e_n_bot f74) (:e_n_bot f131)))
(:rule (:conditions (:c_b_pos f10) (:c_n_eq f74) (:c_n_eq f131)) (:effects (:e_b_bot f10) (:e_n_bot f74) (:e_n_inc f131)))
(:rule (:conditions (:c_b_neg f10) (:c_n_eq f74) (:c_n_gt f131)) (:effects (:e_b_bot f10) (:e_n_inc f74) (:e_n_bot f131)))
(:rule (:conditions (:c_b_neg f10) (:c_n_gt f74) (:c_n_gt f131)) (:effects (:e_b_pos f10) (:e_n_dec f74) (:e_n_bot f131)))
(:rule (:conditions (:c_b_pos f10) (:c_n_eq f74) (:c_n_gt f131)) (:effects (:e_b_bot f10) (:e_n_bot f74) (:e_n_bot f131)))
(:rule (:conditions (:c_b_neg f10) (:c_n_eq f74) (:c_n_gt f131)) (:effects (:e_b_bot f10) (:e_n_bot f74) (:e_n_bot f131)))
)
Numer of sketch rules: 8
Number of selected features: 3
Maximum complexity of selected feature: 9
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p104.pddl
Sketch cycles
Instance: 6
82
83
82
Number of unsatisfied D2 facts: 26
Number of D2 facts: 685 of 24336
2024-08-09 00:10:53,555 - Grounding Logic Program...
2024-08-09 00:10:53,946 - ..done
2024-08-09 00:10:53,946 - Solving Logic Program...
2024-08-09 00:10:53,994 - ..done
Clingo statistics:
{'call': 0.0, 'result': 1.0, 'signal': 0.0, 'exhausted': 1.0, 'costs': [20.0], 'lower': [20.0], 'concurrency': 32.0, 'winner': 24.0, 'times': {'total': 1.5766029357910156, 'cpu': 1.8025440000000117, 'solve': 0.02571892738342285, 'unsat': 0.008383035659790039, 'sat': 0.003991842269897461}, 'models': {'enumerated': 36.0, 'optimal': 1.0}}
Solution cost: [20.0]
Total time: 1.5766029357910156
CPU time: 1.8025440000000117
Solve time: 0.02571892738342285
2024-08-09 00:10:54,162 - Learned the following sketch:
(:policy
(:booleans (f10 "b_nullary(empty-ferry)"))
(:numericals (f74 "n_count(c_and(c_primitive(on,0),c_some(r_primitive(at_g,0,1),c_primitive(at-ferry,0))))") (f131 "n_count(c_and(c_all(r_primitive(at,0,1),c_primitive(at-ferry,0)),c_not(c_all(r_primitive(at_g,0,1),c_primitive(at-ferry,0)))))"))
(:rule (:conditions (:c_b_neg f10) (:c_n_eq f74) (:c_n_gt f131)) (:effects (:e_b_bot f10) (:e_n_inc f74) (:e_n_dec f131)))
(:rule (:conditions (:c_b_neg f10) (:c_n_gt f74) (:c_n_eq f131)) (:effects (:e_b_pos f10) (:e_n_dec f74) (:e_n_bot f131)))
(:rule (:conditions (:c_b_pos f10) (:c_n_eq f74) (:c_n_gt f131)) (:effects (:e_b_neg f10) (:e_n_bot f74) (:e_n_bot f131)))
(:rule (:conditions (:c_b_pos f10) (:c_n_eq f74) (:c_n_eq f131)) (:effects (:e_b_bot f10) (:e_n_bot f74) (:e_n_inc f131)))
(:rule (:conditions (:c_b_neg f10) (:c_n_eq f74) (:c_n_gt f131)) (:effects (:e_b_bot f10) (:e_n_inc f74) (:e_n_bot f131)))
(:rule (:conditions (:c_b_neg f10) (:c_n_gt f74) (:c_n_gt f131)) (:effects (:e_b_pos f10) (:e_n_dec f74) (:e_n_bot f131)))
)
Numer of sketch rules: 6
Number of selected features: 3
Maximum complexity of selected feature: 9
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p104.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p75.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p32.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p76.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p147.pddl
2024-08-09 00:10:54,168 - Verifying learned sketch...
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p104.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p75.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p32.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p76.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p147.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p25.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p32.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p75.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p76.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p147.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p97.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p104.pddl
Sketch fails to bound width of a state
/proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p122.pddl
Instance: 7
Source_state: 86
Dlplan state: (instance index=7, state index=2, atoms={at(car3,loc2), at(car2,loc2), at-ferry(loc1), on(car1)})
2024-08-09 00:10:54,184 - ..done
Smallest unsolved instance: 7
Selected instances: [7]
2024-08-09 00:10:54,184 - Iteration: 16
     id: 7 problem_filepath: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p122.pddl num_states: 40 num_state_equivalences: 26
2024-08-09 00:10:54,221 - Initialize global faithful abstract states...
2024-08-09 00:10:54,221 - ..done
2024-08-09 00:10:54,221 - Initializing DomainFeatureData...
[t=57.5906s, 2571272 KB] Started generating base features of complexity 1.
[t=57.5907s, 2571272 KB] Complexity 1:
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 0
    c_not: 0
    c_equal: 0
    c_some: 0
    c_all: 0
    r_restrict: 0
    r_and: 0
    r_inverse: 0
    r_transitive_closure: 0
    b_empty: 0
    n_count: 0
    n_concept_distance: 0
[t=57.591s, 2571272 KB] Finished generating base features.
[t=57.5911s, 2571272 KB] Started generating composite features. 
[t=57.5913s, 2571272 KB] Complexity 2:
Total concept elements: 8
Total role elements: 4
Total numerical elements: 7
Total boolean elements: 3
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 0
    c_not: 2
    c_equal: 0
    c_some: 0
    c_all: 0
    r_restrict: 0
    r_and: 0
    r_inverse: 2
    r_transitive_closure: 0
    b_empty: 1
    n_count: 7
    n_concept_distance: 0
[t=57.592s, 2571272 KB] Complexity 3:
Total concept elements: 15
Total role elements: 8
Total numerical elements: 9
Total boolean elements: 3
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 0
    c_not: 2
    c_equal: 1
    c_some: 3
    c_all: 3
    r_restrict: 3
    r_and: 1
    r_inverse: 2
    r_transitive_closure: 0
    b_empty: 1
    n_count: 9
    n_concept_distance: 0
[t=57.5928s, 2571272 KB] Complexity 4:
Total concept elements: 25
Total role elements: 11
Total numerical elements: 17
Total boolean elements: 5
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 1
    c_not: 7
    c_equal: 1
    c_some: 5
    c_all: 5
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 3
    n_count: 16
    n_concept_distance: 1
[t=57.5941s, 2571272 KB] Complexity 5:
Total concept elements: 35
Total role elements: 11
Total numerical elements: 25
Total boolean elements: 7
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 5
    c_not: 10
    c_equal: 1
    c_some: 6
    c_all: 7
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 5
    n_count: 24
    n_concept_distance: 1
[t=57.5958s, 2571272 KB] Complexity 6:
Total concept elements: 80
Total role elements: 11
Total numerical elements: 32
Total boolean elements: 10
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 20
    c_not: 15
    c_equal: 1
    c_some: 16
    c_all: 22
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 8
    n_count: 31
    n_concept_distance: 1
[t=57.5982s, 2571272 KB] Complexity 7:
Total concept elements: 127
Total role elements: 11
Total numerical elements: 78
Total boolean elements: 20
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 39
    c_not: 43
    c_equal: 1
    c_some: 16
    c_all: 22
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 18
    n_count: 73
    n_concept_distance: 5
[t=57.6035s, 2571272 KB] Complexity 8:
Total concept elements: 260
Total role elements: 11
Total numerical elements: 122
Total boolean elements: 26
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 84
    c_not: 57
    c_equal: 1
    c_some: 49
    c_all: 63
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 24
    n_count: 115
    n_concept_distance: 7
[t=57.6117s, 2571272 KB] Complexity 9:
Total concept elements: 455
Total role elements: 11
Total numerical elements: 257
Total boolean elements: 56
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 156
    c_not: 151
    c_equal: 1
    c_some: 61
    c_all: 80
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 54
    n_count: 244
    n_concept_distance: 13
[t=57.612s, 2571272 KB] Finished generating composite features.
Features generated: 313
Features after 0/1 pruning (incomplete): 161
Features after soft changes pruning (incomplete): 140
Features after relevant changes pruning (complete): 107
2024-08-09 00:10:54,614 - ..done
2024-08-09 00:10:54,615 - Constructing PerStateFeatureValuations...
2024-08-09 00:10:54,617 - ..done
2024-08-09 00:10:54,617 - Constructing StatePairEquivalenceDatas...
2024-08-09 00:10:54,680 - ..done
2024-08-09 00:10:54,684 - Constructing TupleGraphEquivalences...
Tuple graph equivalence construction statistics:
Num nodes: 84
2024-08-09 00:10:54,686 - ..done
2024-08-09 00:10:54,686 - Minimizing TupleGraphEquivalences...
Tuple graph equivalence minimization statistics:
Num orig nodes: 84
Num kept nodes: 80
2024-08-09 00:10:54,687 - ..done
Number of initial D2 facts: 86
Number of D2 facts: 86 of 5776
2024-08-09 00:10:54,840 - Grounding Logic Program...
2024-08-09 00:10:54,946 - ..done
2024-08-09 00:10:54,947 - Solving Logic Program...
2024-08-09 00:10:54,956 - ..done
Clingo statistics:
{'call': 0.0, 'result': 1.0, 'signal': 0.0, 'exhausted': 1.0, 'costs': [8.0], 'lower': [8.0], 'concurrency': 32.0, 'winner': 28.0, 'times': {'total': 0.26727986335754395, 'cpu': 0.28298299999998733, 'solve': 0.0029518604278564453, 'unsat': 0.00041294097900390625, 'sat': 0.0013730525970458984}, 'models': {'enumerated': 21.0, 'optimal': 1.0}}
Solution cost: [8.0]
Total time: 0.26727986335754395
CPU time: 0.28298299999998733
Solve time: 0.0029518604278564453
2024-08-09 00:10:55,014 - Learned the following sketch:
(:policy
(:booleans (f41 "b_nullary(empty-ferry)"))
(:numericals (f103 "n_count(c_some(r_primitive(at,0,1),c_primitive(at-ferry,0)))"))
(:rule (:conditions (:c_b_pos f41) (:c_n_gt f103)) (:effects (:e_b_bot f41) (:e_n_inc f103)))
(:rule (:conditions (:c_b_pos f41) (:c_n_gt f103)) (:effects (:e_b_neg f41) (:e_n_dec f103)))
(:rule (:conditions (:c_b_neg f41) (:c_n_eq f103)) (:effects (:e_b_pos f41) (:e_n_inc f103)))
(:rule (:conditions (:c_b_neg f41) (:c_n_gt f103)) (:effects (:e_b_bot f41) (:e_n_dec f103)))
(:rule (:conditions (:c_b_pos f41) (:c_n_eq f103)) (:effects (:e_b_bot f41) (:e_n_inc f103)))
(:rule (:conditions (:c_b_neg f41) (:c_n_gt f103)) (:effects (:e_b_pos f41) (:e_n_inc f103)))
(:rule (:conditions (:c_b_neg f41) (:c_n_eq f103)) (:effects (:e_b_bot f41) (:e_n_inc f103)))
(:rule (:conditions (:c_b_pos f41) (:c_n_gt f103)) (:effects (:e_b_bot f41) (:e_n_dec f103)))
(:rule (:conditions (:c_b_neg f41) (:c_n_gt f103)) (:effects (:e_b_bot f41) (:e_n_bot f103)))
)
Numer of sketch rules: 9
Number of selected features: 2
Maximum complexity of selected feature: 4
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p122.pddl
Sketch cycles
Instance: 7
109
109
Number of unsatisfied D2 facts: 132
Number of D2 facts: 218 of 5776
2024-08-09 00:10:55,363 - Grounding Logic Program...
2024-08-09 00:10:55,482 - ..done
2024-08-09 00:10:55,483 - Solving Logic Program...
2024-08-09 00:10:55,496 - ..done
Clingo statistics:
{'call': 0.0, 'result': 1.0, 'signal': 0.0, 'exhausted': 1.0, 'costs': [12.0], 'lower': [12.0], 'concurrency': 32.0, 'winner': 13.0, 'times': {'total': 0.47817087173461914, 'cpu': 0.533561000000006, 'solve': 0.006048917770385742, 'unsat': 0.0020618438720703125, 'sat': 0.0019829273223876953}, 'models': {'enumerated': 8.0, 'optimal': 1.0}}
Solution cost: [12.0]
Total time: 0.47817087173461914
CPU time: 0.533561000000006
Solve time: 0.006048917770385742
2024-08-09 00:10:55,559 - Learned the following sketch:
(:policy
(:booleans )
(:numericals (f103 "n_count(c_some(r_primitive(at,0,1),c_primitive(at-ferry,0)))") (f49 "n_count(c_and(c_primitive(on,0),c_some(r_primitive(at_g,0,1),c_primitive(at-ferry,0))))"))
(:rule (:conditions (:c_n_gt f103) (:c_n_eq f49)) (:effects (:e_n_dec f103) (:e_n_bot f49)))
(:rule (:conditions (:c_n_eq f103) (:c_n_eq f49)) (:effects (:e_n_inc f103) (:e_n_inc f49)))
(:rule (:conditions (:c_n_gt f103) (:c_n_gt f49)) (:effects (:e_n_inc f103) (:e_n_dec f49)))
(:rule (:conditions (:c_n_eq f103) (:c_n_eq f49)) (:effects (:e_n_inc f103) (:e_n_bot f49)))
(:rule (:conditions (:c_n_gt f103) (:c_n_eq f49)) (:effects (:e_n_dec f103) (:e_n_inc f49)))
(:rule (:conditions (:c_n_eq f103) (:c_n_gt f49)) (:effects (:e_n_inc f103) (:e_n_dec f49)))
(:rule (:conditions (:c_n_gt f103) (:c_n_eq f49)) (:effects (:e_n_inc f103) (:e_n_bot f49)))
(:rule (:conditions (:c_n_gt f103) (:c_n_eq f49)) (:effects (:e_n_bot f103) (:e_n_inc f49)))
(:rule (:conditions (:c_n_gt f103) (:c_n_gt f49)) (:effects (:e_n_bot f103) (:e_n_dec f49)))
(:rule (:conditions (:c_n_gt f103) (:c_n_gt f49)) (:effects (:e_n_dec f103) (:e_n_dec f49)))
)
Numer of sketch rules: 10
Number of selected features: 2
Maximum complexity of selected feature: 6
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p122.pddl
Sketch cycles
Instance: 7
109
88
89
90
91
92
93
94
88
Number of unsatisfied D2 facts: 92
Number of D2 facts: 310 of 5776
2024-08-09 00:10:55,933 - Grounding Logic Program...
2024-08-09 00:10:56,066 - ..done
2024-08-09 00:10:56,066 - Solving Logic Program...
2024-08-09 00:10:56,084 - ..done
Clingo statistics:
{'call': 0.0, 'result': 1.0, 'signal': 0.0, 'exhausted': 1.0, 'costs': [15.0], 'lower': [15.0], 'concurrency': 32.0, 'winner': 30.0, 'times': {'total': 0.5213749408721924, 'cpu': 0.6019270000000034, 'solve': 0.010242938995361328, 'unsat': 0.0039010047912597656, 'sat': 0.001889944076538086}, 'models': {'enumerated': 16.0, 'optimal': 1.0}}
Solution cost: [15.0]
Total time: 0.5213749408721924
CPU time: 0.6019270000000034
Solve time: 0.010242938995361328
2024-08-09 00:10:56,145 - Learned the following sketch:
(:policy
(:booleans )
(:numericals (f3 "n_count(c_primitive(on,0))") (f103 "n_count(c_some(r_primitive(at,0,1),c_primitive(at-ferry,0)))") (f49 "n_count(c_and(c_primitive(on,0),c_some(r_primitive(at_g,0,1),c_primitive(at-ferry,0))))"))
(:rule (:conditions (:c_n_eq f3) (:c_n_gt f103) (:c_n_eq f49)) (:effects (:e_n_inc f3) (:e_n_dec f103) (:e_n_bot f49)))
(:rule (:conditions (:c_n_eq f3) (:c_n_gt f103) (:c_n_eq f49)) (:effects (:e_n_bot f3) (:e_n_inc f103) (:e_n_bot f49)))
(:rule (:conditions (:c_n_gt f3) (:c_n_eq f103) (:c_n_eq f49)) (:effects (:e_n_bot f3) (:e_n_inc f103) (:e_n_inc f49)))
(:rule (:conditions (:c_n_gt f3) (:c_n_gt f103) (:c_n_gt f49)) (:effects (:e_n_dec f3) (:e_n_inc f103) (:e_n_dec f49)))
(:rule (:conditions (:c_n_eq f3) (:c_n_eq f103) (:c_n_eq f49)) (:effects (:e_n_bot f3) (:e_n_inc f103) (:e_n_bot f49)))
(:rule (:conditions (:c_n_gt f3) (:c_n_gt f103) (:c_n_eq f49)) (:effects (:e_n_bot f3) (:e_n_dec f103) (:e_n_inc f49)))
(:rule (:conditions (:c_n_gt f3) (:c_n_eq f103) (:c_n_gt f49)) (:effects (:e_n_dec f3) (:e_n_inc f103) (:e_n_dec f49)))
(:rule (:conditions (:c_n_gt f3) (:c_n_gt f103) (:c_n_eq f49)) (:effects (:e_n_bot f3) (:e_n_bot f103) (:e_n_inc f49)))
)
Numer of sketch rules: 8
Number of selected features: 3
Maximum complexity of selected feature: 6
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p122.pddl
2024-08-09 00:10:56,148 - Verifying learned sketch...
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p122.pddl
Sketch fails to bound width of a state
/proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p25.pddl
Instance: 0
Source_state: 2
Dlplan state: (instance index=0, state index=2, atoms={at-ferry(loc2), on(car1)})
2024-08-09 00:10:56,151 - ..done
Smallest unsolved instance: 0
Selected instances: [7, 0]
2024-08-09 00:10:56,151 - Iteration: 17
     id: 7 problem_filepath: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p122.pddl num_states: 40 num_state_equivalences: 26
     id: 0 problem_filepath: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p25.pddl num_states: 6 num_state_equivalences: 6
2024-08-09 00:10:56,157 - Initialize global faithful abstract states...
2024-08-09 00:10:56,157 - ..done
2024-08-09 00:10:56,157 - Initializing DomainFeatureData...
[t=59.5272s, 2571272 KB] Started generating base features of complexity 1.
[t=59.5274s, 2571272 KB] Complexity 1:
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 0
    c_not: 0
    c_equal: 0
    c_some: 0
    c_all: 0
    r_restrict: 0
    r_and: 0
    r_inverse: 0
    r_transitive_closure: 0
    b_empty: 0
    n_count: 0
    n_concept_distance: 0
[t=59.5277s, 2571272 KB] Finished generating base features.
[t=59.5278s, 2571272 KB] Started generating composite features. 
[t=59.528s, 2571272 KB] Complexity 2:
Total concept elements: 8
Total role elements: 4
Total numerical elements: 7
Total boolean elements: 4
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 0
    c_not: 2
    c_equal: 0
    c_some: 0
    c_all: 0
    r_restrict: 0
    r_and: 0
    r_inverse: 2
    r_transitive_closure: 0
    b_empty: 2
    n_count: 7
    n_concept_distance: 0
[t=59.5288s, 2571272 KB] Complexity 3:
Total concept elements: 15
Total role elements: 8
Total numerical elements: 9
Total boolean elements: 4
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 0
    c_not: 2
    c_equal: 1
    c_some: 3
    c_all: 3
    r_restrict: 3
    r_and: 1
    r_inverse: 2
    r_transitive_closure: 0
    b_empty: 2
    n_count: 9
    n_concept_distance: 0
[t=59.5297s, 2571272 KB] Complexity 4:
Total concept elements: 27
Total role elements: 11
Total numerical elements: 17
Total boolean elements: 7
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 1
    c_not: 7
    c_equal: 1
    c_some: 6
    c_all: 6
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 5
    n_count: 16
    n_concept_distance: 1
[t=59.5313s, 2571272 KB] Complexity 5:
Total concept elements: 37
Total role elements: 11
Total numerical elements: 27
Total boolean elements: 10
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 5
    c_not: 10
    c_equal: 1
    c_some: 7
    c_all: 8
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 8
    n_count: 26
    n_concept_distance: 1
[t=59.5335s, 2571272 KB] Complexity 6:
Total concept elements: 91
Total role elements: 11
Total numerical elements: 34
Total boolean elements: 13
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 23
    c_not: 15
    c_equal: 1
    c_some: 19
    c_all: 27
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 11
    n_count: 33
    n_concept_distance: 1
[t=59.5365s, 2571272 KB] Complexity 7:
Total concept elements: 143
Total role elements: 11
Total numerical elements: 92
Total boolean elements: 29
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 45
    c_not: 45
    c_equal: 1
    c_some: 19
    c_all: 27
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 27
    n_count: 85
    n_concept_distance: 7
[t=59.5437s, 2571272 KB] Complexity 8:
Total concept elements: 295
Total role elements: 11
Total numerical elements: 142
Total boolean elements: 37
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 98
    c_not: 61
    c_equal: 1
    c_some: 56
    c_all: 73
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 35
    n_count: 133
    n_concept_distance: 9
[t=59.5544s, 2571272 KB] Complexity 9:
Total concept elements: 531
Total role elements: 11
Total numerical elements: 297
Total boolean elements: 89
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 185
    c_not: 166
    c_equal: 1
    c_some: 73
    c_all: 100
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 87
    n_count: 282
    n_concept_distance: 15
[t=59.5548s, 2571272 KB] Finished generating composite features.
Features generated: 386
Features after 0/1 pruning (incomplete): 231
Features after soft changes pruning (incomplete): 197
Features after relevant changes pruning (complete): 150
2024-08-09 00:10:56,873 - ..done
2024-08-09 00:10:56,873 - Constructing PerStateFeatureValuations...
2024-08-09 00:10:56,877 - ..done
2024-08-09 00:10:56,877 - Constructing StatePairEquivalenceDatas...
2024-08-09 00:10:56,989 - ..done
2024-08-09 00:10:56,990 - Constructing TupleGraphEquivalences...
Tuple graph equivalence construction statistics:
Num nodes: 100
2024-08-09 00:10:56,994 - ..done
2024-08-09 00:10:56,994 - Minimizing TupleGraphEquivalences...
Tuple graph equivalence minimization statistics:
Num orig nodes: 100
Num kept nodes: 96
2024-08-09 00:10:56,995 - ..done
Number of initial D2 facts: 100
Number of D2 facts: 100 of 8464
2024-08-09 00:10:57,223 - Grounding Logic Program...
2024-08-09 00:10:57,402 - ..done
2024-08-09 00:10:57,403 - Solving Logic Program...
2024-08-09 00:10:57,418 - ..done
Clingo statistics:
{'call': 0.0, 'result': 1.0, 'signal': 0.0, 'exhausted': 1.0, 'costs': [8.0], 'lower': [8.0], 'concurrency': 32.0, 'winner': 13.0, 'times': {'total': 0.42161011695861816, 'cpu': 0.452565000000007, 'solve': 0.00622105598449707, 'unsat': 0.0008571147918701172, 'sat': 0.0017960071563720703}, 'models': {'enumerated': 50.0, 'optimal': 1.0}}
Solution cost: [8.0]
Total time: 0.42161011695861816
CPU time: 0.452565000000007
Solve time: 0.00622105598449707
2024-08-09 00:10:57,515 - Learned the following sketch:
(:policy
(:booleans )
(:numericals (f46 "n_count(c_primitive(on,0))") (f144 "n_count(c_some(r_primitive(at,0,1),c_primitive(at-ferry,0)))"))
(:rule (:conditions (:c_n_eq f46) (:c_n_gt f144)) (:effects (:e_n_bot f46) (:e_n_inc f144)))
(:rule (:conditions (:c_n_eq f46) (:c_n_gt f144)) (:effects (:e_n_inc f46) (:e_n_dec f144)))
(:rule (:conditions (:c_n_gt f46) (:c_n_eq f144)) (:effects (:e_n_dec f46) (:e_n_inc f144)))
(:rule (:conditions (:c_n_gt f46) (:c_n_gt f144)) (:effects (:e_n_bot f46) (:e_n_dec f144)))
(:rule (:conditions (:c_n_eq f46) (:c_n_eq f144)) (:effects (:e_n_bot f46) (:e_n_inc f144)))
(:rule (:conditions (:c_n_gt f46) (:c_n_gt f144)) (:effects (:e_n_dec f46) (:e_n_inc f144)))
(:rule (:conditions (:c_n_gt f46) (:c_n_eq f144)) (:effects (:e_n_bot f46) (:e_n_inc f144)))
(:rule (:conditions (:c_n_eq f46) (:c_n_gt f144)) (:effects (:e_n_bot f46) (:e_n_dec f144)))
(:rule (:conditions (:c_n_gt f46) (:c_n_gt f144)) (:effects (:e_n_bot f46) (:e_n_bot f144)))
(:rule (:conditions (:c_n_gt f46) (:c_n_eq f144)) (:effects (:e_n_bot f46) (:e_n_bot f144)))
)
Numer of sketch rules: 10
Number of selected features: 2
Maximum complexity of selected feature: 4
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p122.pddl
Sketch cycles
Instance: 7
109
109
Number of unsatisfied D2 facts: 154
Number of D2 facts: 254 of 8464
2024-08-09 00:10:58,145 - Grounding Logic Program...
2024-08-09 00:10:58,342 - ..done
2024-08-09 00:10:58,343 - Solving Logic Program...
2024-08-09 00:10:58,361 - ..done
Clingo statistics:
{'call': 0.0, 'result': 1.0, 'signal': 0.0, 'exhausted': 1.0, 'costs': [10.0], 'lower': [10.0], 'concurrency': 32.0, 'winner': 29.0, 'times': {'total': 0.8433609008789062, 'cpu': 0.9237799999999936, 'solve': 0.007555961608886719, 'unsat': 0.0019609928131103516, 'sat': 0.002329111099243164}, 'models': {'enumerated': 19.0, 'optimal': 1.0}}
Solution cost: [10.0]
Total time: 0.8433609008789062
CPU time: 0.9237799999999936
Solve time: 0.007555961608886719
2024-08-09 00:10:58,460 - Learned the following sketch:
(:policy
(:booleans )
(:numericals (f27 "n_count(c_some(r_primitive(at_g,0,1),c_primitive(at-ferry,0)))") (f78 "n_count(r_and(r_primitive(at,0,1),r_primitive(at_g,0,1)))"))
(:rule (:conditions (:c_n_gt f27) (:c_n_eq f78)) (:effects (:e_n_bot f27) (:e_n_bot f78)))
(:rule (:conditions (:c_n_gt f27) (:c_n_eq f78)) (:effects (:e_n_inc f27) (:e_n_bot f78)))
(:rule (:conditions (:c_n_gt f27) (:c_n_eq f78)) (:effects (:e_n_dec f27) (:e_n_bot f78)))
(:rule (:conditions (:c_n_gt f27) (:c_n_eq f78)) (:effects (:e_n_bot f27) (:e_n_inc f78)))
(:rule (:conditions (:c_n_gt f27) (:c_n_gt f78)) (:effects (:e_n_bot f27) (:e_n_bot f78)))
(:rule (:conditions (:c_n_gt f27) (:c_n_gt f78)) (:effects (:e_n_dec f27) (:e_n_bot f78)))
(:rule (:conditions (:c_n_gt f27) (:c_n_gt f78)) (:effects (:e_n_inc f27) (:e_n_bot f78)))
(:rule (:conditions (:c_n_gt f27) (:c_n_gt f78)) (:effects (:e_n_bot f27) (:e_n_inc f78)))
(:rule (:conditions (:c_n_gt f27) (:c_n_gt f78)) (:effects (:e_n_bot f27) (:e_n_dec f78)))
(:rule (:conditions (:c_n_eq f27) (:c_n_eq f78)) (:effects (:e_n_bot f27) (:e_n_bot f78)))
(:rule (:conditions (:c_n_eq f27) (:c_n_eq f78)) (:effects (:e_n_inc f27) (:e_n_bot f78)))
)
Numer of sketch rules: 11
Number of selected features: 2
Maximum complexity of selected feature: 4
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p122.pddl
Sketch cycles
Instance: 7
109
109
Number of unsatisfied D2 facts: 177
Number of D2 facts: 431 of 8464
2024-08-09 00:10:59,090 - Grounding Logic Program...
2024-08-09 00:10:59,316 - ..done
2024-08-09 00:10:59,317 - Solving Logic Program...
2024-08-09 00:10:59,347 - ..done
Clingo statistics:
{'call': 0.0, 'result': 1.0, 'signal': 0.0, 'exhausted': 1.0, 'costs': [15.0], 'lower': [15.0], 'concurrency': 32.0, 'winner': 26.0, 'times': {'total': 0.884706974029541, 'cpu': 1.0636800000000193, 'solve': 0.017086029052734375, 'unsat': 0.008060932159423828, 'sat': 0.0040740966796875}, 'models': {'enumerated': 32.0, 'optimal': 1.0}}
Solution cost: [15.0]
Total time: 0.884706974029541
CPU time: 1.0636800000000193
Solve time: 0.017086029052734375
2024-08-09 00:10:59,448 - Learned the following sketch:
(:policy
(:booleans )
(:numericals (f46 "n_count(c_primitive(on,0))") (f144 "n_count(c_some(r_primitive(at,0,1),c_primitive(at-ferry,0)))") (f71 "n_count(c_and(c_primitive(on,0),c_some(r_primitive(at_g,0,1),c_primitive(at-ferry,0))))"))
(:rule (:conditions (:c_n_eq f46) (:c_n_gt f144) (:c_n_eq f71)) (:effects (:e_n_inc f46) (:e_n_dec f144) (:e_n_bot f71)))
(:rule (:conditions (:c_n_gt f46) (:c_n_eq f144) (:c_n_eq f71)) (:effects (:e_n_bot f46) (:e_n_inc f144) (:e_n_inc f71)))
(:rule (:conditions (:c_n_gt f46) (:c_n_gt f144) (:c_n_gt f71)) (:effects (:e_n_dec f46) (:e_n_inc f144) (:e_n_dec f71)))
(:rule (:conditions (:c_n_eq f46) (:c_n_eq f144) (:c_n_eq f71)) (:effects (:e_n_bot f46) (:e_n_inc f144) (:e_n_bot f71)))
(:rule (:conditions (:c_n_gt f46) (:c_n_gt f144) (:c_n_eq f71)) (:effects (:e_n_bot f46) (:e_n_dec f144) (:e_n_inc f71)))
(:rule (:conditions (:c_n_gt f46) (:c_n_eq f144) (:c_n_gt f71)) (:effects (:e_n_dec f46) (:e_n_inc f144) (:e_n_dec f71)))
(:rule (:conditions (:c_n_eq f46) (:c_n_gt f144) (:c_n_eq f71)) (:effects (:e_n_bot f46) (:e_n_inc f144) (:e_n_bot f71)))
(:rule (:conditions (:c_n_gt f46) (:c_n_gt f144) (:c_n_eq f71)) (:effects (:e_n_bot f46) (:e_n_bot f144) (:e_n_inc f71)))
(:rule (:conditions (:c_n_gt f46) (:c_n_eq f144) (:c_n_eq f71)) (:effects (:e_n_bot f46) (:e_n_bot f144) (:e_n_inc f71)))
)
Numer of sketch rules: 9
Number of selected features: 3
Maximum complexity of selected feature: 6
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p122.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p25.pddl
2024-08-09 00:10:59,452 - Verifying learned sketch...
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p122.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p25.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p25.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p32.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p75.pddl
Sketch fails to bound width of a state
/proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p76.pddl
Instance: 3
Source_state: 25
Dlplan state: (instance index=3, state index=14, atoms={at(car2,loc2), at(car1,loc1), empty-ferry(), at-ferry(loc2)})
2024-08-09 00:10:59,458 - ..done
Smallest unsolved instance: 3
Selected instances: [7, 0, 3]
2024-08-09 00:10:59,458 - Iteration: 18
     id: 7 problem_filepath: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p122.pddl num_states: 40 num_state_equivalences: 26
     id: 0 problem_filepath: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p25.pddl num_states: 6 num_state_equivalences: 6
     id: 3 problem_filepath: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p76.pddl num_states: 16 num_state_equivalences: 10
2024-08-09 00:10:59,469 - Initialize global faithful abstract states...
2024-08-09 00:10:59,469 - ..done
2024-08-09 00:10:59,469 - Initializing DomainFeatureData...
[t=62.839s, 2571272 KB] Started generating base features of complexity 1.
[t=62.8393s, 2571272 KB] Complexity 1:
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 0
    c_not: 0
    c_equal: 0
    c_some: 0
    c_all: 0
    r_restrict: 0
    r_and: 0
    r_inverse: 0
    r_transitive_closure: 0
    b_empty: 0
    n_count: 0
    n_concept_distance: 0
[t=62.8396s, 2571272 KB] Finished generating base features.
[t=62.8396s, 2571272 KB] Started generating composite features. 
[t=62.8398s, 2571272 KB] Complexity 2:
Total concept elements: 8
Total role elements: 4
Total numerical elements: 7
Total boolean elements: 4
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 0
    c_not: 2
    c_equal: 0
    c_some: 0
    c_all: 0
    r_restrict: 0
    r_and: 0
    r_inverse: 2
    r_transitive_closure: 0
    b_empty: 2
    n_count: 7
    n_concept_distance: 0
[t=62.8408s, 2571272 KB] Complexity 3:
Total concept elements: 15
Total role elements: 8
Total numerical elements: 9
Total boolean elements: 4
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 0
    c_not: 2
    c_equal: 1
    c_some: 3
    c_all: 3
    r_restrict: 3
    r_and: 1
    r_inverse: 2
    r_transitive_closure: 0
    b_empty: 2
    n_count: 9
    n_concept_distance: 0
[t=62.8418s, 2571272 KB] Complexity 4:
Total concept elements: 27
Total role elements: 11
Total numerical elements: 17
Total boolean elements: 7
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 1
    c_not: 7
    c_equal: 1
    c_some: 6
    c_all: 6
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 5
    n_count: 16
    n_concept_distance: 1
[t=62.8436s, 2571272 KB] Complexity 5:
Total concept elements: 37
Total role elements: 11
Total numerical elements: 27
Total boolean elements: 10
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 5
    c_not: 10
    c_equal: 1
    c_some: 7
    c_all: 8
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 8
    n_count: 26
    n_concept_distance: 1
[t=62.8462s, 2571272 KB] Complexity 6:
Total concept elements: 91
Total role elements: 11
Total numerical elements: 34
Total boolean elements: 13
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 23
    c_not: 15
    c_equal: 1
    c_some: 19
    c_all: 27
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 11
    n_count: 33
    n_concept_distance: 1
[t=62.8499s, 2571272 KB] Complexity 7:
Total concept elements: 143
Total role elements: 11
Total numerical elements: 92
Total boolean elements: 29
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 45
    c_not: 45
    c_equal: 1
    c_some: 19
    c_all: 27
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 27
    n_count: 85
    n_concept_distance: 7
[t=62.859s, 2571272 KB] Complexity 8:
Total concept elements: 295
Total role elements: 11
Total numerical elements: 142
Total boolean elements: 38
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 98
    c_not: 61
    c_equal: 1
    c_some: 56
    c_all: 73
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 36
    n_count: 133
    n_concept_distance: 9
[t=62.8725s, 2571272 KB] Complexity 9:
Total concept elements: 531
Total role elements: 11
Total numerical elements: 297
Total boolean elements: 94
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 185
    c_not: 166
    c_equal: 1
    c_some: 73
    c_all: 100
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 92
    n_count: 282
    n_concept_distance: 15
[t=62.8728s, 2571272 KB] Finished generating composite features.
Features generated: 391
Features after 0/1 pruning (incomplete): 237
Features after soft changes pruning (incomplete): 202
Features after relevant changes pruning (complete): 158
2024-08-09 00:11:00,421 - ..done
2024-08-09 00:11:00,421 - Constructing PerStateFeatureValuations...
2024-08-09 00:11:00,426 - ..done
2024-08-09 00:11:00,427 - Constructing StatePairEquivalenceDatas...
2024-08-09 00:11:00,577 - ..done
2024-08-09 00:11:00,579 - Constructing TupleGraphEquivalences...
Tuple graph equivalence construction statistics:
Num nodes: 130
2024-08-09 00:11:00,583 - ..done
2024-08-09 00:11:00,583 - Minimizing TupleGraphEquivalences...
Tuple graph equivalence minimization statistics:
Num orig nodes: 130
Num kept nodes: 124
2024-08-09 00:11:00,585 - ..done
Number of initial D2 facts: 122
Number of D2 facts: 122 of 12544
2024-08-09 00:11:00,883 - Grounding Logic Program...
2024-08-09 00:11:01,116 - ..done
2024-08-09 00:11:01,117 - Solving Logic Program...
2024-08-09 00:11:01,133 - ..done
Clingo statistics:
{'call': 0.0, 'result': 1.0, 'signal': 0.0, 'exhausted': 1.0, 'costs': [8.0], 'lower': [8.0], 'concurrency': 32.0, 'winner': 26.0, 'times': {'total': 0.5464191436767578, 'cpu': 0.573205999999999, 'solve': 0.0038831233978271484, 'unsat': 0.0008761882781982422, 'sat': 0.001569986343383789}, 'models': {'enumerated': 15.0, 'optimal': 1.0}}
Solution cost: [8.0]
Total time: 0.5464191436767578
CPU time: 0.573205999999999
Solve time: 0.0038831233978271484
2024-08-09 00:11:01,256 - Learned the following sketch:
(:policy
(:booleans (f62 "b_nullary(empty-ferry)"))
(:numericals (f28 "n_count(c_some(r_primitive(at_g,0,1),c_primitive(at-ferry,0)))"))
(:rule (:conditions (:c_b_pos f62) (:c_n_gt f28)) (:effects (:e_b_bot f62) (:e_n_dec f28)))
(:rule (:conditions (:c_b_pos f62) (:c_n_gt f28)) (:effects (:e_b_neg f62) (:e_n_bot f28)))
(:rule (:conditions (:c_b_neg f62) (:c_n_gt f28)) (:effects (:e_b_pos f62) (:e_n_bot f28)))
(:rule (:conditions (:c_b_neg f62) (:c_n_gt f28)) (:effects (:e_b_bot f62) (:e_n_inc f28)))
(:rule (:conditions (:c_b_pos f62) (:c_n_gt f28)) (:effects (:e_b_bot f62) (:e_n_inc f28)))
(:rule (:conditions (:c_b_neg f62) (:c_n_gt f28)) (:effects (:e_b_bot f62) (:e_n_dec f28)))
(:rule (:conditions (:c_b_pos f62) (:c_n_eq f28)) (:effects (:e_b_neg f62) (:e_n_bot f28)))
(:rule (:conditions (:c_b_neg f62) (:c_n_eq f28)) (:effects (:e_b_bot f62) (:e_n_inc f28)))
)
Numer of sketch rules: 8
Number of selected features: 2
Maximum complexity of selected feature: 4
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p122.pddl
Sketch cycles
Instance: 7
109
88
89
90
91
92
93
94
88
Number of unsatisfied D2 facts: 168
Number of D2 facts: 290 of 12544
2024-08-09 00:11:02,085 - Grounding Logic Program...
2024-08-09 00:11:02,339 - ..done
2024-08-09 00:11:02,340 - Solving Logic Program...
2024-08-09 00:11:02,363 - ..done
Clingo statistics:
{'call': 0.0, 'result': 1.0, 'signal': 0.0, 'exhausted': 1.0, 'costs': [13.0], 'lower': [13.0], 'concurrency': 32.0, 'winner': 29.0, 'times': {'total': 1.102708101272583, 'cpu': 1.1728319999999854, 'solve': 0.009194135665893555, 'unsat': 0.0048370361328125, 'sat': 0.0024421215057373047}, 'models': {'enumerated': 25.0, 'optimal': 1.0}}
Solution cost: [13.0]
Total time: 1.102708101272583
CPU time: 1.1728319999999854
Solve time: 0.009194135665893555
2024-08-09 00:11:02,492 - Learned the following sketch:
(:policy
(:booleans (f62 "b_nullary(empty-ferry)"))
(:numericals (f123 "n_count(c_and(c_some(r_primitive(at_g,0,1),c_primitive(at-ferry,0)),c_not(c_equal(r_primitive(at,0,1),r_primitive(at_g,0,1)))))"))
(:rule (:conditions (:c_b_pos f62) (:c_n_gt f123)) (:effects (:e_b_neg f62) (:e_n_bot f123)))
(:rule (:conditions (:c_b_pos f62) (:c_n_gt f123)) (:effects (:e_b_bot f62) (:e_n_inc f123)))
(:rule (:conditions (:c_b_neg f62) (:c_n_gt f123)) (:effects (:e_b_bot f62) (:e_n_dec f123)))
(:rule (:conditions (:c_b_neg f62) (:c_n_gt f123)) (:effects (:e_b_pos f62) (:e_n_dec f123)))
(:rule (:conditions (:c_b_pos f62) (:c_n_eq f123)) (:effects (:e_b_neg f62) (:e_n_bot f123)))
(:rule (:conditions (:c_b_pos f62) (:c_n_gt f123)) (:effects (:e_b_bot f62) (:e_n_dec f123)))
(:rule (:conditions (:c_b_neg f62) (:c_n_eq f123)) (:effects (:e_b_bot f62) (:e_n_inc f123)))
(:rule (:conditions (:c_b_neg f62) (:c_n_gt f123)) (:effects (:e_b_bot f62) (:e_n_bot f123)))
(:rule (:conditions (:c_b_pos f62) (:c_n_gt f123)) (:effects (:e_b_neg f62) (:e_n_inc f123)))
(:rule (:conditions (:c_b_pos f62) (:c_n_gt f123)) (:effects (:e_b_bot f62) (:e_n_bot f123)))
(:rule (:conditions (:c_b_neg f62) (:c_n_gt f123)) (:effects (:e_b_pos f62) (:e_n_bot f123)))
)
Numer of sketch rules: 11
Number of selected features: 2
Maximum complexity of selected feature: 9
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p122.pddl
Sketch cycles
Instance: 7
109
109
Number of unsatisfied D2 facts: 60
Number of D2 facts: 350 of 12544
2024-08-09 00:11:03,300 - Grounding Logic Program...
2024-08-09 00:11:03,563 - ..done
2024-08-09 00:11:03,564 - Solving Logic Program...
2024-08-09 00:11:03,596 - ..done
Clingo statistics:
{'call': 0.0, 'result': 1.0, 'signal': 0.0, 'exhausted': 1.0, 'costs': [15.0], 'lower': [15.0], 'concurrency': 32.0, 'winner': 0.0, 'times': {'total': 1.101154088973999, 'cpu': 1.2539840000000027, 'solve': 0.01744699478149414, 'unsat': 0.00946807861328125, 'sat': 0.002346038818359375}, 'models': {'enumerated': 21.0, 'optimal': 1.0}}
Solution cost: [15.0]
Total time: 1.101154088973999
CPU time: 1.2539840000000027
Solve time: 0.01744699478149414
2024-08-09 00:11:03,720 - Learned the following sketch:
(:policy
(:booleans )
(:numericals (f48 "n_count(c_primitive(on,0))") (f149 "n_count(c_some(r_primitive(at,0,1),c_primitive(at-ferry,0)))") (f73 "n_count(c_and(c_primitive(on,0),c_some(r_primitive(at_g,0,1),c_primitive(at-ferry,0))))"))
(:rule (:conditions (:c_n_eq f48) (:c_n_gt f149) (:c_n_eq f73)) (:effects (:e_n_inc f48) (:e_n_dec f149) (:e_n_bot f73)))
(:rule (:conditions (:c_n_eq f48) (:c_n_gt f149) (:c_n_eq f73)) (:effects (:e_n_bot f48) (:e_n_inc f149) (:e_n_bot f73)))
(:rule (:conditions (:c_n_gt f48) (:c_n_eq f149) (:c_n_eq f73)) (:effects (:e_n_bot f48) (:e_n_inc f149) (:e_n_inc f73)))
(:rule (:conditions (:c_n_gt f48) (:c_n_gt f149) (:c_n_gt f73)) (:effects (:e_n_dec f48) (:e_n_inc f149) (:e_n_dec f73)))
(:rule (:conditions (:c_n_eq f48) (:c_n_eq f149) (:c_n_eq f73)) (:effects (:e_n_bot f48) (:e_n_inc f149) (:e_n_bot f73)))
(:rule (:conditions (:c_n_gt f48) (:c_n_gt f149) (:c_n_eq f73)) (:effects (:e_n_bot f48) (:e_n_dec f149) (:e_n_inc f73)))
(:rule (:conditions (:c_n_gt f48) (:c_n_eq f149) (:c_n_gt f73)) (:effects (:e_n_dec f48) (:e_n_inc f149) (:e_n_dec f73)))
(:rule (:conditions (:c_n_gt f48) (:c_n_gt f149) (:c_n_eq f73)) (:effects (:e_n_bot f48) (:e_n_bot f149) (:e_n_inc f73)))
(:rule (:conditions (:c_n_gt f48) (:c_n_eq f149) (:c_n_eq f73)) (:effects (:e_n_bot f48) (:e_n_bot f149) (:e_n_inc f73)))
(:rule (:conditions (:c_n_eq f48) (:c_n_gt f149) (:c_n_eq f73)) (:effects (:e_n_bot f48) (:e_n_bot f149) (:e_n_bot f73)))
)
Numer of sketch rules: 10
Number of selected features: 3
Maximum complexity of selected feature: 6
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p122.pddl
Sketch cycles
Instance: 7
104
103
103
Number of unsatisfied D2 facts: 19
Number of D2 facts: 369 of 12544
2024-08-09 00:11:04,560 - Grounding Logic Program...
2024-08-09 00:11:04,827 - ..done
2024-08-09 00:11:04,827 - Solving Logic Program...
2024-08-09 00:11:04,867 - ..done
Clingo statistics:
{'call': 0.0, 'result': 1.0, 'signal': 0.0, 'exhausted': 1.0, 'costs': [16.0], 'lower': [16.0], 'concurrency': 32.0, 'winner': 0.0, 'times': {'total': 1.1435978412628174, 'cpu': 1.348742999999999, 'solve': 0.025178909301757812, 'unsat': 0.01631903648376465, 'sat': 0.0025119781494140625}, 'models': {'enumerated': 25.0, 'optimal': 1.0}}
Solution cost: [16.0]
Total time: 1.1435978412628174
CPU time: 1.348742999999999
Solve time: 0.025178909301757812
2024-08-09 00:11:04,996 - Learned the following sketch:
(:policy
(:booleans )
(:numericals (f1 "n_count(c_and(c_not(c_primitive(on,0)),c_some(r_primitive(at_g,0,1),c_primitive(at-ferry,0))))") (f90 "n_count(c_some(r_inverse(r_primitive(at_g,0,1)),c_some(r_primitive(at,0,1),c_primitive(at-ferry,0))))"))
(:rule (:conditions (:c_n_gt f1) (:c_n_gt f90)) (:effects (:e_n_dec f1) (:e_n_bot f90)))
(:rule (:conditions (:c_n_gt f1) (:c_n_gt f90)) (:effects (:e_n_bot f1) (:e_n_bot f90)))
(:rule (:conditions (:c_n_gt f1) (:c_n_eq f90)) (:effects (:e_n_bot f1) (:e_n_inc f90)))
(:rule (:conditions (:c_n_eq f1) (:c_n_gt f90)) (:effects (:e_n_inc f1) (:e_n_inc f90)))
(:rule (:conditions (:c_n_gt f1) (:c_n_eq f90)) (:effects (:e_n_dec f1) (:e_n_inc f90)))
(:rule (:conditions (:c_n_gt f1) (:c_n_gt f90)) (:effects (:e_n_bot f1) (:e_n_dec f90)))
(:rule (:conditions (:c_n_gt f1) (:c_n_eq f90)) (:effects (:e_n_inc f1) (:e_n_inc f90)))
(:rule (:conditions (:c_n_gt f1) (:c_n_gt f90)) (:effects (:e_n_dec f1) (:e_n_inc f90)))
(:rule (:conditions (:c_n_gt f1) (:c_n_gt f90)) (:effects (:e_n_inc f1) (:e_n_inc f90)))
(:rule (:conditions (:c_n_gt f1) (:c_n_gt f90)) (:effects (:e_n_bot f1) (:e_n_inc f90)))
(:rule (:conditions (:c_n_eq f1) (:c_n_eq f90)) (:effects (:e_n_inc f1) (:e_n_inc f90)))
(:rule (:conditions (:c_n_gt f1) (:c_n_gt f90)) (:effects (:e_n_inc f1) (:e_n_bot f90)))
(:rule (:conditions (:c_n_eq f1) (:c_n_gt f90)) (:effects (:e_n_bot f1) (:e_n_dec f90)))
(:rule (:conditions (:c_n_eq f1) (:c_n_eq f90)) (:effects (:e_n_bot f1) (:e_n_bot f90)))
(:rule (:conditions (:c_n_eq f1) (:c_n_gt f90)) (:effects (:e_n_bot f1) (:e_n_bot f90)))
(:rule (:conditions (:c_n_eq f1) (:c_n_gt f90)) (:effects (:e_n_inc f1) (:e_n_dec f90)))
)
Numer of sketch rules: 16
Number of selected features: 2
Maximum complexity of selected feature: 7
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p122.pddl
Sketch cycles
Instance: 7
109
109
Number of unsatisfied D2 facts: 146
Number of D2 facts: 515 of 12544
2024-08-09 00:11:05,805 - Grounding Logic Program...
2024-08-09 00:11:06,093 - ..done
2024-08-09 00:11:06,094 - Solving Logic Program...
2024-08-09 00:11:06,138 - ..done
Clingo statistics:
{'call': 0.0, 'result': 1.0, 'signal': 0.0, 'exhausted': 1.0, 'costs': [17.0], 'lower': [17.0], 'concurrency': 32.0, 'winner': 30.0, 'times': {'total': 1.1390228271484375, 'cpu': 1.4076510000000013, 'solve': 0.027889013290405273, 'unsat': 0.01361703872680664, 'sat': 0.0038890838623046875}, 'models': {'enumerated': 42.0, 'optimal': 1.0}}
Solution cost: [17.0]
Total time: 1.1390228271484375
CPU time: 1.4076510000000013
Solve time: 0.027889013290405273
2024-08-09 00:11:06,265 - Learned the following sketch:
(:policy
(:booleans )
(:numericals (f28 "n_count(c_some(r_primitive(at_g,0,1),c_primitive(at-ferry,0)))") (f149 "n_count(c_some(r_primitive(at,0,1),c_primitive(at-ferry,0)))") (f73 "n_count(c_and(c_primitive(on,0),c_some(r_primitive(at_g,0,1),c_primitive(at-ferry,0))))"))
(:rule (:conditions (:c_n_gt f28) (:c_n_gt f149) (:c_n_eq f73)) (:effects (:e_n_bot f28) (:e_n_dec f149) (:e_n_bot f73)))
(:rule (:conditions (:c_n_gt f28) (:c_n_gt f149) (:c_n_eq f73)) (:effects (:e_n_dec f28) (:e_n_inc f149) (:e_n_bot f73)))
(:rule (:conditions (:c_n_gt f28) (:c_n_eq f149) (:c_n_eq f73)) (:effects (:e_n_dec f28) (:e_n_inc f149) (:e_n_inc f73)))
(:rule (:conditions (:c_n_gt f28) (:c_n_gt f149) (:c_n_gt f73)) (:effects (:e_n_bot f28) (:e_n_inc f149) (:e_n_dec f73)))
(:rule (:conditions (:c_n_gt f28) (:c_n_eq f149) (:c_n_eq f73)) (:effects (:e_n_dec f28) (:e_n_inc f149) (:e_n_bot f73)))
(:rule (:conditions (:c_n_gt f28) (:c_n_gt f149) (:c_n_eq f73)) (:effects (:e_n_dec f149) (:e_n_inc f28) (:e_n_inc f73)))
(:rule (:conditions (:c_n_gt f28) (:c_n_eq f149) (:c_n_gt f73)) (:effects (:e_n_bot f28) (:e_n_inc f149) (:e_n_dec f73)))
(:rule (:conditions (:c_n_gt f28) (:c_n_gt f149) (:c_n_eq f73)) (:effects (:e_n_bot f149) (:e_n_inc f28) (:e_n_inc f73)))
(:rule (:conditions (:c_n_gt f28) (:c_n_gt f149) (:c_n_eq f73)) (:effects (:e_n_bot f149) (:e_n_dec f28) (:e_n_inc f73)))
(:rule (:conditions (:c_n_gt f28) (:c_n_gt f149) (:c_n_eq f73)) (:effects (:e_n_inc f149) (:e_n_inc f28) (:e_n_bot f73)))
(:rule (:conditions (:c_n_gt f28) (:c_n_eq f149) (:c_n_eq f73)) (:effects (:e_n_inc f149) (:e_n_inc f28) (:e_n_inc f73)))
(:rule (:conditions (:c_n_gt f28) (:c_n_eq f149) (:c_n_eq f73)) (:effects (:e_n_inc f149) (:e_n_inc f28) (:e_n_bot f73)))
(:rule (:conditions (:c_n_gt f28) (:c_n_gt f149) (:c_n_eq f73)) (:effects (:e_n_dec f149) (:e_n_dec f28) (:e_n_inc f73)))
(:rule (:conditions (:c_n_gt f149) (:c_n_eq f28) (:c_n_eq f73)) (:effects (:e_n_bot f28) (:e_n_dec f149) (:e_n_bot f73)))
(:rule (:conditions (:c_n_eq f149) (:c_n_eq f28) (:c_n_eq f73)) (:effects (:e_n_bot f149) (:e_n_inc f28) (:e_n_inc f73)))
(:rule (:conditions (:c_n_gt f149) (:c_n_eq f28) (:c_n_eq f73)) (:effects (:e_n_dec f149) (:e_n_inc f28) (:e_n_inc f73)))
(:rule (:conditions (:c_n_gt f28) (:c_n_gt f149) (:c_n_eq f73)) (:effects (:e_n_bot f149) (:e_n_dec f28) (:e_n_bot f73)))
(:rule (:conditions (:c_n_eq f149) (:c_n_eq f28) (:c_n_eq f73)) (:effects (:e_n_inc f149) (:e_n_inc f28) (:e_n_inc f73)))
)
Numer of sketch rules: 18
Number of selected features: 3
Maximum complexity of selected feature: 6
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p122.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p25.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p76.pddl
2024-08-09 00:11:06,270 - Verifying learned sketch...
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p122.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p25.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p76.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p25.pddl
Sketch fails to bound width of a state
/proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p32.pddl
Instance: 1
Source_state: 6
Dlplan state: (instance index=1, state index=11, atoms={empty-ferry(), at-ferry(loc1), at(car1,loc3)})
2024-08-09 00:11:06,275 - ..done
Smallest unsolved instance: 1
Selected instances: [7, 0, 3, 1]
2024-08-09 00:11:06,275 - Iteration: 19
     id: 7 problem_filepath: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p122.pddl num_states: 40 num_state_equivalences: 26
     id: 0 problem_filepath: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p25.pddl num_states: 6 num_state_equivalences: 6
     id: 3 problem_filepath: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p76.pddl num_states: 16 num_state_equivalences: 10
     id: 1 problem_filepath: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p32.pddl num_states: 12 num_state_equivalences: 7
2024-08-09 00:11:06,288 - Initialize global faithful abstract states...
2024-08-09 00:11:06,288 - ..done
2024-08-09 00:11:06,288 - Initializing DomainFeatureData...
[t=69.6579s, 2571272 KB] Started generating base features of complexity 1.
[t=69.6581s, 2571272 KB] Complexity 1:
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 0
    c_not: 0
    c_equal: 0
    c_some: 0
    c_all: 0
    r_restrict: 0
    r_and: 0
    r_inverse: 0
    r_transitive_closure: 0
    b_empty: 0
    n_count: 0
    n_concept_distance: 0
[t=69.6584s, 2571272 KB] Finished generating base features.
[t=69.6585s, 2571272 KB] Started generating composite features. 
[t=69.6587s, 2571272 KB] Complexity 2:
Total concept elements: 8
Total role elements: 4
Total numerical elements: 7
Total boolean elements: 4
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 0
    c_not: 2
    c_equal: 0
    c_some: 0
    c_all: 0
    r_restrict: 0
    r_and: 0
    r_inverse: 2
    r_transitive_closure: 0
    b_empty: 2
    n_count: 7
    n_concept_distance: 0
[t=69.6598s, 2571272 KB] Complexity 3:
Total concept elements: 15
Total role elements: 8
Total numerical elements: 9
Total boolean elements: 4
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 0
    c_not: 2
    c_equal: 1
    c_some: 3
    c_all: 3
    r_restrict: 3
    r_and: 1
    r_inverse: 2
    r_transitive_closure: 0
    b_empty: 2
    n_count: 9
    n_concept_distance: 0
[t=69.6609s, 2571272 KB] Complexity 4:
Total concept elements: 27
Total role elements: 11
Total numerical elements: 17
Total boolean elements: 7
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 1
    c_not: 7
    c_equal: 1
    c_some: 6
    c_all: 6
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 5
    n_count: 16
    n_concept_distance: 1
[t=69.6628s, 2571272 KB] Complexity 5:
Total concept elements: 37
Total role elements: 11
Total numerical elements: 28
Total boolean elements: 10
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 5
    c_not: 10
    c_equal: 1
    c_some: 7
    c_all: 8
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 8
    n_count: 27
    n_concept_distance: 1
[t=69.6658s, 2571272 KB] Complexity 6:
Total concept elements: 91
Total role elements: 11
Total numerical elements: 36
Total boolean elements: 13
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 23
    c_not: 15
    c_equal: 1
    c_some: 19
    c_all: 27
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 11
    n_count: 35
    n_concept_distance: 1
[t=69.6697s, 2571272 KB] Complexity 7:
Total concept elements: 143
Total role elements: 11
Total numerical elements: 95
Total boolean elements: 29
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 45
    c_not: 45
    c_equal: 1
    c_some: 19
    c_all: 27
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 27
    n_count: 88
    n_concept_distance: 7
[t=69.6801s, 2571272 KB] Complexity 8:
Total concept elements: 295
Total role elements: 11
Total numerical elements: 147
Total boolean elements: 38
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 98
    c_not: 61
    c_equal: 1
    c_some: 56
    c_all: 73
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 36
    n_count: 138
    n_concept_distance: 9
[t=69.6953s, 2571272 KB] Complexity 9:
Total concept elements: 536
Total role elements: 11
Total numerical elements: 304
Total boolean elements: 94
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 190
    c_not: 166
    c_equal: 1
    c_some: 73
    c_all: 100
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 92
    n_count: 289
    n_concept_distance: 15
[t=69.6956s, 2571272 KB] Finished generating composite features.
Features generated: 398
Features after 0/1 pruning (incomplete): 237
Features after soft changes pruning (incomplete): 202
Features after relevant changes pruning (complete): 158
2024-08-09 00:11:07,313 - ..done
2024-08-09 00:11:07,313 - Constructing PerStateFeatureValuations...
2024-08-09 00:11:07,319 - ..done
2024-08-09 00:11:07,319 - Constructing StatePairEquivalenceDatas...
2024-08-09 00:11:07,481 - ..done
2024-08-09 00:11:07,481 - Constructing TupleGraphEquivalences...
Tuple graph equivalence construction statistics:
Num nodes: 155
2024-08-09 00:11:07,486 - ..done
2024-08-09 00:11:07,487 - Minimizing TupleGraphEquivalences...
Tuple graph equivalence minimization statistics:
Num orig nodes: 155
Num kept nodes: 145
2024-08-09 00:11:07,489 - ..done
Number of initial D2 facts: 130
Number of D2 facts: 130 of 13689
2024-08-09 00:11:07,794 - Grounding Logic Program...
2024-08-09 00:11:08,033 - ..done
2024-08-09 00:11:08,034 - Solving Logic Program...
2024-08-09 00:11:08,050 - ..done
Clingo statistics:
{'call': 0.0, 'result': 1.0, 'signal': 0.0, 'exhausted': 1.0, 'costs': [8.0], 'lower': [8.0], 'concurrency': 32.0, 'winner': 0.0, 'times': {'total': 0.5599019527435303, 'cpu': 0.5869610000000165, 'solve': 0.003885984420776367, 'unsat': 0.0008959770202636719, 'sat': 0.0019021034240722656}, 'models': {'enumerated': 19.0, 'optimal': 1.0}}
Solution cost: [8.0]
Total time: 0.5599019527435303
CPU time: 0.5869610000000165
Solve time: 0.003885984420776367
2024-08-09 00:11:08,178 - Learned the following sketch:
(:policy
(:booleans (f62 "b_nullary(empty-ferry)"))
(:numericals (f28 "n_count(c_some(r_primitive(at_g,0,1),c_primitive(at-ferry,0)))"))
(:rule (:conditions (:c_b_pos f62) (:c_n_gt f28)) (:effects (:e_b_bot f62) (:e_n_dec f28)))
(:rule (:conditions (:c_b_pos f62) (:c_n_gt f28)) (:effects (:e_b_neg f62) (:e_n_bot f28)))
(:rule (:conditions (:c_b_neg f62) (:c_n_gt f28)) (:effects (:e_b_pos f62) (:e_n_bot f28)))
(:rule (:conditions (:c_b_neg f62) (:c_n_gt f28)) (:effects (:e_b_bot f62) (:e_n_inc f28)))
(:rule (:conditions (:c_b_neg f62) (:c_n_gt f28)) (:effects (:e_b_bot f62) (:e_n_dec f28)))
(:rule (:conditions (:c_b_pos f62) (:c_n_gt f28)) (:effects (:e_b_bot f62) (:e_n_inc f28)))
(:rule (:conditions (:c_b_pos f62) (:c_n_eq f28)) (:effects (:e_b_neg f62) (:e_n_bot f28)))
(:rule (:conditions (:c_b_neg f62) (:c_n_eq f28)) (:effects (:e_b_bot f62) (:e_n_inc f28)))
(:rule (:conditions (:c_b_pos f62) (:c_n_eq f28)) (:effects (:e_b_bot f62) (:e_n_bot f28)))
)
Numer of sketch rules: 9
Number of selected features: 2
Maximum complexity of selected feature: 4
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p122.pddl
Sketch cycles
Instance: 7
109
88
89
90
91
92
93
94
88
Number of unsatisfied D2 facts: 193
Number of D2 facts: 323 of 13689
2024-08-09 00:11:09,061 - Grounding Logic Program...
2024-08-09 00:11:09,365 - ..done
2024-08-09 00:11:09,366 - Solving Logic Program...
2024-08-09 00:11:09,395 - ..done
Clingo statistics:
{'call': 0.0, 'result': 1.0, 'signal': 0.0, 'exhausted': 1.0, 'costs': [13.0], 'lower': [13.0], 'concurrency': 32.0, 'winner': 9.0, 'times': {'total': 1.213001012802124, 'cpu': 1.3477019999999982, 'solve': 0.013055801391601562, 'unsat': 0.006684780120849609, 'sat': 0.0023369789123535156}, 'models': {'enumerated': 33.0, 'optimal': 1.0}}
Solution cost: [13.0]
Total time: 1.213001012802124
CPU time: 1.3477019999999982
Solve time: 0.013055801391601562
2024-08-09 00:11:09,528 - Learned the following sketch:
(:policy
(:booleans (f62 "b_nullary(empty-ferry)"))
(:numericals (f149 "n_count(c_some(r_primitive(at,0,1),c_primitive(at-ferry,0)))") (f80 "n_count(r_and(r_primitive(at,0,1),r_primitive(at_g,0,1)))"))
(:rule (:conditions (:c_b_pos f62) (:c_n_gt f149) (:c_n_eq f80)) (:effects (:e_b_neg f62) (:e_n_dec f149) (:e_n_bot f80)))
(:rule (:conditions (:c_b_pos f62) (:c_n_gt f149) (:c_n_eq f80)) (:effects (:e_b_bot f62) (:e_n_dec f149) (:e_n_bot f80)))
(:rule (:conditions (:c_b_neg f62) (:c_n_eq f149) (:c_n_eq f80)) (:effects (:e_b_bot f62) (:e_n_inc f149) (:e_n_bot f80)))
(:rule (:conditions (:c_b_neg f62) (:c_n_gt f149) (:c_n_eq f80)) (:effects (:e_b_pos f62) (:e_n_inc f149) (:e_n_inc f80)))
(:rule (:conditions (:c_b_pos f62) (:c_n_gt f149) (:c_n_gt f80)) (:effects (:e_b_neg f62) (:e_n_dec f149) (:e_n_bot f80)))
(:rule (:conditions (:c_b_pos f62) (:c_n_eq f149) (:c_n_gt f80)) (:effects (:e_b_bot f62) (:e_n_inc f149) (:e_n_bot f80)))
(:rule (:conditions (:c_b_neg f62) (:c_n_gt f149) (:c_n_gt f80)) (:effects (:e_b_bot f62) (:e_n_dec f149) (:e_n_bot f80)))
(:rule (:conditions (:c_b_neg f62) (:c_n_eq f149) (:c_n_gt f80)) (:effects (:e_b_pos f62) (:e_n_inc f149) (:e_n_inc f80)))
(:rule (:conditions (:c_b_pos f62) (:c_n_gt f149) (:c_n_gt f80)) (:effects (:e_b_bot f62) (:e_n_inc f149) (:e_n_bot f80)))
(:rule (:conditions (:c_b_neg f62) (:c_n_gt f149) (:c_n_gt f80)) (:effects (:e_b_bot f62) (:e_n_bot f149) (:e_n_bot f80)))
(:rule (:conditions (:c_b_neg f62) (:c_n_gt f149) (:c_n_gt f80)) (:effects (:e_b_pos f62) (:e_n_inc f149) (:e_n_inc f80)))
(:rule (:conditions (:c_b_pos f62) (:c_n_gt f149) (:c_n_gt f80)) (:effects (:e_b_neg f62) (:e_n_dec f149) (:e_n_dec f80)))
(:rule (:conditions (:c_b_neg f62) (:c_n_gt f149) (:c_n_eq f80)) (:effects (:e_b_bot f62) (:e_n_bot f149) (:e_n_bot f80)))
(:rule (:conditions (:c_b_neg f62) (:c_n_gt f149) (:c_n_eq f80)) (:effects (:e_b_pos f62) (:e_n_inc f149) (:e_n_bot f80)))
(:rule (:conditions (:c_b_neg f62) (:c_n_eq f149) (:c_n_gt f80)) (:effects (:e_b_pos f62) (:e_n_inc f149) (:e_n_bot f80)))
(:rule (:conditions (:c_b_neg f62) (:c_n_gt f149) (:c_n_gt f80)) (:effects (:e_b_pos f62) (:e_n_inc f149) (:e_n_bot f80)))
(:rule (:conditions (:c_b_neg f62) (:c_n_eq f149) (:c_n_gt f80)) (:effects (:e_b_bot f62) (:e_n_inc f149) (:e_n_bot f80)))
(:rule (:conditions (:c_b_pos f62) (:c_n_eq f149) (:c_n_eq f80)) (:effects (:e_b_bot f62) (:e_n_inc f149) (:e_n_bot f80)))
(:rule (:conditions (:c_b_neg f62) (:c_n_eq f149) (:c_n_eq f80)) (:effects (:e_b_bot f62) (:e_n_bot f149) (:e_n_bot f80)))
(:rule (:conditions (:c_b_neg f62) (:c_n_eq f149) (:c_n_eq f80)) (:effects (:e_b_pos f62) (:e_n_inc f149) (:e_n_inc f80)))
(:rule (:conditions (:c_b_pos f62) (:c_n_eq f149) (:c_n_eq f80)) (:effects (:e_b_bot f62) (:e_n_bot f149) (:e_n_bot f80)))
(:rule (:conditions (:c_b_neg f62) (:c_n_gt f149) (:c_n_eq f80)) (:effects (:e_b_bot f62) (:e_n_dec f149) (:e_n_bot f80)))
(:rule (:conditions (:c_b_pos f62) (:c_n_gt f149) (:c_n_gt f80)) (:effects (:e_b_bot f62) (:e_n_bot f149) (:e_n_bot f80)))
)
Numer of sketch rules: 23
Number of selected features: 3
Maximum complexity of selected feature: 4
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p122.pddl
Sketch cycles
Instance: 7
109
109
Number of unsatisfied D2 facts: 97
Number of D2 facts: 420 of 13689
2024-08-09 00:11:10,442 - Grounding Logic Program...
2024-08-09 00:11:10,765 - ..done
2024-08-09 00:11:10,766 - Solving Logic Program...
2024-08-09 00:11:10,828 - ..done
Clingo statistics:
{'call': 0.0, 'result': 1.0, 'signal': 0.0, 'exhausted': 1.0, 'costs': [17.0], 'lower': [17.0], 'concurrency': 32.0, 'winner': 2.0, 'times': {'total': 1.2951760292053223, 'cpu': 1.5420510000000007, 'solve': 0.025254011154174805, 'unsat': 0.014306068420410156, 'sat': 0.004518032073974609}, 'models': {'enumerated': 24.0, 'optimal': 1.0}}
Solution cost: [17.0]
Total time: 1.2951760292053223
CPU time: 1.5420510000000007
Solve time: 0.025254011154174805
2024-08-09 00:11:10,968 - Learned the following sketch:
(:policy
(:booleans )
(:numericals (f28 "n_count(c_some(r_primitive(at_g,0,1),c_primitive(at-ferry,0)))") (f149 "n_count(c_some(r_primitive(at,0,1),c_primitive(at-ferry,0)))") (f73 "n_count(c_and(c_primitive(on,0),c_some(r_primitive(at_g,0,1),c_primitive(at-ferry,0))))"))
(:rule (:conditions (:c_n_gt f28) (:c_n_gt f149) (:c_n_eq f73)) (:effects (:e_n_bot f28) (:e_n_dec f149) (:e_n_bot f73)))
(:rule (:conditions (:c_n_gt f28) (:c_n_eq f149) (:c_n_eq f73)) (:effects (:e_n_dec f28) (:e_n_inc f149) (:e_n_inc f73)))
(:rule (:conditions (:c_n_gt f28) (:c_n_gt f149) (:c_n_gt f73)) (:effects (:e_n_bot f28) (:e_n_inc f149) (:e_n_dec f73)))
(:rule (:conditions (:c_n_gt f28) (:c_n_eq f149) (:c_n_eq f73)) (:effects (:e_n_dec f28) (:e_n_inc f149) (:e_n_bot f73)))
(:rule (:conditions (:c_n_gt f28) (:c_n_gt f149) (:c_n_eq f73)) (:effects (:e_n_dec f149) (:e_n_inc f28) (:e_n_inc f73)))
(:rule (:conditions (:c_n_gt f28) (:c_n_eq f149) (:c_n_gt f73)) (:effects (:e_n_bot f28) (:e_n_inc f149) (:e_n_dec f73)))
(:rule (:conditions (:c_n_gt f28) (:c_n_gt f149) (:c_n_eq f73)) (:effects (:e_n_dec f28) (:e_n_inc f149) (:e_n_bot f73)))
(:rule (:conditions (:c_n_gt f28) (:c_n_gt f149) (:c_n_eq f73)) (:effects (:e_n_bot f149) (:e_n_inc f28) (:e_n_inc f73)))
(:rule (:conditions (:c_n_gt f28) (:c_n_gt f149) (:c_n_eq f73)) (:effects (:e_n_bot f149) (:e_n_dec f28) (:e_n_inc f73)))
(:rule (:conditions (:c_n_gt f28) (:c_n_eq f149) (:c_n_eq f73)) (:effects (:e_n_inc f149) (:e_n_inc f28) (:e_n_inc f73)))
(:rule (:conditions (:c_n_gt f28) (:c_n_eq f149) (:c_n_eq f73)) (:effects (:e_n_inc f149) (:e_n_inc f28) (:e_n_bot f73)))
(:rule (:conditions (:c_n_gt f28) (:c_n_gt f149) (:c_n_eq f73)) (:effects (:e_n_dec f149) (:e_n_dec f28) (:e_n_inc f73)))
(:rule (:conditions (:c_n_gt f149) (:c_n_eq f28) (:c_n_eq f73)) (:effects (:e_n_bot f28) (:e_n_dec f149) (:e_n_bot f73)))
(:rule (:conditions (:c_n_eq f149) (:c_n_eq f28) (:c_n_eq f73)) (:effects (:e_n_bot f149) (:e_n_inc f28) (:e_n_inc f73)))
(:rule (:conditions (:c_n_eq f149) (:c_n_eq f28) (:c_n_eq f73)) (:effects (:e_n_bot f28) (:e_n_inc f149) (:e_n_bot f73)))
(:rule (:conditions (:c_n_gt f149) (:c_n_eq f28) (:c_n_eq f73)) (:effects (:e_n_dec f149) (:e_n_inc f28) (:e_n_inc f73)))
(:rule (:conditions (:c_n_gt f28) (:c_n_gt f149) (:c_n_eq f73)) (:effects (:e_n_bot f149) (:e_n_dec f28) (:e_n_bot f73)))
(:rule (:conditions (:c_n_eq f149) (:c_n_eq f28) (:c_n_eq f73)) (:effects (:e_n_inc f149) (:e_n_inc f28) (:e_n_inc f73)))
)
Numer of sketch rules: 18
Number of selected features: 3
Maximum complexity of selected feature: 6
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p122.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p25.pddl
Sketch cycles
Instance: 0
0
2
2
Number of unsatisfied D2 facts: 6
Number of D2 facts: 426 of 13689
2024-08-09 00:11:11,836 - Grounding Logic Program...
2024-08-09 00:11:12,142 - ..done
2024-08-09 00:11:12,143 - Solving Logic Program...
2024-08-09 00:11:12,201 - ..done
Clingo statistics:
{'call': 0.0, 'result': 1.0, 'signal': 0.0, 'exhausted': 1.0, 'costs': [18.0], 'lower': [18.0], 'concurrency': 32.0, 'winner': 31.0, 'times': {'total': 1.2273471355438232, 'cpu': 1.6867620000000016, 'solve': 0.0422511100769043, 'unsat': 0.024406909942626953, 'sat': 0.0033011436462402344}, 'models': {'enumerated': 31.0, 'optimal': 1.0}}
Solution cost: [18.0]
Total time: 1.2273471355438232
CPU time: 1.6867620000000016
Solve time: 0.0422511100769043
2024-08-09 00:11:12,335 - Learned the following sketch:
(:policy
(:booleans )
(:numericals (f28 "n_count(c_some(r_primitive(at_g,0,1),c_primitive(at-ferry,0)))") (f149 "n_count(c_some(r_primitive(at,0,1),c_primitive(at-ferry,0)))") (f114 "n_count(c_and(c_primitive(on,0),c_not(c_some(r_primitive(at_g,0,1),c_primitive(at-ferry,0)))))"))
(:rule (:conditions (:c_n_gt f28) (:c_n_gt f149) (:c_n_eq f114)) (:effects (:e_n_bot f28) (:e_n_dec f149) (:e_n_inc f114)))
(:rule (:conditions (:c_n_gt f28) (:c_n_gt f149) (:c_n_eq f114)) (:effects (:e_n_dec f28) (:e_n_inc f149) (:e_n_bot f114)))
(:rule (:conditions (:c_n_gt f28) (:c_n_eq f149) (:c_n_gt f114)) (:effects (:e_n_dec f28) (:e_n_inc f149) (:e_n_dec f114)))
(:rule (:conditions (:c_n_gt f28) (:c_n_gt f149) (:c_n_eq f114)) (:effects (:e_n_bot f28) (:e_n_inc f149) (:e_n_bot f114)))
(:rule (:conditions (:c_n_gt f28) (:c_n_eq f149) (:c_n_eq f114)) (:effects (:e_n_dec f28) (:e_n_inc f149) (:e_n_bot f114)))
(:rule (:conditions (:c_n_gt f28) (:c_n_gt f149) (:c_n_gt f114)) (:effects (:e_n_dec f149) (:e_n_inc f28) (:e_n_dec f114)))
(:rule (:conditions (:c_n_gt f28) (:c_n_eq f149) (:c_n_eq f114)) (:effects (:e_n_bot f28) (:e_n_inc f149) (:e_n_bot f114)))
(:rule (:conditions (:c_n_gt f28) (:c_n_gt f149) (:c_n_gt f114)) (:effects (:e_n_bot f149) (:e_n_inc f28) (:e_n_dec f114)))
(:rule (:conditions (:c_n_gt f28) (:c_n_gt f149) (:c_n_gt f114)) (:effects (:e_n_bot f149) (:e_n_dec f28) (:e_n_dec f114)))
(:rule (:conditions (:c_n_gt f28) (:c_n_gt f149) (:c_n_eq f114)) (:effects (:e_n_inc f149) (:e_n_inc f28) (:e_n_bot f114)))
(:rule (:conditions (:c_n_gt f28) (:c_n_eq f149) (:c_n_gt f114)) (:effects (:e_n_inc f149) (:e_n_inc f28) (:e_n_dec f114)))
(:rule (:conditions (:c_n_gt f28) (:c_n_eq f149) (:c_n_eq f114)) (:effects (:e_n_inc f149) (:e_n_inc f28) (:e_n_bot f114)))
(:rule (:conditions (:c_n_gt f28) (:c_n_gt f149) (:c_n_gt f114)) (:effects (:e_n_dec f149) (:e_n_dec f28) (:e_n_dec f114)))
(:rule (:conditions (:c_n_gt f149) (:c_n_eq f28) (:c_n_eq f114)) (:effects (:e_n_bot f28) (:e_n_dec f149) (:e_n_inc f114)))
(:rule (:conditions (:c_n_eq f149) (:c_n_eq f28) (:c_n_gt f114)) (:effects (:e_n_bot f149) (:e_n_inc f28) (:e_n_dec f114)))
(:rule (:conditions (:c_n_eq f149) (:c_n_eq f28) (:c_n_eq f114)) (:effects (:e_n_bot f149) (:e_n_inc f28) (:e_n_bot f114)))
(:rule (:conditions (:c_n_gt f149) (:c_n_eq f28) (:c_n_gt f114)) (:effects (:e_n_dec f149) (:e_n_inc f28) (:e_n_dec f114)))
(:rule (:conditions (:c_n_gt f28) (:c_n_gt f149) (:c_n_eq f114)) (:effects (:e_n_bot f149) (:e_n_dec f28) (:e_n_bot f114)))
(:rule (:conditions (:c_n_eq f149) (:c_n_eq f28) (:c_n_gt f114)) (:effects (:e_n_inc f149) (:e_n_inc f28) (:e_n_dec f114)))
)
Numer of sketch rules: 19
Number of selected features: 3
Maximum complexity of selected feature: 7
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p122.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p25.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p76.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p32.pddl
2024-08-09 00:11:12,341 - Verifying learned sketch...
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p122.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p25.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p76.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p32.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p25.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p32.pddl
Sketch fails to bound width of a state
/proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p75.pddl
Instance: 2
Source_state: 18
Dlplan state: (instance index=2, state index=6, atoms={at(car2,loc1), at-ferry(loc1), on(car1)})
2024-08-09 00:11:12,347 - ..done
Smallest unsolved instance: 2
Selected instances: [7, 0, 3, 1, 2]
2024-08-09 00:11:12,347 - Iteration: 20
     id: 7 problem_filepath: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p122.pddl num_states: 40 num_state_equivalences: 26
     id: 0 problem_filepath: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p25.pddl num_states: 6 num_state_equivalences: 6
     id: 3 problem_filepath: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p76.pddl num_states: 16 num_state_equivalences: 10
     id: 1 problem_filepath: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p32.pddl num_states: 12 num_state_equivalences: 7
     id: 2 problem_filepath: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p75.pddl num_states: 16 num_state_equivalences: 8
2024-08-09 00:11:12,367 - Initialize global faithful abstract states...
2024-08-09 00:11:12,367 - ..done
2024-08-09 00:11:12,367 - Initializing DomainFeatureData...
[t=75.736s, 2571272 KB] Started generating base features of complexity 1.
[t=75.7363s, 2571272 KB] Complexity 1:
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 0
    c_not: 0
    c_equal: 0
    c_some: 0
    c_all: 0
    r_restrict: 0
    r_and: 0
    r_inverse: 0
    r_transitive_closure: 0
    b_empty: 0
    n_count: 0
    n_concept_distance: 0
[t=75.7366s, 2571272 KB] Finished generating base features.
[t=75.7367s, 2571272 KB] Started generating composite features. 
[t=75.7369s, 2571272 KB] Complexity 2:
Total concept elements: 8
Total role elements: 4
Total numerical elements: 7
Total boolean elements: 4
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 0
    c_not: 2
    c_equal: 0
    c_some: 0
    c_all: 0
    r_restrict: 0
    r_and: 0
    r_inverse: 2
    r_transitive_closure: 0
    b_empty: 2
    n_count: 7
    n_concept_distance: 0
[t=75.7381s, 2571272 KB] Complexity 3:
Total concept elements: 15
Total role elements: 8
Total numerical elements: 9
Total boolean elements: 4
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 0
    c_not: 2
    c_equal: 1
    c_some: 3
    c_all: 3
    r_restrict: 3
    r_and: 1
    r_inverse: 2
    r_transitive_closure: 0
    b_empty: 2
    n_count: 9
    n_concept_distance: 0
[t=75.7393s, 2571272 KB] Complexity 4:
Total concept elements: 27
Total role elements: 11
Total numerical elements: 17
Total boolean elements: 7
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 1
    c_not: 7
    c_equal: 1
    c_some: 6
    c_all: 6
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 5
    n_count: 16
    n_concept_distance: 1
[t=75.7416s, 2571272 KB] Complexity 5:
Total concept elements: 37
Total role elements: 11
Total numerical elements: 28
Total boolean elements: 10
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 5
    c_not: 10
    c_equal: 1
    c_some: 7
    c_all: 8
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 8
    n_count: 27
    n_concept_distance: 1
[t=75.7449s, 2571272 KB] Complexity 6:
Total concept elements: 91
Total role elements: 11
Total numerical elements: 36
Total boolean elements: 13
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 23
    c_not: 15
    c_equal: 1
    c_some: 19
    c_all: 27
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 11
    n_count: 35
    n_concept_distance: 1
[t=75.7494s, 2571272 KB] Complexity 7:
Total concept elements: 143
Total role elements: 11
Total numerical elements: 95
Total boolean elements: 29
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 45
    c_not: 45
    c_equal: 1
    c_some: 19
    c_all: 27
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 27
    n_count: 88
    n_concept_distance: 7
[t=75.7613s, 2571272 KB] Complexity 8:
Total concept elements: 295
Total role elements: 11
Total numerical elements: 147
Total boolean elements: 38
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 98
    c_not: 61
    c_equal: 1
    c_some: 56
    c_all: 73
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 36
    n_count: 138
    n_concept_distance: 9
[t=75.7784s, 2571272 KB] Complexity 9:
Total concept elements: 536
Total role elements: 11
Total numerical elements: 304
Total boolean elements: 94
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 190
    c_not: 166
    c_equal: 1
    c_some: 73
    c_all: 100
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 92
    n_count: 289
    n_concept_distance: 15
[t=75.7788s, 2571272 KB] Finished generating composite features.
Features generated: 398
Features after 0/1 pruning (incomplete): 237
Features after soft changes pruning (incomplete): 202
Features after relevant changes pruning (complete): 158
2024-08-09 00:11:13,550 - ..done
2024-08-09 00:11:13,550 - Constructing PerStateFeatureValuations...
2024-08-09 00:11:13,557 - ..done
2024-08-09 00:11:13,557 - Constructing StatePairEquivalenceDatas...
2024-08-09 00:11:13,744 - ..done
2024-08-09 00:11:13,744 - Constructing TupleGraphEquivalences...
Tuple graph equivalence construction statistics:
Num nodes: 179
2024-08-09 00:11:13,749 - ..done
2024-08-09 00:11:13,749 - Minimizing TupleGraphEquivalences...
Tuple graph equivalence minimization statistics:
Num orig nodes: 179
Num kept nodes: 167
2024-08-09 00:11:13,751 - ..done
Number of initial D2 facts: 143
Number of D2 facts: 143 of 15129
2024-08-09 00:11:14,098 - Grounding Logic Program...
2024-08-09 00:11:14,354 - ..done
2024-08-09 00:11:14,355 - Solving Logic Program...
2024-08-09 00:11:14,374 - ..done
Clingo statistics:
{'call': 0.0, 'result': 1.0, 'signal': 0.0, 'exhausted': 1.0, 'costs': [11.0], 'lower': [11.0], 'concurrency': 32.0, 'winner': 31.0, 'times': {'total': 0.620837926864624, 'cpu': 0.6569619999999929, 'solve': 0.005760908126831055, 'unsat': 0.0019910335540771484, 'sat': 0.0020627975463867188}, 'models': {'enumerated': 19.0, 'optimal': 1.0}}
Solution cost: [11.0]
Total time: 0.620837926864624
CPU time: 0.6569619999999929
Solve time: 0.005760908126831055
2024-08-09 00:11:14,510 - Learned the following sketch:
(:policy
(:booleans )
(:numericals (f60 "n_count(c_not(c_all(r_primitive(at,0,1),c_primitive(at-ferry,0))))") (f80 "n_count(r_and(r_primitive(at,0,1),r_primitive(at_g,0,1)))"))
(:rule (:conditions (:c_n_gt f60) (:c_n_eq f80)) (:effects (:e_n_bot f60) (:e_n_bot f80)))
(:rule (:conditions (:c_n_gt f60) (:c_n_eq f80)) (:effects (:e_n_inc f60) (:e_n_bot f80)))
(:rule (:conditions (:c_n_gt f60) (:c_n_eq f80)) (:effects (:e_n_dec f60) (:e_n_bot f80)))
(:rule (:conditions (:c_n_eq f60) (:c_n_eq f80)) (:effects (:e_n_bot f60) (:e_n_inc f80)))
(:rule (:conditions (:c_n_eq f60) (:c_n_gt f80)) (:effects (:e_n_bot f60) (:e_n_bot f80)))
(:rule (:conditions (:c_n_gt f60) (:c_n_gt f80)) (:effects (:e_n_dec f60) (:e_n_bot f80)))
(:rule (:conditions (:c_n_eq f60) (:c_n_gt f80)) (:effects (:e_n_inc f60) (:e_n_bot f80)))
(:rule (:conditions (:c_n_gt f60) (:c_n_gt f80)) (:effects (:e_n_bot f60) (:e_n_inc f80)))
(:rule (:conditions (:c_n_gt f60) (:c_n_gt f80)) (:effects (:e_n_bot f60) (:e_n_bot f80)))
(:rule (:conditions (:c_n_gt f60) (:c_n_gt f80)) (:effects (:e_n_inc f60) (:e_n_bot f80)))
(:rule (:conditions (:c_n_gt f60) (:c_n_eq f80)) (:effects (:e_n_bot f60) (:e_n_inc f80)))
(:rule (:conditions (:c_n_eq f60) (:c_n_gt f80)) (:effects (:e_n_bot f60) (:e_n_inc f80)))
(:rule (:conditions (:c_n_eq f60) (:c_n_eq f80)) (:effects (:e_n_bot f60) (:e_n_bot f80)))
(:rule (:conditions (:c_n_eq f60) (:c_n_eq f80)) (:effects (:e_n_inc f60) (:e_n_bot f80)))
)
Numer of sketch rules: 14
Number of selected features: 2
Maximum complexity of selected feature: 5
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p122.pddl
Sketch cycles
Instance: 7
109
109
Number of unsatisfied D2 facts: 316
Number of D2 facts: 459 of 15129
2024-08-09 00:11:15,437 - Grounding Logic Program...
2024-08-09 00:11:15,748 - ..done
2024-08-09 00:11:15,748 - Solving Logic Program...
2024-08-09 00:11:15,797 - ..done
Clingo statistics:
{'call': 0.0, 'result': 1.0, 'signal': 0.0, 'exhausted': 1.0, 'costs': [19.0], 'lower': [19.0], 'concurrency': 32.0, 'winner': 24.0, 'times': {'total': 1.2835979461669922, 'cpu': 1.499099000000001, 'solve': 0.031564950942993164, 'unsat': 0.023066043853759766, 'sat': 0.0028388500213623047}, 'models': {'enumerated': 37.0, 'optimal': 1.0}}
Solution cost: [19.0]
Total time: 1.2835979461669922
CPU time: 1.499099000000001
Solve time: 0.031564950942993164
2024-08-09 00:11:15,936 - Learned the following sketch:
(:policy
(:booleans (f91 "b_empty(c_some(r_primitive(at,0,1),c_primitive(at-ferry,0)))"))
(:numericals (f48 "n_count(c_primitive(on,0))") (f105 "n_concept_distance(c_primitive(at-ferry,0),r_primitive(at,0,1),c_all(r_inverse(r_primitive(at_g,0,1)),c_equal(r_primitive(at,0,1),r_primitive(at_g,0,1))))"))
(:rule (:conditions (:c_n_eq f48) (:c_b_neg f91) (:c_n_gt f105)) (:effects (:e_n_inc f48) (:e_b_pos f91) (:e_n_bot f105)))
(:rule (:conditions (:c_n_eq f48) (:c_b_neg f91) (:c_n_gt f105)) (:effects (:e_n_bot f48) (:e_b_bot f91) (:e_n_bot f105)))
(:rule (:conditions (:c_n_gt f48) (:c_b_pos f91) (:c_n_gt f105)) (:effects (:e_n_bot f48) (:e_b_neg f91) (:e_n_bot f105)))
(:rule (:conditions (:c_n_gt f48) (:c_b_neg f91) (:c_n_gt f105)) (:effects (:e_n_dec f48) (:e_b_bot f91) (:e_n_dec f105)))
(:rule (:conditions (:c_n_eq f48) (:c_b_neg f91) (:c_n_eq f105)) (:effects (:e_n_inc f48) (:e_b_bot f91) (:e_n_bot f105)))
(:rule (:conditions (:c_n_eq f48) (:c_b_pos f91) (:c_n_gt f105)) (:effects (:e_n_bot f48) (:e_b_neg f91) (:e_n_dec f105)))
(:rule (:conditions (:c_n_gt f48) (:c_b_neg f91) (:c_n_eq f105)) (:effects (:e_n_bot f48) (:e_b_pos f91) (:e_n_inc f105)))
(:rule (:conditions (:c_n_gt f48) (:c_b_pos f91) (:c_n_gt f105)) (:effects (:e_n_dec f48) (:e_b_neg f91) (:e_n_bot f105)))
(:rule (:conditions (:c_n_eq f48) (:c_b_neg f91) (:c_n_gt f105)) (:effects (:e_n_bot f48) (:e_b_bot f91) (:e_n_dec f105)))
(:rule (:conditions (:c_n_gt f48) (:c_b_neg f91) (:c_n_eq f105)) (:effects (:e_n_bot f48) (:e_b_bot f91) (:e_n_inc f105)))
(:rule (:conditions (:c_n_gt f48) (:c_b_neg f91) (:c_n_gt f105)) (:effects (:e_n_bot f48) (:e_b_bot f91) (:e_n_bot f105)))
(:rule (:conditions (:c_n_eq f48) (:c_b_neg f91) (:c_n_gt f105)) (:effects (:e_n_inc f48) (:e_b_bot f91) (:e_n_bot f105)))
(:rule (:conditions (:c_n_gt f48) (:c_b_neg f91) (:c_n_gt f105)) (:effects (:e_n_dec f48) (:e_b_bot f91) (:e_n_bot f105)))
(:rule (:conditions (:c_n_gt f48) (:c_b_neg f91) (:c_n_gt f105)) (:effects (:e_n_bot f48) (:e_b_pos f91) (:e_n_bot f105)))
(:rule (:conditions (:c_n_gt f48) (:c_b_pos f91) (:c_n_gt f105)) (:effects (:e_n_dec f48) (:e_b_neg f91) (:e_n_dec f105)))
(:rule (:conditions (:c_n_eq f48) (:c_b_neg f91) (:c_n_eq f105)) (:effects (:e_n_inc f48) (:e_b_pos f91) (:e_n_bot f105)))
(:rule (:conditions (:c_n_gt f48) (:c_b_pos f91) (:c_n_eq f105)) (:effects (:e_n_bot f48) (:e_b_bot f91) (:e_n_inc f105)))
(:rule (:conditions (:c_n_eq f48) (:c_b_pos f91) (:c_n_eq f105)) (:effects (:e_n_bot f48) (:e_b_neg f91) (:e_n_bot f105)))
(:rule (:conditions (:c_n_eq f48) (:c_b_pos f91) (:c_n_gt f105)) (:effects (:e_n_bot f48) (:e_b_bot f91) (:e_n_dec f105)))
(:rule (:conditions (:c_n_gt f48) (:c_b_pos f91) (:c_n_eq f105)) (:effects (:e_n_bot f48) (:e_b_neg f91) (:e_n_inc f105)))
)
Numer of sketch rules: 20
Number of selected features: 3
Maximum complexity of selected feature: 9
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p122.pddl
Sketch cycles
Instance: 7
109
109
Number of unsatisfied D2 facts: 53
Number of D2 facts: 512 of 15129
2024-08-09 00:11:16,850 - Grounding Logic Program...
2024-08-09 00:11:17,168 - ..done
2024-08-09 00:11:17,169 - Solving Logic Program...
2024-08-09 00:11:17,226 - ..done
Clingo statistics:
{'call': 0.0, 'result': 1.0, 'signal': 0.0, 'exhausted': 1.0, 'costs': [20.0], 'lower': [20.0], 'concurrency': 32.0, 'winner': 10.0, 'times': {'total': 1.285959005355835, 'cpu': 1.5984029999999905, 'solve': 0.03943300247192383, 'unsat': 0.0317530632019043, 'sat': 0.002902984619140625}, 'models': {'enumerated': 42.0, 'optimal': 1.0}}
Solution cost: [20.0]
Total time: 1.285959005355835
CPU time: 1.5984029999999905
Solve time: 0.03943300247192383
2024-08-09 00:11:17,364 - Learned the following sketch:
(:policy
(:booleans )
(:numericals (f48 "n_count(c_primitive(on,0))") (f28 "n_count(c_some(r_primitive(at_g,0,1),c_primitive(at-ferry,0)))") (f149 "n_count(c_some(r_primitive(at,0,1),c_primitive(at-ferry,0)))") (f73 "n_count(c_and(c_primitive(on,0),c_some(r_primitive(at_g,0,1),c_primitive(at-ferry,0))))"))
(:rule (:conditions (:c_n_eq f48) (:c_n_gt f28) (:c_n_gt f149) (:c_n_eq f73)) (:effects (:e_n_inc f48) (:e_n_bot f28) (:e_n_dec f149) (:e_n_bot f73)))
(:rule (:conditions (:c_n_gt f48) (:c_n_gt f28) (:c_n_eq f149) (:c_n_eq f73)) (:effects (:e_n_bot f48) (:e_n_dec f28) (:e_n_inc f149) (:e_n_inc f73)))
(:rule (:conditions (:c_n_gt f48) (:c_n_gt f28) (:c_n_gt f149) (:c_n_gt f73)) (:effects (:e_n_dec f48) (:e_n_bot f28) (:e_n_inc f149) (:e_n_dec f73)))
(:rule (:conditions (:c_n_eq f48) (:c_n_gt f28) (:c_n_eq f149) (:c_n_eq f73)) (:effects (:e_n_bot f48) (:e_n_dec f28) (:e_n_inc f149) (:e_n_bot f73)))
(:rule (:conditions (:c_n_gt f48) (:c_n_gt f28) (:c_n_gt f149) (:c_n_eq f73)) (:effects (:e_n_bot f48) (:e_n_dec f149) (:e_n_inc f28) (:e_n_inc f73)))
(:rule (:conditions (:c_n_gt f48) (:c_n_gt f28) (:c_n_eq f149) (:c_n_gt f73)) (:effects (:e_n_dec f48) (:e_n_bot f28) (:e_n_inc f149) (:e_n_dec f73)))
(:rule (:conditions (:c_n_eq f48) (:c_n_gt f28) (:c_n_gt f149) (:c_n_eq f73)) (:effects (:e_n_bot f48) (:e_n_dec f28) (:e_n_inc f149) (:e_n_bot f73)))
(:rule (:conditions (:c_n_gt f48) (:c_n_gt f28) (:c_n_gt f149) (:c_n_eq f73)) (:effects (:e_n_bot f48) (:e_n_bot f149) (:e_n_inc f28) (:e_n_inc f73)))
(:rule (:conditions (:c_n_gt f48) (:c_n_gt f28) (:c_n_gt f149) (:c_n_eq f73)) (:effects (:e_n_bot f48) (:e_n_bot f149) (:e_n_dec f28) (:e_n_inc f73)))
(:rule (:conditions (:c_n_gt f48) (:c_n_gt f28) (:c_n_eq f149) (:c_n_eq f73)) (:effects (:e_n_bot f48) (:e_n_inc f149) (:e_n_inc f28) (:e_n_inc f73)))
(:rule (:conditions (:c_n_eq f48) (:c_n_gt f28) (:c_n_eq f149) (:c_n_eq f73)) (:effects (:e_n_bot f48) (:e_n_inc f149) (:e_n_inc f28) (:e_n_bot f73)))
(:rule (:conditions (:c_n_gt f48) (:c_n_gt f28) (:c_n_gt f149) (:c_n_eq f73)) (:effects (:e_n_bot f48) (:e_n_dec f149) (:e_n_dec f28) (:e_n_inc f73)))
(:rule (:conditions (:c_n_eq f48) (:c_n_gt f149) (:c_n_eq f28) (:c_n_eq f73)) (:effects (:e_n_inc f48) (:e_n_bot f28) (:e_n_dec f149) (:e_n_bot f73)))
(:rule (:conditions (:c_n_gt f48) (:c_n_eq f149) (:c_n_eq f28) (:c_n_eq f73)) (:effects (:e_n_bot f48) (:e_n_bot f149) (:e_n_inc f28) (:e_n_inc f73)))
(:rule (:conditions (:c_n_eq f48) (:c_n_eq f149) (:c_n_eq f28) (:c_n_eq f73)) (:effects (:e_n_bot f48) (:e_n_bot f149) (:e_n_inc f28) (:e_n_bot f73)))
(:rule (:conditions (:c_n_gt f48) (:c_n_gt f28) (:c_n_eq f149) (:c_n_eq f73)) (:effects (:e_n_bot f48) (:e_n_bot f28) (:e_n_inc f149) (:e_n_inc f73)))
(:rule (:conditions (:c_n_eq f48) (:c_n_gt f28) (:c_n_eq f149) (:c_n_eq f73)) (:effects (:e_n_bot f48) (:e_n_bot f28) (:e_n_inc f149) (:e_n_bot f73)))
(:rule (:conditions (:c_n_gt f48) (:c_n_gt f28) (:c_n_gt f149) (:c_n_eq f73)) (:effects (:e_n_bot f48) (:e_n_bot f28) (:e_n_dec f149) (:e_n_inc f73)))
(:rule (:conditions (:c_n_gt f48) (:c_n_gt f149) (:c_n_eq f28) (:c_n_eq f73)) (:effects (:e_n_bot f48) (:e_n_dec f149) (:e_n_inc f28) (:e_n_inc f73)))
(:rule (:conditions (:c_n_eq f48) (:c_n_gt f28) (:c_n_gt f149) (:c_n_eq f73)) (:effects (:e_n_bot f48) (:e_n_bot f149) (:e_n_dec f28) (:e_n_bot f73)))
(:rule (:conditions (:c_n_gt f48) (:c_n_eq f149) (:c_n_eq f28) (:c_n_eq f73)) (:effects (:e_n_bot f48) (:e_n_inc f149) (:e_n_inc f28) (:e_n_inc f73)))
)
Numer of sketch rules: 21
Number of selected features: 4
Maximum complexity of selected feature: 6
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p122.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p25.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p76.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p32.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p75.pddl
2024-08-09 00:11:17,370 - Verifying learned sketch...
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p122.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p25.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p76.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p32.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p75.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p25.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p32.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p75.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p76.pddl
Sketch fails to bound width of a state
/proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p147.pddl
Instance: 4
Source_state: 39
Dlplan state: (instance index=4, state index=11, atoms={at(car2,loc2), at(car1,loc2), at(car3,loc1), at-ferry(loc2), empty-ferry()})
2024-08-09 00:11:17,378 - ..done
Smallest unsolved instance: 4
Selected instances: [7, 0, 3, 1, 2, 4]
2024-08-09 00:11:17,378 - Iteration: 21
     id: 7 problem_filepath: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p122.pddl num_states: 40 num_state_equivalences: 26
     id: 0 problem_filepath: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p25.pddl num_states: 6 num_state_equivalences: 6
     id: 3 problem_filepath: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p76.pddl num_states: 16 num_state_equivalences: 10
     id: 1 problem_filepath: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p32.pddl num_states: 12 num_state_equivalences: 7
     id: 2 problem_filepath: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p75.pddl num_states: 16 num_state_equivalences: 8
     id: 4 problem_filepath: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p147.pddl num_states: 40 num_state_equivalences: 14
2024-08-09 00:11:17,401 - Initialize global faithful abstract states...
2024-08-09 00:11:17,402 - ..done
2024-08-09 00:11:17,402 - Initializing DomainFeatureData...
[t=80.7709s, 2571272 KB] Started generating base features of complexity 1.
[t=80.7712s, 2571272 KB] Complexity 1:
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 0
    c_not: 0
    c_equal: 0
    c_some: 0
    c_all: 0
    r_restrict: 0
    r_and: 0
    r_inverse: 0
    r_transitive_closure: 0
    b_empty: 0
    n_count: 0
    n_concept_distance: 0
[t=80.7715s, 2571272 KB] Finished generating base features.
[t=80.7716s, 2571272 KB] Started generating composite features. 
[t=80.7718s, 2571272 KB] Complexity 2:
Total concept elements: 8
Total role elements: 4
Total numerical elements: 7
Total boolean elements: 4
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 0
    c_not: 2
    c_equal: 0
    c_some: 0
    c_all: 0
    r_restrict: 0
    r_and: 0
    r_inverse: 2
    r_transitive_closure: 0
    b_empty: 2
    n_count: 7
    n_concept_distance: 0
[t=80.7734s, 2571272 KB] Complexity 3:
Total concept elements: 15
Total role elements: 8
Total numerical elements: 9
Total boolean elements: 4
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 0
    c_not: 2
    c_equal: 1
    c_some: 3
    c_all: 3
    r_restrict: 3
    r_and: 1
    r_inverse: 2
    r_transitive_closure: 0
    b_empty: 2
    n_count: 9
    n_concept_distance: 0
[t=80.7748s, 2571272 KB] Complexity 4:
Total concept elements: 27
Total role elements: 11
Total numerical elements: 17
Total boolean elements: 7
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 1
    c_not: 7
    c_equal: 1
    c_some: 6
    c_all: 6
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 5
    n_count: 16
    n_concept_distance: 1
[t=80.7777s, 2571272 KB] Complexity 5:
Total concept elements: 37
Total role elements: 11
Total numerical elements: 28
Total boolean elements: 10
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 5
    c_not: 10
    c_equal: 1
    c_some: 7
    c_all: 8
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 8
    n_count: 27
    n_concept_distance: 1
[t=80.7819s, 2571272 KB] Complexity 6:
Total concept elements: 91
Total role elements: 11
Total numerical elements: 36
Total boolean elements: 13
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 23
    c_not: 15
    c_equal: 1
    c_some: 19
    c_all: 27
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 11
    n_count: 35
    n_concept_distance: 1
[t=80.7879s, 2571272 KB] Complexity 7:
Total concept elements: 143
Total role elements: 11
Total numerical elements: 95
Total boolean elements: 29
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 45
    c_not: 45
    c_equal: 1
    c_some: 19
    c_all: 27
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 27
    n_count: 88
    n_concept_distance: 7
[t=80.8022s, 2571272 KB] Complexity 8:
Total concept elements: 295
Total role elements: 11
Total numerical elements: 147
Total boolean elements: 38
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 98
    c_not: 61
    c_equal: 1
    c_some: 56
    c_all: 73
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 36
    n_count: 138
    n_concept_distance: 9
[t=80.8232s, 2571272 KB] Complexity 9:
Total concept elements: 536
Total role elements: 11
Total numerical elements: 304
Total boolean elements: 94
    b_nullary: 2
    c_one_of: 0
    c_top: 1
    c_bot: 1
    c_primitive: 4
    r_primitive: 2
    c_and: 190
    c_not: 166
    c_equal: 1
    c_some: 73
    c_all: 100
    r_restrict: 3
    r_and: 1
    r_inverse: 5
    r_transitive_closure: 0
    b_empty: 92
    n_count: 289
    n_concept_distance: 15
[t=80.8235s, 2571272 KB] Finished generating composite features.
Features generated: 398
Features after 0/1 pruning (incomplete): 237
Features after soft changes pruning (incomplete): 199
Features after relevant changes pruning (complete): 155
2024-08-09 00:11:18,872 - ..done
2024-08-09 00:11:18,872 - Constructing PerStateFeatureValuations...
2024-08-09 00:11:18,880 - ..done
2024-08-09 00:11:18,880 - Constructing StatePairEquivalenceDatas...
2024-08-09 00:11:19,112 - ..done
2024-08-09 00:11:19,115 - Constructing TupleGraphEquivalences...
Tuple graph equivalence construction statistics:
Num nodes: 225
2024-08-09 00:11:19,122 - ..done
2024-08-09 00:11:19,122 - Minimizing TupleGraphEquivalences...
Tuple graph equivalence minimization statistics:
Num orig nodes: 225
Num kept nodes: 207
2024-08-09 00:11:19,125 - ..done
Number of initial D2 facts: 159
Number of D2 facts: 159 of 18225
2024-08-09 00:11:19,519 - Grounding Logic Program...
2024-08-09 00:11:19,809 - ..done
2024-08-09 00:11:19,809 - Solving Logic Program...
2024-08-09 00:11:19,829 - ..done
Clingo statistics:
{'call': 0.0, 'result': 1.0, 'signal': 0.0, 'exhausted': 1.0, 'costs': [11.0], 'lower': [11.0], 'concurrency': 32.0, 'winner': 21.0, 'times': {'total': 0.7028601169586182, 'cpu': 0.7278490000000062, 'solve': 0.004603147506713867, 'unsat': 0.0010271072387695312, 'sat': 0.001728057861328125}, 'models': {'enumerated': 26.0, 'optimal': 1.0}}
Solution cost: [11.0]
Total time: 0.7028601169586182
CPU time: 0.7278490000000062
Solve time: 0.004603147506713867
2024-08-09 00:11:19,977 - Learned the following sketch:
(:policy
(:booleans )
(:numericals (f59 "n_count(c_not(c_all(r_primitive(at,0,1),c_primitive(at-ferry,0))))") (f79 "n_count(r_and(r_primitive(at,0,1),r_primitive(at_g,0,1)))"))
(:rule (:conditions (:c_n_gt f59) (:c_n_eq f79)) (:effects (:e_n_bot f59) (:e_n_bot f79)))
(:rule (:conditions (:c_n_gt f59) (:c_n_eq f79)) (:effects (:e_n_inc f59) (:e_n_bot f79)))
(:rule (:conditions (:c_n_gt f59) (:c_n_eq f79)) (:effects (:e_n_dec f59) (:e_n_bot f79)))
(:rule (:conditions (:c_n_eq f59) (:c_n_eq f79)) (:effects (:e_n_bot f59) (:e_n_inc f79)))
(:rule (:conditions (:c_n_eq f59) (:c_n_gt f79)) (:effects (:e_n_bot f59) (:e_n_bot f79)))
(:rule (:conditions (:c_n_gt f59) (:c_n_gt f79)) (:effects (:e_n_dec f59) (:e_n_bot f79)))
(:rule (:conditions (:c_n_eq f59) (:c_n_gt f79)) (:effects (:e_n_inc f59) (:e_n_bot f79)))
(:rule (:conditions (:c_n_gt f59) (:c_n_gt f79)) (:effects (:e_n_bot f59) (:e_n_inc f79)))
(:rule (:conditions (:c_n_gt f59) (:c_n_gt f79)) (:effects (:e_n_bot f59) (:e_n_bot f79)))
(:rule (:conditions (:c_n_gt f59) (:c_n_gt f79)) (:effects (:e_n_inc f59) (:e_n_bot f79)))
(:rule (:conditions (:c_n_gt f59) (:c_n_eq f79)) (:effects (:e_n_bot f59) (:e_n_inc f79)))
(:rule (:conditions (:c_n_eq f59) (:c_n_gt f79)) (:effects (:e_n_bot f59) (:e_n_inc f79)))
(:rule (:conditions (:c_n_eq f59) (:c_n_eq f79)) (:effects (:e_n_bot f59) (:e_n_bot f79)))
(:rule (:conditions (:c_n_eq f59) (:c_n_eq f79)) (:effects (:e_n_inc f59) (:e_n_bot f79)))
)
Numer of sketch rules: 14
Number of selected features: 2
Maximum complexity of selected feature: 5
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p122.pddl
Sketch cycles
Instance: 7
109
109
Number of unsatisfied D2 facts: 383
Number of D2 facts: 542 of 18225
2024-08-09 00:11:20,952 - Grounding Logic Program...
2024-08-09 00:11:21,309 - ..done
2024-08-09 00:11:21,309 - Solving Logic Program...
2024-08-09 00:11:21,364 - ..done
Clingo statistics:
{'call': 0.0, 'result': 1.0, 'signal': 0.0, 'exhausted': 1.0, 'costs': [19.0], 'lower': [19.0], 'concurrency': 32.0, 'winner': 10.0, 'times': {'total': 1.383148193359375, 'cpu': 1.5158639999999934, 'solve': 0.03482222557067871, 'unsat': 0.020443201065063477, 'sat': 0.0037021636962890625}, 'models': {'enumerated': 43.0, 'optimal': 1.0}}
Solution cost: [19.0]
Total time: 1.383148193359375
CPU time: 1.5158639999999934
Solve time: 0.03482222557067871
2024-08-09 00:11:21,510 - Learned the following sketch:
(:policy
(:booleans (f61 "b_nullary(empty-ferry)") (f90 "b_empty(c_some(r_primitive(at,0,1),c_primitive(at-ferry,0)))"))
(:numericals (f56 "n_count(c_and(c_primitive(at-ferry,0),c_all(r_inverse(r_primitive(at_g,0,1)),c_equal(r_primitive(at,0,1),r_primitive(at_g,0,1)))))"))
(:rule (:conditions (:c_b_pos f61) (:c_b_neg f90) (:c_n_eq f56)) (:effects (:e_b_neg f61) (:e_b_pos f90) (:e_n_bot f56)))
(:rule (:conditions (:c_b_pos f61) (:c_b_neg f90) (:c_n_eq f56)) (:effects (:e_b_bot f61) (:e_b_bot f90) (:e_n_bot f56)))
(:rule (:conditions (:c_b_neg f61) (:c_b_pos f90) (:c_n_eq f56)) (:effects (:e_b_bot f61) (:e_b_neg f90) (:e_n_bot f56)))
(:rule (:conditions (:c_b_neg f61) (:c_b_neg f90) (:c_n_eq f56)) (:effects (:e_b_pos f61) (:e_b_bot f90) (:e_n_inc f56)))
(:rule (:conditions (:c_b_pos f61) (:c_b_neg f90) (:c_n_gt f56)) (:effects (:e_b_neg f61) (:e_b_bot f90) (:e_n_bot f56)))
(:rule (:conditions (:c_b_pos f61) (:c_b_pos f90) (:c_n_eq f56)) (:effects (:e_b_bot f61) (:e_b_neg f90) (:e_n_inc f56)))
(:rule (:conditions (:c_b_neg f61) (:c_b_neg f90) (:c_n_gt f56)) (:effects (:e_b_bot f61) (:e_b_pos f90) (:e_n_dec f56)))
(:rule (:conditions (:c_b_neg f61) (:c_b_pos f90) (:c_n_eq f56)) (:effects (:e_b_pos f61) (:e_b_neg f90) (:e_n_bot f56)))
(:rule (:conditions (:c_b_pos f61) (:c_b_neg f90) (:c_n_eq f56)) (:effects (:e_b_bot f61) (:e_b_bot f90) (:e_n_inc f56)))
(:rule (:conditions (:c_b_neg f61) (:c_b_neg f90) (:c_n_gt f56)) (:effects (:e_b_bot f61) (:e_b_bot f90) (:e_n_dec f56)))
(:rule (:conditions (:c_b_neg f61) (:c_b_neg f90) (:c_n_eq f56)) (:effects (:e_b_bot f61) (:e_b_bot f90) (:e_n_bot f56)))
(:rule (:conditions (:c_b_pos f61) (:c_b_neg f90) (:c_n_eq f56)) (:effects (:e_b_neg f61) (:e_b_bot f90) (:e_n_bot f56)))
(:rule (:conditions (:c_b_neg f61) (:c_b_neg f90) (:c_n_eq f56)) (:effects (:e_b_pos f61) (:e_b_bot f90) (:e_n_bot f56)))
(:rule (:conditions (:c_b_neg f61) (:c_b_pos f90) (:c_n_eq f56)) (:effects (:e_b_pos f61) (:e_b_neg f90) (:e_n_inc f56)))
(:rule (:conditions (:c_b_pos f61) (:c_b_neg f90) (:c_n_gt f56)) (:effects (:e_b_neg f61) (:e_b_pos f90) (:e_n_bot f56)))
(:rule (:conditions (:c_b_neg f61) (:c_b_pos f90) (:c_n_gt f56)) (:effects (:e_b_bot f61) (:e_b_bot f90) (:e_n_dec f56)))
(:rule (:conditions (:c_b_pos f61) (:c_b_pos f90) (:c_n_gt f56)) (:effects (:e_b_bot f61) (:e_b_neg f90) (:e_n_bot f56)))
(:rule (:conditions (:c_b_neg f61) (:c_b_pos f90) (:c_n_gt f56)) (:effects (:e_b_bot f61) (:e_b_neg f90) (:e_n_dec f56)))
)
Numer of sketch rules: 18
Number of selected features: 3
Maximum complexity of selected feature: 9
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p122.pddl
Sketch cycles
Instance: 7
109
109
Number of unsatisfied D2 facts: 51
Number of D2 facts: 593 of 18225
2024-08-09 00:11:22,490 - Grounding Logic Program...
2024-08-09 00:11:22,851 - ..done
2024-08-09 00:11:22,851 - Solving Logic Program...
2024-08-09 00:11:22,903 - ..done
Clingo statistics:
{'call': 0.0, 'result': 1.0, 'signal': 0.0, 'exhausted': 1.0, 'costs': [20.0], 'lower': [20.0], 'concurrency': 32.0, 'winner': 2.0, 'times': {'total': 1.388848066329956, 'cpu': 1.5608140000000077, 'solve': 0.032041072845458984, 'unsat': 0.023478984832763672, 'sat': 0.003604888916015625}, 'models': {'enumerated': 49.0, 'optimal': 1.0}}
Solution cost: [20.0]
Total time: 1.388848066329956
CPU time: 1.5608140000000077
Solve time: 0.032041072845458984
2024-08-09 00:11:23,054 - Learned the following sketch:
(:policy
(:booleans )
(:numericals (f48 "n_count(c_primitive(on,0))") (f72 "n_count(c_and(c_primitive(on,0),c_some(r_primitive(at_g,0,1),c_primitive(at-ferry,0))))") (f122 "n_count(c_and(c_some(r_primitive(at_g,0,1),c_primitive(at-ferry,0)),c_not(c_equal(r_primitive(at,0,1),r_primitive(at_g,0,1)))))"))
(:rule (:conditions (:c_n_eq f48) (:c_n_eq f72) (:c_n_gt f122)) (:effects (:e_n_inc f48) (:e_n_bot f72) (:e_n_bot f122)))
(:rule (:conditions (:c_n_eq f48) (:c_n_eq f72) (:c_n_gt f122)) (:effects (:e_n_bot f48) (:e_n_bot f72) (:e_n_dec f122)))
(:rule (:conditions (:c_n_gt f48) (:c_n_eq f72) (:c_n_gt f122)) (:effects (:e_n_bot f48) (:e_n_inc f72) (:e_n_dec f122)))
(:rule (:conditions (:c_n_gt f48) (:c_n_gt f72) (:c_n_gt f122)) (:effects (:e_n_dec f48) (:e_n_dec f72) (:e_n_dec f122)))
(:rule (:conditions (:c_n_eq f48) (:c_n_eq f72) (:c_n_eq f122)) (:effects (:e_n_inc f48) (:e_n_bot f72) (:e_n_bot f122)))
(:rule (:conditions (:c_n_gt f48) (:c_n_eq f72) (:c_n_eq f122)) (:effects (:e_n_bot f48) (:e_n_inc f72) (:e_n_inc f122)))
(:rule (:conditions (:c_n_gt f48) (:c_n_eq f72) (:c_n_gt f122)) (:effects (:e_n_bot f48) (:e_n_inc f72) (:e_n_bot f122)))
(:rule (:conditions (:c_n_gt f48) (:c_n_eq f72) (:c_n_gt f122)) (:effects (:e_n_bot f48) (:e_n_inc f72) (:e_n_inc f122)))
(:rule (:conditions (:c_n_eq f48) (:c_n_eq f72) (:c_n_eq f122)) (:effects (:e_n_bot f48) (:e_n_bot f72) (:e_n_bot f122)))
)
Numer of sketch rules: 9
Number of selected features: 3
Maximum complexity of selected feature: 9
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p122.pddl
Sketch cycles
Instance: 7
104
103
103
Number of unsatisfied D2 facts: 24
Number of D2 facts: 617 of 18225
2024-08-09 00:11:24,073 - Grounding Logic Program...
2024-08-09 00:11:24,437 - ..done
2024-08-09 00:11:24,437 - Solving Logic Program...
2024-08-09 00:11:24,494 - ..done
Clingo statistics:
{'call': 0.0, 'result': 1.0, 'signal': 0.0, 'exhausted': 1.0, 'costs': [20.0], 'lower': [20.0], 'concurrency': 32.0, 'winner': 5.0, 'times': {'total': 1.4350471496582031, 'cpu': 1.680673000000013, 'solve': 0.03587603569030762, 'unsat': 0.027019023895263672, 'sat': 0.004294872283935547}, 'models': {'enumerated': 47.0, 'optimal': 1.0}}
Solution cost: [20.0]
Total time: 1.4350471496582031
CPU time: 1.680673000000013
Solve time: 0.03587603569030762
2024-08-09 00:11:24,642 - Learned the following sketch:
(:policy
(:booleans (f61 "b_nullary(empty-ferry)"))
(:numericals (f72 "n_count(c_and(c_primitive(on,0),c_some(r_primitive(at_g,0,1),c_primitive(at-ferry,0))))") (f21 "n_count(c_and(c_some(r_primitive(at,0,1),c_primitive(at-ferry,0)),c_not(c_equal(r_primitive(at,0,1),r_primitive(at_g,0,1)))))"))
(:rule (:conditions (:c_b_pos f61) (:c_n_eq f72) (:c_n_gt f21)) (:effects (:e_b_neg f61) (:e_n_bot f72) (:e_n_dec f21)))
(:rule (:conditions (:c_b_neg f61) (:c_n_eq f72) (:c_n_eq f21)) (:effects (:e_b_bot f61) (:e_n_inc f72) (:e_n_inc f21)))
(:rule (:conditions (:c_b_neg f61) (:c_n_gt f72) (:c_n_gt f21)) (:effects (:e_b_pos f61) (:e_n_dec f72) (:e_n_bot f21)))
(:rule (:conditions (:c_b_pos f61) (:c_n_eq f72) (:c_n_eq f21)) (:effects (:e_b_bot f61) (:e_n_bot f72) (:e_n_inc f21)))
(:rule (:conditions (:c_b_neg f61) (:c_n_eq f72) (:c_n_gt f21)) (:effects (:e_b_bot f61) (:e_n_inc f72) (:e_n_dec f21)))
(:rule (:conditions (:c_b_neg f61) (:c_n_gt f72) (:c_n_eq f21)) (:effects (:e_b_pos f61) (:e_n_dec f72) (:e_n_bot f21)))
(:rule (:conditions (:c_b_neg f61) (:c_n_eq f72) (:c_n_eq f21)) (:effects (:e_b_bot f61) (:e_n_inc f72) (:e_n_bot f21)))
(:rule (:conditions (:c_b_neg f61) (:c_n_eq f72) (:c_n_gt f21)) (:effects (:e_b_bot f61) (:e_n_inc f72) (:e_n_bot f21)))
)
Numer of sketch rules: 8
Number of selected features: 3
Maximum complexity of selected feature: 9
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p122.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p25.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p76.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p32.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p75.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p147.pddl
2024-08-09 00:11:24,649 - Verifying learned sketch...
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p122.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p25.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p76.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p32.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p75.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p147.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p25.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p32.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p75.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p76.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p147.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p97.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p104.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p122.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p166.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p178.pddl
Sketch solves: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/ferry/instances/p165.pddl
2024-08-09 00:11:24,685 - ..done
Sketch solves all instances!
================================================================================
2024-08-09 00:11:24,688 - Summary:
LearningStatistics:
    num_training_instances: 11
    num_selected_training_instances (|P|): 6
    num_states_in_selected_training_instances (|S|): 71
    num_states_in_complete_selected_training_instances (|S|): 130
    num_features_in_pool (|F|): 155
================================================================================
Resulting sketch:
(:policy
(:booleans (f61 "b_nullary(empty-ferry)"))
(:numericals (f72 "n_count(c_and(c_primitive(on,0),c_some(r_primitive(at_g,0,1),c_primitive(at-ferry,0))))") (f21 "n_count(c_and(c_some(r_primitive(at,0,1),c_primitive(at-ferry,0)),c_not(c_equal(r_primitive(at,0,1),r_primitive(at_g,0,1)))))"))
(:rule (:conditions (:c_b_pos f61) (:c_n_eq f72) (:c_n_gt f21)) (:effects (:e_b_neg f61) (:e_n_bot f72) (:e_n_dec f21)))
(:rule (:conditions (:c_b_neg f61) (:c_n_eq f72) (:c_n_eq f21)) (:effects (:e_b_bot f61) (:e_n_inc f72) (:e_n_inc f21)))
(:rule (:conditions (:c_b_neg f61) (:c_n_gt f72) (:c_n_gt f21)) (:effects (:e_b_pos f61) (:e_n_dec f72) (:e_n_bot f21)))
(:rule (:conditions (:c_b_pos f61) (:c_n_eq f72) (:c_n_eq f21)) (:effects (:e_b_bot f61) (:e_n_bot f72) (:e_n_inc f21)))
(:rule (:conditions (:c_b_neg f61) (:c_n_eq f72) (:c_n_gt f21)) (:effects (:e_b_bot f61) (:e_n_inc f72) (:e_n_dec f21)))
(:rule (:conditions (:c_b_neg f61) (:c_n_gt f72) (:c_n_eq f21)) (:effects (:e_b_pos f61) (:e_n_dec f72) (:e_n_bot f21)))
(:rule (:conditions (:c_b_neg f61) (:c_n_eq f72) (:c_n_eq f21)) (:effects (:e_b_bot f61) (:e_n_inc f72) (:e_n_bot f21)))
(:rule (:conditions (:c_b_neg f61) (:c_n_eq f72) (:c_n_gt f21)) (:effects (:e_b_bot f61) (:e_n_inc f72) (:e_n_bot f21)))
)
Numer of sketch rules: 8
Number of selected features: 3
Maximum complexity of selected feature: 9
================================================================================
Resulting minimized sketch:
(:policy
(:booleans (f61 "b_nullary(empty-ferry)"))
(:numericals (f72 "n_count(c_and(c_primitive(on,0),c_some(r_primitive(at_g,0,1),c_primitive(at-ferry,0))))") (f21 "n_count(c_and(c_some(r_primitive(at,0,1),c_primitive(at-ferry,0)),c_not(c_equal(r_primitive(at,0,1),r_primitive(at_g,0,1)))))"))
(:rule (:conditions (:c_b_neg f61) (:c_n_gt f72)) (:effects (:e_b_pos f61) (:e_n_dec f72) (:e_n_bot f21)))
(:rule (:conditions (:c_b_neg f61) (:c_n_eq f72)) (:effects (:e_b_bot f61) (:e_n_inc f72) (:e_n_bot f21)))
(:rule (:conditions (:c_b_pos f61) (:c_n_eq f72) (:c_n_gt f21)) (:effects (:e_b_neg f61) (:e_n_bot f72) (:e_n_dec f21)))
(:rule (:conditions (:c_b_neg f61) (:c_n_eq f72) (:c_n_eq f21)) (:effects (:e_b_bot f61) (:e_n_inc f72) (:e_n_inc f21)))
(:rule (:conditions (:c_b_pos f61) (:c_n_eq f72) (:c_n_eq f21)) (:effects (:e_b_bot f61) (:e_n_bot f72) (:e_n_inc f21)))
(:rule (:conditions (:c_b_neg f61) (:c_n_eq f72) (:c_n_gt f21)) (:effects (:e_b_bot f61) (:e_n_inc f72) (:e_n_dec f21)))
)
Numer of sketch rules: 6
Number of selected features: 3
Maximum complexity of selected feature: 9
================================================================================
================================================================================
Preprocessing time: 18 seconds.
ASP time: 70 seconds.
Verification time: 1 seconds.
Total time: 88 seconds.
Total memory: 0 GiB.
Num states in training data before symmetry pruning: 8430
Num states in training data after symmetry pruning: 265
================================================================================

