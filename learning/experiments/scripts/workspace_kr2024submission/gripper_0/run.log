Changing working directory:  /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/experiments/scripts/workspace/gripper_0
2024-05-10 17:47:29,799 - Constructing InstanceDatas...
2024-05-10 17:47:29,799 - Constructing InstanceData for filename /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/gripper/instances/p-4-0.pddl
2024-05-10 17:47:29,808 - Started generating state space
2024-05-10 17:47:29,813 - Finished generating state space
Domain file: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/gripper/domain.pddl
Problem file: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/gripper/instances/p-4-0.pddl
2024-05-10 17:47:29,814 - Started generating Aut(G)

2024-05-10 17:47:30,240 - Finished generating Aut(G)
Total time: 0.43 seconds
Number of generated states: 256
Number of equivalence classes: 24

2024-05-10 17:47:30,241 - Constructing DomainData for filename /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/gripper/domain.pddl
Num states: 24
Num complete states: 256
initial state indices: [246, 237, 218, 194, 182, 140, 110, 80, 74, 221, 134, 47, 104, 46, 11, 10, 234, 31, 2, 30, 1, 0]
2024-05-10 17:47:30,246 - Constructing InstanceData for filename /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/gripper/instances/p-2-0.pddl
2024-05-10 17:47:30,253 - Started generating state space
2024-05-10 17:47:30,254 - Finished generating state space
Domain file: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/gripper/domain.pddl
Problem file: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/gripper/instances/p-2-0.pddl
2024-05-10 17:47:30,256 - Started generating Aut(G)

2024-05-10 17:47:30,282 - Finished generating Aut(G)
Total time: 0.03 seconds
Number of generated states: 28
Number of equivalence classes: 12

Num states: 12
Num complete states: 28
initial state indices: [22, 17, 16, 12, 7, 6, 2, 1, 13, 0]
2024-05-10 17:47:30,283 - Constructing InstanceData for filename /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/gripper/instances/p-1-0.pddl
2024-05-10 17:47:30,291 - Started generating state space
2024-05-10 17:47:30,291 - Finished generating state space
Domain file: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/gripper/domain.pddl
Problem file: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/gripper/instances/p-1-0.pddl
2024-05-10 17:47:30,291 - Started generating Aut(G)

2024-05-10 17:47:30,296 - Finished generating Aut(G)
Total time: 0.00 seconds
Number of generated states: 8
Number of equivalence classes: 6

Num states: 6
Num complete states: 8
initial state indices: [4, 2, 1, 0]
2024-05-10 17:47:30,296 - Constructing InstanceData for filename /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/gripper/instances/p-5-0.pddl
2024-05-10 17:47:30,302 - Started generating state space
2024-05-10 17:47:30,318 - Finished generating state space
Domain file: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/gripper/domain.pddl
Problem file: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/gripper/instances/p-5-0.pddl
2024-05-10 17:47:30,319 - Started generating Aut(G)

2024-05-10 17:47:31,749 - Finished generating Aut(G)
Total time: 1.43 seconds
Number of generated states: 704
Number of equivalence classes: 30

Num states: 30
Num complete states: 704
initial state indices: [692, 674, 649, 637, 592, 548, 376, 542, 232, 472, 162, 616, 244, 120, 174, 112, 68, 67, 662, 352, 42, 478, 13, 43, 12, 2, 1, 0]
2024-05-10 17:47:31,766 - Constructing InstanceData for filename /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/gripper/instances/p-3-0.pddl
2024-05-10 17:47:31,772 - Started generating state space
2024-05-10 17:47:31,774 - Finished generating state space
Domain file: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/gripper/domain.pddl
Problem file: /proj/ssiw/users/x_domdr/projects/code/sketch-learner/learning/benchmarks/gripper/instances/p-3-0.pddl
2024-05-10 17:47:31,780 - Started generating Aut(G)

2024-05-10 17:47:31,894 - Finished generating Aut(G)
Total time: 0.11 seconds
Number of generated states: 88
Number of equivalence classes: 18

Num states: 18
Num complete states: 88
initial state indices: [70, 80, 61, 44, 68, 30, 48, 29, 9, 8, 59, 21, 2, 20, 1, 0]
2024-05-10 17:47:31,898 - ..done
2024-05-10 17:47:31,898 - Initializing TupleGraphs...
2024-05-10 17:47:31,899 - ..done
2024-05-10 17:47:31,902 - Iteration: 0
     id: 0 name: p-1-0 num_states: 8 num_state_equivalences: 6
2024-05-10 17:47:31,903 - Initializing DomainFeatureData...
[t=3.70674s, 275500 KB] Started generating base features of complexity 1.
[t=3.70724s, 275500 KB] Complexity 1:
    b_nullary: 0
    c_one_of: 2
    c_top: 1
    c_bot: 1
    c_primitive: 5
    r_primitive: 4
    c_and: 0
    c_not: 0
    c_equal: 0
    c_some: 0
    c_all: 0
    r_restrict: 0
    r_and: 0
    r_inverse: 0
    r_transitive_closure: 0
    b_empty: 0
    n_count: 0
    n_concept_distance: 0
[t=3.70736s, 275500 KB] Finished generating base features.
[t=3.70738s, 275500 KB] Started generating composite features. 
[t=3.70763s, 275500 KB] Complexity 2:
Total concept elements: 16
Total role elements: 7
Total numerical elements: 7
Total boolean elements: 4
    b_nullary: 0
    c_one_of: 2
    c_top: 1
    c_bot: 1
    c_primitive: 5
    r_primitive: 4
    c_and: 0
    c_not: 7
    c_equal: 0
    c_some: 0
    c_all: 0
    r_restrict: 0
    r_and: 0
    r_inverse: 3
    r_transitive_closure: 0
    b_empty: 4
    n_count: 7
    n_concept_distance: 0
[t=3.7082s, 275500 KB] Complexity 3:
Total concept elements: 31
Total role elements: 11
Total numerical elements: 10
Total boolean elements: 4
    b_nullary: 0
    c_one_of: 2
    c_top: 1
    c_bot: 1
    c_primitive: 5
    r_primitive: 4
    c_and: 2
    c_not: 7
    c_equal: 2
    c_some: 6
    c_all: 5
    r_restrict: 4
    r_and: 0
    r_inverse: 3
    r_transitive_closure: 0
    b_empty: 4
    n_count: 10
    n_concept_distance: 0
[t=3.70892s, 275500 KB] Complexity 4:
Total concept elements: 45
Total role elements: 15
Total numerical elements: 31
Total boolean elements: 9
    b_nullary: 0
    c_one_of: 2
    c_top: 1
    c_bot: 1
    c_primitive: 5
    r_primitive: 4
    c_and: 6
    c_not: 14
    c_equal: 2
    c_some: 7
    c_all: 7
    r_restrict: 4
    r_and: 0
    r_inverse: 7
    r_transitive_closure: 0
    b_empty: 9
    n_count: 22
    n_concept_distance: 9
[t=3.71004s, 275500 KB] Complexity 5:
Total concept elements: 71
Total role elements: 15
Total numerical elements: 35
Total boolean elements: 11
    b_nullary: 0
    c_one_of: 2
    c_top: 1
    c_bot: 1
    c_primitive: 5
    r_primitive: 4
    c_and: 21
    c_not: 17
    c_equal: 2
    c_some: 9
    c_all: 13
    r_restrict: 4
    r_and: 0
    r_inverse: 7
    r_transitive_closure: 0
    b_empty: 11
    n_count: 26
    n_concept_distance: 9
[t=3.71193s, 275500 KB] Complexity 6:
Total concept elements: 161
Total role elements: 15
Total numerical elements: 63
Total boolean elements: 15
    b_nullary: 0
    c_one_of: 2
    c_top: 1
    c_bot: 1
    c_primitive: 5
    r_primitive: 4
    c_and: 73
    c_not: 32
    c_equal: 2
    c_some: 17
    c_all: 28
    r_restrict: 4
    r_and: 0
    r_inverse: 7
    r_transitive_closure: 0
    b_empty: 15
    n_count: 40
    n_concept_distance: 23
[t=3.71473s, 275500 KB] Complexity 7:
Total concept elements: 252
Total role elements: 15
Total numerical elements: 103
Total boolean elements: 22
    b_nullary: 0
    c_one_of: 2
    c_top: 1
    c_bot: 1
    c_primitive: 5
    r_primitive: 4
    c_and: 117
    c_not: 79
    c_equal: 2
    c_some: 17
    c_all: 28
    r_restrict: 4
    r_and: 0
    r_inverse: 7
    r_transitive_closure: 0
    b_empty: 22
    n_count: 72
    n_concept_distance: 31
[t=3.721s, 275500 KB] Complexity 8:
Total concept elements: 437
Total role elements: 15
Total numerical elements: 160
Total boolean elements: 34
    b_nullary: 0
    c_one_of: 2
    c_top: 1
    c_bot: 1
    c_primitive: 5
    r_primitive: 4
    c_and: 241
    c_not: 113
    c_equal: 2
    c_some: 26
    c_all: 46
    r_restrict: 4
    r_and: 0
    r_inverse: 7
    r_transitive_closure: 0
    b_empty: 34
    n_count: 107
    n_concept_distance: 53
[t=3.73174s, 275500 KB] Complexity 9:
Total concept elements: 722
Total role elements: 15
Total numerical elements: 266
Total boolean elements: 42
    b_nullary: 0
    c_one_of: 2
    c_top: 1
    c_bot: 1
    c_primitive: 5
    r_primitive: 4
    c_and: 428
    c_not: 207
    c_equal: 2
    c_some: 28
    c_all: 48
    r_restrict: 4
    r_and: 0
    r_inverse: 7
    r_transitive_closure: 0
    b_empty: 42
    n_count: 174
    n_concept_distance: 92
[t=3.73185s, 275500 KB] Finished generating composite features.
Features generated: 308
Features after 0/1 pruning (incomplete): 151
Features after soft changes pruning (incomplete): 151
Features after relevant changes pruning (complete): 60

2024-05-10 17:47:31,963 - ..done
2024-05-10 17:47:31,963 - Constructing PerStateFeatureValuations...
2024-05-10 17:47:31,963 - ..done
2024-05-10 17:47:31,963 - Constructing StatePairEquivalenceDatas...
2024-05-10 17:47:31,971 - ..done
2024-05-10 17:47:31,971 - Constructing TupleGraphEquivalences...
Tuple graph equivalence construction statistics:
Num nodes: 24
2024-05-10 17:47:31,971 - ..done
2024-05-10 17:47:31,971 - Minimizing TupleGraphEquivalences...
Tuple graph equivalence minimization statistics:
Num orig nodes: 24
Num kept nodes: 16
2024-05-10 17:47:31,972 - ..done
Number of initial D2 facts: 10
Number of D2 facts: 10 of 256
2024-05-10 17:47:31,993 - Grounding Logic Program...
2024-05-10 17:47:32,006 - ..done
2024-05-10 17:47:32,006 - Solving Logic Program...
2024-05-10 17:47:32,011 - ..done
Clingo statistics:
{'call': 0.0, 'result': 1.0, 'signal': 0.0, 'exhausted': 1.0, 'costs': [5.0], 'lower': [5.0], 'concurrency': 32.0, 'winner': 31.0, 'times': {'total': 0.03823494911193848, 'cpu': 0.044164999999999566, 'solve': 0.0035059452056884766, 'unsat': 0.0005588531494140625, 'sat': 0.0028159618377685547}, 'models': {'enumerated': 2.0, 'optimal': 1.0}}
Solution cost: [5.0]
Total time: 0.03823494911193848
CPU time: 0.044164999999999566
Solve time: 0.0035059452056884766
2024-05-10 17:47:32,020 - Learned the following sketch:
(:policy
(:booleans )
(:numericals (f14 "n_concept_distance(c_one_of(rooma),r_primitive(at,0,1),c_primitive(at-robby,0))"))
(:rule (:conditions (:c_n_gt f14)) (:effects (:e_n_bot f14)))
(:rule (:conditions (:c_n_eq f14)) (:effects (:e_n_inc f14)))
(:rule (:conditions (:c_n_gt f14)) (:effects (:e_n_dec f14)))
(:rule (:conditions (:c_n_eq f14)) (:effects (:e_n_bot f14)))
)
Numer of sketch rules: 4
Number of selected features: 1
Maximum complexity of selected feature: 4
Sketch cycles
Instance: 0 p-1-0
0 (instance index=2, state index=0, atoms={free(left), free(right), at-robby(rooma), at(ball1,rooma)})
0 (instance index=2, state index=0, atoms={free(left), free(right), at-robby(rooma), at(ball1,rooma)})
Number of unsatisfied D2 facts: 12
Number of D2 facts: 22 of 256
2024-05-10 17:47:32,069 - Grounding Logic Program...
2024-05-10 17:47:32,083 - ..done
2024-05-10 17:47:32,083 - Solving Logic Program...
2024-05-10 17:47:32,086 - ..done
Clingo statistics:
{'call': 0.0, 'result': 1.0, 'signal': 0.0, 'exhausted': 1.0, 'costs': [8.0], 'lower': [8.0], 'concurrency': 32.0, 'winner': 6.0, 'times': {'total': 0.06519913673400879, 'cpu': 0.07622400000000029, 'solve': 0.002268075942993164, 'unsat': 0.0006301403045654297, 'sat': 0.0013511180877685547}, 'models': {'enumerated': 8.0, 'optimal': 1.0}}
Solution cost: [8.0]
Total time: 0.06519913673400879
CPU time: 0.07622400000000029
Solve time: 0.002268075942993164
2024-05-10 17:47:32,096 - Learned the following sketch:
(:policy
(:booleans )
(:numericals (f28 "n_count(r_primitive(carry,0,1))") (f25 "n_concept_distance(c_one_of(roomb),r_primitive(at,0,1),c_primitive(at-robby,0))"))
(:rule (:conditions (:c_n_eq f28) (:c_n_eq f25)) (:effects (:e_n_bot f28) (:e_n_inc f25)))
(:rule (:conditions (:c_n_gt f28) (:c_n_eq f25)) (:effects (:e_n_dec f28) (:e_n_bot f25)))
(:rule (:conditions (:c_n_gt f28) (:c_n_gt f25)) (:effects (:e_n_bot f28) (:e_n_dec f25)))
(:rule (:conditions (:c_n_eq f28) (:c_n_gt f25)) (:effects (:e_n_inc f28) (:e_n_bot f25)))
)
Numer of sketch rules: 4
Number of selected features: 2
Maximum complexity of selected feature: 4
2024-05-10 17:47:32,096 - Verifying learned sketch...
2024-05-10 17:47:32,109 - ..done
Sketch solves all instances!
================================================================================
2024-05-10 17:47:32,110 - Summary:
LearningStatistics:
    num_training_instances: 5
    num_selected_training_instances (|P|): 1
    num_states_in_selected_training_instances (|S|): 6
    num_states_in_complete_selected_training_instances (|S|): 8
    num_features_in_pool (|F|): 60
================================================================================
Resulting sketch:
(:policy
(:booleans )
(:numericals (f28 "n_count(r_primitive(carry,0,1))") (f25 "n_concept_distance(c_one_of(roomb),r_primitive(at,0,1),c_primitive(at-robby,0))"))
(:rule (:conditions (:c_n_eq f28) (:c_n_eq f25)) (:effects (:e_n_bot f28) (:e_n_inc f25)))
(:rule (:conditions (:c_n_gt f28) (:c_n_eq f25)) (:effects (:e_n_dec f28) (:e_n_bot f25)))
(:rule (:conditions (:c_n_gt f28) (:c_n_gt f25)) (:effects (:e_n_bot f28) (:e_n_dec f25)))
(:rule (:conditions (:c_n_eq f28) (:c_n_gt f25)) (:effects (:e_n_inc f28) (:e_n_bot f25)))
)
Numer of sketch rules: 4
Number of selected features: 2
Maximum complexity of selected feature: 4
================================================================================
Resulting minimized sketch:
(:policy
(:booleans )
(:numericals (f28 "n_count(r_primitive(carry,0,1))") (f25 "n_concept_distance(c_one_of(roomb),r_primitive(at,0,1),c_primitive(at-robby,0))"))
(:rule (:conditions (:c_n_eq f28) (:c_n_eq f25)) (:effects (:e_n_bot f28) (:e_n_inc f25)))
(:rule (:conditions (:c_n_gt f28) (:c_n_eq f25)) (:effects (:e_n_dec f28) (:e_n_bot f25)))
(:rule (:conditions (:c_n_gt f28) (:c_n_gt f25)) (:effects (:e_n_bot f28) (:e_n_dec f25)))
(:rule (:conditions (:c_n_eq f28) (:c_n_gt f25)) (:effects (:e_n_inc f28) (:e_n_bot f25)))
)
Numer of sketch rules: 4
Number of selected features: 2
Maximum complexity of selected feature: 4
================================================================================
================================================================================
Preprocessing time: 3 seconds.
ASP time: 1 seconds.
Verification time: 1 seconds.
Total time: 3 seconds.
Total memory: 0 GiB.
Num states in training data before symmetry pruning: 1084
Num states in training data after symmetry pruning: 90
================================================================================

